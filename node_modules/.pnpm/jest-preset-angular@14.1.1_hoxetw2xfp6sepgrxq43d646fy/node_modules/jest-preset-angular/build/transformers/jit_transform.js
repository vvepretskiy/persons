"use strict";var Kv=Object.create;var To=Object.defineProperty;var zv=Object.getOwnPropertyDescriptor;var Xv=Object.getOwnPropertyNames;var Yv=Object.getPrototypeOf,Qv=Object.prototype.hasOwnProperty;var Jv=(t,e)=>()=>(t&&(e=t(t=0)),e);var G=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Zv=(t,e)=>{for(var n in e)To(t,n,{get:e[n],enumerable:!0})},jp=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Xv(e))!Qv.call(t,s)&&s!==n&&To(t,s,{get:()=>e[s],enumerable:!(r=zv(e,s))||r.enumerable});return t};var T=(t,e,n)=>(n=t!=null?Kv(Yv(t)):{},jp(e||!t||!t.__esModule?To(n,"default",{value:t,enumerable:!0}):n,t)),eE=t=>jp(To({},"__esModule",{value:!0}),t);var R,S=Jv(()=>{"use strict";R=require("url").pathToFileURL(__filename)});var ao=G((FL,bg)=>{S();var QD="2.0.0",JD=Number.MAX_SAFE_INTEGER||9007199254740991,ZD=16,e0=250,t0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];bg.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ZD,MAX_SAFE_BUILD_LENGTH:e0,MAX_SAFE_INTEGER:JD,RELEASE_TYPES:t0,SEMVER_SPEC_VERSION:QD,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var lo=G(($L,Ng)=>{S();var n0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ng.exports=n0});var Js=G((qn,Dg)=>{S();var{MAX_SAFE_COMPONENT_LENGTH:cp,MAX_SAFE_BUILD_LENGTH:r0,MAX_LENGTH:s0}=ao(),i0=lo();qn=Dg.exports={};var o0=qn.re=[],a0=qn.safeRe=[],k=qn.src=[],P=qn.t={},l0=0,up="[a-zA-Z0-9-]",c0=[["\\s",1],["\\d",s0],[up,r0]],u0=t=>{for(let[e,n]of c0)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},z=(t,e,n)=>{let r=u0(e),s=l0++;i0(t,s,e),P[t]=s,k[s]=e,o0[s]=new RegExp(e,n?"g":void 0),a0[s]=new RegExp(r,n?"g":void 0)};z("NUMERICIDENTIFIER","0|[1-9]\\d*");z("NUMERICIDENTIFIERLOOSE","\\d+");z("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${up}*`);z("MAINVERSION",`(${k[P.NUMERICIDENTIFIER]})\\.(${k[P.NUMERICIDENTIFIER]})\\.(${k[P.NUMERICIDENTIFIER]})`);z("MAINVERSIONLOOSE",`(${k[P.NUMERICIDENTIFIERLOOSE]})\\.(${k[P.NUMERICIDENTIFIERLOOSE]})\\.(${k[P.NUMERICIDENTIFIERLOOSE]})`);z("PRERELEASEIDENTIFIER",`(?:${k[P.NUMERICIDENTIFIER]}|${k[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASEIDENTIFIERLOOSE",`(?:${k[P.NUMERICIDENTIFIERLOOSE]}|${k[P.NONNUMERICIDENTIFIER]})`);z("PRERELEASE",`(?:-(${k[P.PRERELEASEIDENTIFIER]}(?:\\.${k[P.PRERELEASEIDENTIFIER]})*))`);z("PRERELEASELOOSE",`(?:-?(${k[P.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${k[P.PRERELEASEIDENTIFIERLOOSE]})*))`);z("BUILDIDENTIFIER",`${up}+`);z("BUILD",`(?:\\+(${k[P.BUILDIDENTIFIER]}(?:\\.${k[P.BUILDIDENTIFIER]})*))`);z("FULLPLAIN",`v?${k[P.MAINVERSION]}${k[P.PRERELEASE]}?${k[P.BUILD]}?`);z("FULL",`^${k[P.FULLPLAIN]}$`);z("LOOSEPLAIN",`[v=\\s]*${k[P.MAINVERSIONLOOSE]}${k[P.PRERELEASELOOSE]}?${k[P.BUILD]}?`);z("LOOSE",`^${k[P.LOOSEPLAIN]}$`);z("GTLT","((?:<|>)?=?)");z("XRANGEIDENTIFIERLOOSE",`${k[P.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);z("XRANGEIDENTIFIER",`${k[P.NUMERICIDENTIFIER]}|x|X|\\*`);z("XRANGEPLAIN",`[v=\\s]*(${k[P.XRANGEIDENTIFIER]})(?:\\.(${k[P.XRANGEIDENTIFIER]})(?:\\.(${k[P.XRANGEIDENTIFIER]})(?:${k[P.PRERELEASE]})?${k[P.BUILD]}?)?)?`);z("XRANGEPLAINLOOSE",`[v=\\s]*(${k[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${k[P.XRANGEIDENTIFIERLOOSE]})(?:\\.(${k[P.XRANGEIDENTIFIERLOOSE]})(?:${k[P.PRERELEASELOOSE]})?${k[P.BUILD]}?)?)?`);z("XRANGE",`^${k[P.GTLT]}\\s*${k[P.XRANGEPLAIN]}$`);z("XRANGELOOSE",`^${k[P.GTLT]}\\s*${k[P.XRANGEPLAINLOOSE]}$`);z("COERCEPLAIN",`(^|[^\\d])(\\d{1,${cp}})(?:\\.(\\d{1,${cp}}))?(?:\\.(\\d{1,${cp}}))?`);z("COERCE",`${k[P.COERCEPLAIN]}(?:$|[^\\d])`);z("COERCEFULL",k[P.COERCEPLAIN]+`(?:${k[P.PRERELEASE]})?(?:${k[P.BUILD]})?(?:$|[^\\d])`);z("COERCERTL",k[P.COERCE],!0);z("COERCERTLFULL",k[P.COERCEFULL],!0);z("LONETILDE","(?:~>?)");z("TILDETRIM",`(\\s*)${k[P.LONETILDE]}\\s+`,!0);qn.tildeTrimReplace="$1~";z("TILDE",`^${k[P.LONETILDE]}${k[P.XRANGEPLAIN]}$`);z("TILDELOOSE",`^${k[P.LONETILDE]}${k[P.XRANGEPLAINLOOSE]}$`);z("LONECARET","(?:\\^)");z("CARETTRIM",`(\\s*)${k[P.LONECARET]}\\s+`,!0);qn.caretTrimReplace="$1^";z("CARET",`^${k[P.LONECARET]}${k[P.XRANGEPLAIN]}$`);z("CARETLOOSE",`^${k[P.LONECARET]}${k[P.XRANGEPLAINLOOSE]}$`);z("COMPARATORLOOSE",`^${k[P.GTLT]}\\s*(${k[P.LOOSEPLAIN]})$|^$`);z("COMPARATOR",`^${k[P.GTLT]}\\s*(${k[P.FULLPLAIN]})$|^$`);z("COMPARATORTRIM",`(\\s*)${k[P.GTLT]}\\s*(${k[P.LOOSEPLAIN]}|${k[P.XRANGEPLAIN]})`,!0);qn.comparatorTrimReplace="$1$2$3";z("HYPHENRANGE",`^\\s*(${k[P.XRANGEPLAIN]})\\s+-\\s+(${k[P.XRANGEPLAIN]})\\s*$`);z("HYPHENRANGELOOSE",`^\\s*(${k[P.XRANGEPLAINLOOSE]})\\s+-\\s+(${k[P.XRANGEPLAINLOOSE]})\\s*$`);z("STAR","(<|>)?=?\\s*\\*");z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ja=G((qL,_g)=>{S();var p0=Object.freeze({loose:!0}),h0=Object.freeze({}),f0=t=>t?typeof t!="object"?p0:t:h0;_g.exports=f0});var pp=G((HL,Pg)=>{S();var Rg=/^[0-9]+$/,kg=(t,e)=>{let n=Rg.test(t),r=Rg.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},d0=(t,e)=>kg(e,t);Pg.exports={compareIdentifiers:kg,rcompareIdentifiers:d0}});var Ze=G((jL,Fg)=>{S();var Ka=lo(),{MAX_LENGTH:Mg,MAX_SAFE_INTEGER:za}=ao(),{safeRe:Lg,t:Og}=Js(),m0=ja(),{compareIdentifiers:Zs}=pp(),hp=class t{constructor(e,n){if(n=m0(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Mg)throw new TypeError(`version is longer than ${Mg} characters`);Ka("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Lg[Og.LOOSE]:Lg[Og.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>za||this.major<0)throw new TypeError("Invalid major version");if(this.minor>za||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>za||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<za)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ka("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Zs(this.major,e.major)||Zs(this.minor,e.minor)||Zs(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(Ka("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Zs(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(Ka("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return Zs(r,s)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),Zs(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Fg.exports=hp});var Qr=G((zL,$g)=>{S();var Bg=Ze(),g0=(t,e,n=!1)=>{if(t instanceof Bg)return t;try{return new Bg(t,e)}catch(r){if(!n)return null;throw r}};$g.exports=g0});var Vg=G((YL,Ug)=>{S();var y0=Qr(),v0=(t,e)=>{let n=y0(t,e);return n?n.version:null};Ug.exports=v0});var Gg=G((JL,qg)=>{S();var E0=Qr(),S0=(t,e)=>{let n=E0(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};qg.exports=S0});var jg=G((eO,Wg)=>{S();var Hg=Ze(),w0=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new Hg(t instanceof Hg?t.version:t,n).inc(e,r,s).version}catch{return null}};Wg.exports=w0});var Xg=G((nO,zg)=>{S();var Kg=Qr(),T0=(t,e)=>{let n=Kg(t,null,!0),r=Kg(e,null,!0),s=n.compare(r);if(s===0)return null;let i=s>0,o=i?n:r,a=i?r:n,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let u=l?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};zg.exports=T0});var Qg=G((sO,Yg)=>{S();var x0=Ze(),C0=(t,e)=>new x0(t,e).major;Yg.exports=C0});var Zg=G((oO,Jg)=>{S();var I0=Ze(),A0=(t,e)=>new I0(t,e).minor;Jg.exports=A0});var ty=G((lO,ey)=>{S();var b0=Ze(),N0=(t,e)=>new b0(t,e).patch;ey.exports=N0});var ry=G((uO,ny)=>{S();var D0=Qr(),_0=(t,e)=>{let n=D0(t,e);return n&&n.prerelease.length?n.prerelease:null};ny.exports=_0});var Gt=G((hO,iy)=>{S();var sy=Ze(),R0=(t,e,n)=>new sy(t,n).compare(new sy(e,n));iy.exports=R0});var ay=G((dO,oy)=>{S();var k0=Gt(),P0=(t,e,n)=>k0(e,t,n);oy.exports=P0});var cy=G((gO,ly)=>{S();var M0=Gt(),L0=(t,e)=>M0(t,e,!0);ly.exports=L0});var Xa=G((vO,py)=>{S();var uy=Ze(),O0=(t,e,n)=>{let r=new uy(t,n),s=new uy(e,n);return r.compare(s)||r.compareBuild(s)};py.exports=O0});var fy=G((SO,hy)=>{S();var F0=Xa(),B0=(t,e)=>t.sort((n,r)=>F0(n,r,e));hy.exports=B0});var my=G((TO,dy)=>{S();var $0=Xa(),U0=(t,e)=>t.sort((n,r)=>$0(r,n,e));dy.exports=U0});var co=G((CO,gy)=>{S();var V0=Gt(),q0=(t,e,n)=>V0(t,e,n)>0;gy.exports=q0});var Ya=G((AO,yy)=>{S();var G0=Gt(),H0=(t,e,n)=>G0(t,e,n)<0;yy.exports=H0});var fp=G((NO,vy)=>{S();var W0=Gt(),j0=(t,e,n)=>W0(t,e,n)===0;vy.exports=j0});var dp=G((_O,Ey)=>{S();var K0=Gt(),z0=(t,e,n)=>K0(t,e,n)!==0;Ey.exports=z0});var Qa=G((kO,Sy)=>{S();var X0=Gt(),Y0=(t,e,n)=>X0(t,e,n)>=0;Sy.exports=Y0});var Ja=G((MO,wy)=>{S();var Q0=Gt(),J0=(t,e,n)=>Q0(t,e,n)<=0;wy.exports=J0});var mp=G((OO,Ty)=>{S();var Z0=fp(),e_=dp(),t_=co(),n_=Qa(),r_=Ya(),s_=Ja(),i_=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Z0(t,n,r);case"!=":return e_(t,n,r);case">":return t_(t,n,r);case">=":return n_(t,n,r);case"<":return r_(t,n,r);case"<=":return s_(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Ty.exports=i_});var Cy=G((BO,xy)=>{S();var o_=Ze(),a_=Qr(),{safeRe:Za,t:el}=Js(),l_=(t,e)=>{if(t instanceof o_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Za[el.COERCEFULL]:Za[el.COERCE]);else{let l=e.includePrerelease?Za[el.COERCERTLFULL]:Za[el.COERCERTL],c;for(;(c=l.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;let r=n[2],s=n[3]||"0",i=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",a=e.includePrerelease&&n[6]?`+${n[6]}`:"";return a_(`${r}.${s}.${i}${o}${a}`,e)};xy.exports=l_});var Ay=G((UO,Iy)=>{S();var gp=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}};Iy.exports=gp});var Ht=G((qO,_y)=>{S();var yp=class t{constructor(e,n){if(n=u_(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof vp)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!Ny(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&y_(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&m_)|(this.options.loose&&g_))+":"+e,s=by.get(r);if(s)return s;let i=this.options.loose,o=i?vt[lt.HYPHENRANGELOOSE]:vt[lt.HYPHENRANGE];e=e.replace(o,b_(this.options.includePrerelease)),ye("hyphen replace",e),e=e.replace(vt[lt.COMPARATORTRIM],h_),ye("comparator trim",e),e=e.replace(vt[lt.TILDETRIM],f_),ye("tilde trim",e),e=e.replace(vt[lt.CARETTRIM],d_),ye("caret trim",e);let a=e.split(" ").map(h=>v_(h,this.options)).join(" ").split(/\s+/).map(h=>A_(h,this.options));i&&(a=a.filter(h=>(ye("loose invalid filter",h,this.options),!!h.match(vt[lt.COMPARATORLOOSE])))),ye("range list",a);let l=new Map,c=a.map(h=>new vp(h,this.options));for(let h of c){if(Ny(h))return[h];l.set(h.value,h)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return by.set(r,u),u}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Dy(r,n)&&e.set.some(s=>Dy(s,n)&&r.every(i=>s.every(o=>i.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new p_(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(N_(this.set[n],e,this.options))return!0;return!1}};_y.exports=yp;var c_=Ay(),by=new c_,u_=ja(),vp=uo(),ye=lo(),p_=Ze(),{safeRe:vt,t:lt,comparatorTrimReplace:h_,tildeTrimReplace:f_,caretTrimReplace:d_}=Js(),{FLAG_INCLUDE_PRERELEASE:m_,FLAG_LOOSE:g_}=ao(),Ny=t=>t.value==="<0.0.0-0",y_=t=>t.value==="",Dy=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(i=>s.intersects(i,e)),s=r.pop();return n},v_=(t,e)=>(ye("comp",t,e),t=w_(t,e),ye("caret",t),t=E_(t,e),ye("tildes",t),t=x_(t,e),ye("xrange",t),t=I_(t,e),ye("stars",t),t),ct=t=>!t||t.toLowerCase()==="x"||t==="*",E_=(t,e)=>t.trim().split(/\s+/).map(n=>S_(n,e)).join(" "),S_=(t,e)=>{let n=e.loose?vt[lt.TILDELOOSE]:vt[lt.TILDE];return t.replace(n,(r,s,i,o,a)=>{ye("tilde",t,r,s,i,o,a);let l;return ct(s)?l="":ct(i)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:ct(o)?l=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(ye("replaceTilde pr",a),l=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):l=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,ye("tilde return",l),l})},w_=(t,e)=>t.trim().split(/\s+/).map(n=>T_(n,e)).join(" "),T_=(t,e)=>{ye("caret",t,e);let n=e.loose?vt[lt.CARETLOOSE]:vt[lt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,i,o,a,l)=>{ye("caret",t,s,i,o,a,l);let c;return ct(i)?c="":ct(o)?c=`>=${i}.0.0${r} <${+i+1}.0.0-0`:ct(a)?i==="0"?c=`>=${i}.${o}.0${r} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.0${r} <${+i+1}.0.0-0`:l?(ye("replaceCaret pr",l),i==="0"?o==="0"?c=`>=${i}.${o}.${a}-${l} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}-${l} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a}-${l} <${+i+1}.0.0-0`):(ye("no pr"),i==="0"?o==="0"?c=`>=${i}.${o}.${a}${r} <${i}.${o}.${+a+1}-0`:c=`>=${i}.${o}.${a}${r} <${i}.${+o+1}.0-0`:c=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),ye("caret return",c),c})},x_=(t,e)=>(ye("replaceXRanges",t,e),t.split(/\s+/).map(n=>C_(n,e)).join(" ")),C_=(t,e)=>{t=t.trim();let n=e.loose?vt[lt.XRANGELOOSE]:vt[lt.XRANGE];return t.replace(n,(r,s,i,o,a,l)=>{ye("xRange",t,r,s,i,o,a,l);let c=ct(i),u=c||ct(o),h=u||ct(a),d=h;return s==="="&&d&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&d?(u&&(o=0),a=0,s===">"?(s=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(l="-0"),r=`${s+i}.${o}.${a}${l}`):u?r=`>=${i}.0.0${l} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${o}.0${l} <${i}.${+o+1}.0-0`),ye("xRange return",r),r})},I_=(t,e)=>(ye("replaceStars",t,e),t.trim().replace(vt[lt.STAR],"")),A_=(t,e)=>(ye("replaceGTE0",t,e),t.trim().replace(vt[e.includePrerelease?lt.GTE0PRE:lt.GTE0],"")),b_=t=>(e,n,r,s,i,o,a,l,c,u,h,d)=>(ct(r)?n="":ct(s)?n=`>=${r}.0.0${t?"-0":""}`:ct(i)?n=`>=${r}.${s}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,ct(c)?l="":ct(u)?l=`<${+c+1}.0.0-0`:ct(h)?l=`<${c}.${+u+1}.0-0`:d?l=`<=${c}.${u}.${h}-${d}`:t?l=`<${c}.${u}.${+h+1}-0`:l=`<=${l}`,`${n} ${l}`.trim()),N_=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(ye(t[r].semver),t[r].semver!==vp.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var uo=G((HO,Oy)=>{S();var po=Symbol("SemVer ANY"),wp=class t{static get ANY(){return po}constructor(e,n){if(n=Ry(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Sp("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===po?this.value="":this.value=this.operator+this.semver.version,Sp("comp",this)}parse(e){let n=this.options.loose?ky[Py.COMPARATORLOOSE]:ky[Py.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new My(r[2],this.options.loose):this.semver=po}toString(){return this.value}test(e){if(Sp("Comparator.test",e,this.options.loose),this.semver===po||e===po)return!0;if(typeof e=="string")try{e=new My(e,this.options)}catch{return!1}return Ep(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ly(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Ly(this.value,n).test(e.semver):(n=Ry(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Ep(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Ep(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Oy.exports=wp;var Ry=ja(),{safeRe:ky,t:Py}=Js(),Ep=mp(),Sp=lo(),My=Ze(),Ly=Ht()});var ho=G((jO,Fy)=>{S();var D_=Ht(),__=(t,e,n)=>{try{e=new D_(e,n)}catch{return!1}return e.test(t)};Fy.exports=__});var $y=G((zO,By)=>{S();var R_=Ht(),k_=(t,e)=>new R_(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));By.exports=k_});var Vy=G((YO,Uy)=>{S();var P_=Ze(),M_=Ht(),L_=(t,e,n)=>{let r=null,s=null,i=null;try{i=new M_(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===-1)&&(r=o,s=new P_(r,n))}),r};Uy.exports=L_});var Gy=G((JO,qy)=>{S();var O_=Ze(),F_=Ht(),B_=(t,e,n)=>{let r=null,s=null,i=null;try{i=new F_(e,n)}catch{return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===1)&&(r=o,s=new O_(r,n))}),r};qy.exports=B_});var jy=G((e2,Wy)=>{S();var Tp=Ze(),$_=Ht(),Hy=co(),U_=(t,e)=>{t=new $_(t,e);let n=new Tp("0.0.0");if(t.test(n)||(n=new Tp("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let s=t.set[r],i=null;s.forEach(o=>{let a=new Tp(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Hy(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!n||Hy(n,i))&&(n=i)}return n&&t.test(n)?n:null};Wy.exports=U_});var zy=G((n2,Ky)=>{S();var V_=Ht(),q_=(t,e)=>{try{return new V_(t,e).range||"*"}catch{return null}};Ky.exports=q_});var tl=G((s2,Jy)=>{S();var G_=Ze(),Qy=uo(),{ANY:H_}=Qy,W_=Ht(),j_=ho(),Xy=co(),Yy=Ya(),K_=Ja(),z_=Qa(),X_=(t,e,n,r)=>{t=new G_(t,r),e=new W_(e,r);let s,i,o,a,l;switch(n){case">":s=Xy,i=K_,o=Yy,a=">",l=">=";break;case"<":s=Yy,i=z_,o=Xy,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(j_(t,e,r))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],h=null,d=null;if(u.forEach(g=>{g.semver===H_&&(g=new Qy(">=0.0.0")),h=h||g,d=d||g,s(g.semver,h.semver,r)?h=g:o(g.semver,d.semver,r)&&(d=g)}),h.operator===a||h.operator===l||(!d.operator||d.operator===a)&&i(t,d.semver))return!1;if(d.operator===l&&o(t,d.semver))return!1}return!0};Jy.exports=X_});var ev=G((o2,Zy)=>{S();var Y_=tl(),Q_=(t,e,n)=>Y_(t,e,">",n);Zy.exports=Q_});var nv=G((l2,tv)=>{S();var J_=tl(),Z_=(t,e,n)=>J_(t,e,"<",n);tv.exports=Z_});var iv=G((u2,sv)=>{S();var rv=Ht(),eR=(t,e,n)=>(t=new rv(t,n),e=new rv(e,n),t.intersects(e,n));sv.exports=eR});var av=G((h2,ov)=>{S();var tR=ho(),nR=Gt();ov.exports=(t,e,n)=>{let r=[],s=null,i=null,o=t.sort((u,h)=>nR(u,h,n));for(let u of o)tR(u,e,n)?(i=u,s||(s=u)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);let a=[];for(let[u,h]of r)u===h?a.push(u):!h&&u===o[0]?a.push("*"):h?u===o[0]?a.push(`<=${h}`):a.push(`${u} - ${h}`):a.push(`>=${u}`);let l=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var fv=G((d2,hv)=>{S();var lv=Ht(),Cp=uo(),{ANY:xp}=Cp,fo=ho(),Ip=Gt(),rR=(t,e,n={})=>{if(t===e)return!0;t=new lv(t,n),e=new lv(e,n);let r=!1;e:for(let s of t.set){for(let i of e.set){let o=iR(s,i,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},sR=[new Cp(">=0.0.0-0")],cv=[new Cp(">=0.0.0")],iR=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===xp){if(e.length===1&&e[0].semver===xp)return!0;n.includePrerelease?t=sR:t=cv}if(e.length===1&&e[0].semver===xp){if(n.includePrerelease)return!0;e=cv}let r=new Set,s,i;for(let g of t)g.operator===">"||g.operator===">="?s=uv(s,g,n):g.operator==="<"||g.operator==="<="?i=pv(i,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(s&&i){if(o=Ip(s.semver,i.semver,n),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let g of r){if(s&&!fo(g,String(s),n)||i&&!fo(g,String(i),n))return null;for(let y of e)if(!fo(g,String(y),n))return!1;return!0}let a,l,c,u,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,d=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let g of e){if(u=u||g.operator===">"||g.operator===">=",c=c||g.operator==="<"||g.operator==="<=",s){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator===">"||g.operator===">="){if(a=uv(s,g,n),a===g&&a!==s)return!1}else if(s.operator===">="&&!fo(s.semver,String(g),n))return!1}if(i){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator==="<"||g.operator==="<="){if(l=pv(i,g,n),l===g&&l!==i)return!1}else if(i.operator==="<="&&!fo(i.semver,String(g),n))return!1}if(!g.operator&&(i||s)&&o!==0)return!1}return!(s&&c&&!i&&o!==0||i&&u&&!s&&o!==0||d||h)},uv=(t,e,n)=>{if(!t)return e;let r=Ip(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},pv=(t,e,n)=>{if(!t)return e;let r=Ip(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};hv.exports=rR});var yv=G((g2,gv)=>{S();var Ap=Js(),dv=ao(),oR=Ze(),mv=pp(),aR=Qr(),lR=Vg(),cR=Gg(),uR=jg(),pR=Xg(),hR=Qg(),fR=Zg(),dR=ty(),mR=ry(),gR=Gt(),yR=ay(),vR=cy(),ER=Xa(),SR=fy(),wR=my(),TR=co(),xR=Ya(),CR=fp(),IR=dp(),AR=Qa(),bR=Ja(),NR=mp(),DR=Cy(),_R=uo(),RR=Ht(),kR=ho(),PR=$y(),MR=Vy(),LR=Gy(),OR=jy(),FR=zy(),BR=tl(),$R=ev(),UR=nv(),VR=iv(),qR=av(),GR=fv();gv.exports={parse:aR,valid:lR,clean:cR,inc:uR,diff:pR,major:hR,minor:fR,patch:dR,prerelease:mR,compare:gR,rcompare:yR,compareLoose:vR,compareBuild:ER,sort:SR,rsort:wR,gt:TR,lt:xR,eq:CR,neq:IR,gte:AR,lte:bR,cmp:NR,coerce:DR,Comparator:_R,Range:RR,satisfies:kR,toComparators:PR,maxSatisfying:MR,minSatisfying:LR,minVersion:OR,validRange:FR,outside:BR,gtr:$R,ltr:UR,intersects:VR,simplifyRange:qR,subset:GR,SemVer:oR,re:Ap.re,src:Ap.src,tokens:Ap.t,SEMVER_SPEC_VERSION:dv.SEMVER_SPEC_VERSION,RELEASE_TYPES:dv.RELEASE_TYPES,compareIdentifiers:mv.compareIdentifiers,rcompareIdentifiers:mv.rcompareIdentifiers}});var UP={};Zv(UP,{angularJitApplicationTransform:()=>ip});module.exports=eE(UP);S();S();var Wv=require("module");S();var gg=require("module");S();var og=require("module");S();var jm=require("module");S();var Xp=require("module");S();var Kp=require("module"),ts=(0,Kp.createRequire)(R),zp=(t=>typeof ts<"u"?ts:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof ts<"u"?ts:e)[n]}):t)(function(t){if(typeof ts<"u")return ts.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var rE=T(require("typescript"),1),ze=T(require("fs"),1),Qp=require("module"),ut=T(require("path"),1),Jp=require("url"),WP=(0,Xp.createRequire)(R);var tE=class{exists(t){throw ue()}readFile(t){throw ue()}readFileBuffer(t){throw ue()}writeFile(t,e,n){throw ue()}removeFile(t){throw ue()}symlink(t,e){throw ue()}readdir(t){throw ue()}lstat(t){throw ue()}stat(t){throw ue()}pwd(){throw ue()}chdir(t){throw ue()}extname(t){throw ue()}copyFile(t,e){throw ue()}moveFile(t,e){throw ue()}ensureDir(t){throw ue()}removeDeep(t){throw ue()}isCaseSensitive(){throw ue()}resolve(...t){throw ue()}dirname(t){throw ue()}join(t,...e){throw ue()}isRoot(t){throw ue()}isRooted(t){throw ue()}relative(t,e){throw ue()}basename(t,e){throw ue()}realpath(t){throw ue()}getDefaultLibLocation(){throw ue()}normalize(t){throw ue()}};function ue(){return new Error("FileSystem has not been configured. Please call `setFileSystem()` before calling this method.")}var nE=new tE;function Yp(t){nE=t}var KP=Symbol("AbsolutePath");var sE=class{pwd(){return this.normalize(process.cwd())}chdir(t){process.chdir(t)}resolve(...t){return this.normalize(ut.resolve(...t))}dirname(t){return this.normalize(ut.dirname(t))}join(t,...e){return this.normalize(ut.join(t,...e))}isRoot(t){return this.dirname(t)===this.normalize(t)}isRooted(t){return ut.isAbsolute(t)}relative(t,e){return this.normalize(ut.relative(t,e))}basename(t,e){return ut.basename(t,e)}extname(t){return ut.extname(t)}normalize(t){return t.replace(/\\/g,"/")}},il=typeof __filename<"u",Zp=il?null:R,iE=il?__filename:(0,Jp.fileURLToPath)(Zp),oE=class extends sE{constructor(){super(...arguments),this._caseSensitive=void 0}isCaseSensitive(){return this._caseSensitive===void 0&&(this._caseSensitive=!ze.default.existsSync(this.normalize(aE(iE)))),this._caseSensitive}exists(t){return ze.default.existsSync(t)}readFile(t){return ze.default.readFileSync(t,"utf8")}readFileBuffer(t){return ze.default.readFileSync(t)}readdir(t){return ze.default.readdirSync(t)}lstat(t){return ze.default.lstatSync(t)}stat(t){return ze.default.statSync(t)}realpath(t){return this.resolve(ze.default.realpathSync(t))}getDefaultLibLocation(){let t=il?zp:(0,Qp.createRequire)(Zp);return this.resolve(t.resolve("typescript"),"..")}},eh=class extends oE{writeFile(t,e,n=!1){ze.default.writeFileSync(t,e,n?{flag:"wx"}:void 0)}removeFile(t){ze.default.unlinkSync(t)}symlink(t,e){ze.default.symlinkSync(t,e)}copyFile(t,e){ze.default.copyFileSync(t,e)}moveFile(t,e){ze.default.renameSync(t,e)}ensureDir(t){ze.default.mkdirSync(t,{recursive:!0})}removeDeep(t){ze.default.rmdirSync(t,{recursive:!0})}};function aE(t){return t.replace(/\w/g,e=>e.toUpperCase()===e?e.toLowerCase():e.toUpperCase())}var zs=T(require("typescript"),1),M=T(require("typescript"),1),io=T(require("typescript"),1),Be=T(require("typescript"),1),Ou=T(require("typescript"),1),Xm=T(require("typescript"),1);S();var th=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),Yt=class t{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){let n=[],r=(l,c)=>{c.notSelectors.length>0&&!c.element&&c.classNames.length==0&&c.attrs.length==0&&(c.element="*"),l.push(c)},s=new t,i,o=s,a=!1;for(th.lastIndex=0;i=th.exec(e);){if(i[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,s.notSelectors.push(o)}let l=i[2];if(l){let u=i[3];u==="#"?o.addAttribute("id",l.slice(1)):u==="."?o.addClassName(l.slice(1)):o.setElement(l)}let c=i[4];if(c&&o.addAttribute(o.unescapeAttribute(c),i[6]),i[7]&&(a=!1,o=s),i[8]){if(a)throw new Error("Multiple selectors in :not are not supported");r(n,s),s=o=new t}}return r(n,s),n}unescapeAttribute(e){let n="",r=!1;for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"){r=!0;continue}if(i==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),s=this.attrs[n+1];e+=`[${r}${s?"="+s:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},er=class t{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let r=null;e.length>1&&(r=new Nl(e),this._listContexts.push(r));for(let s=0;s<e.length;s++)this._addSelectable(e[s],n,r)}_addSelectable(e,n,r){let s=this,i=e.element,o=e.classNames,a=e.attrs,l=new Dl(e,n,r);if(i&&(a.length===0&&o.length===0?this._addTerminal(s._elementMap,i,l):s=this._addPartial(s._elementPartialMap,i)),o)for(let c=0;c<o.length;c++){let u=a.length===0&&c===o.length-1,h=o[c];u?this._addTerminal(s._classMap,h,l):s=this._addPartial(s._classPartialMap,h)}if(a)for(let c=0;c<a.length;c+=2){let u=c===a.length-2,h=a[c],d=a[c+1];if(u){let g=s._attrValueMap,y=g.get(h);y||(y=new Map,g.set(h,y)),this._addTerminal(y,d,l)}else{let g=s._attrValuePartialMap,y=g.get(h);y||(y=new Map,g.set(h,y)),s=this._addPartial(y,d)}}}_addTerminal(e,n,r){let s=e.get(n);s||(s=[],e.set(n,s)),s.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,s=e.element,i=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,s,e,n)||r,r=this._matchPartial(this._elementPartialMap,s,e,n)||r,i)for(let a=0;a<i.length;a++){let l=i[a];r=this._matchTerminal(this._classMap,l,e,n)||r,r=this._matchPartial(this._classPartialMap,l,e,n)||r}if(o)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1],u=this._attrValueMap.get(l);c&&(r=this._matchTerminal(u,"",e,n)||r),r=this._matchTerminal(u,c,e,n)||r;let h=this._attrValuePartialMap.get(l);c&&(r=this._matchPartial(h,"",e,n)||r),r=this._matchPartial(h,c,e,n)||r}return r}_matchTerminal(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let a,l=!1;for(let c=0;c<i.length;c++)a=i[c],l=a.finalize(r,s)||l;return l}_matchPartial(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(r,s):!1}},Nl=class{constructor(e){this.selectors=e,this.alreadyMatched=!1}},Dl=class{constructor(e,n,r){this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!er.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}};var un;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(un||(un={}));var Ro;(function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"})(Ro||(Ro={}));var cs;(function(t){t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"})(cs||(cs={}));var _l={name:"custom-elements"},Rl={name:"no-errors-schema"};var le;(function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"})(le||(le={}));var nh;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"})(nh||(nh={}));function lE(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function cE(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function uE(t){let e=lE(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>cE(r)):[];return e.concat(...n)}function ou(t){return t?Yt.parse(t).map(uE):[]}var ko;function pE(t){return mE(dE(t.nodes).join("")+`[${t.meaning}]`)}function hE(t){return t.id||Wf(t)}function Wf(t){let e=new kl,n=t.nodes.map(r=>r.visit(e,null));return jf(n.join(""),t.meaning)}var Po=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},fE=new Po;function dE(t){return t.map(e=>e.visit(fE,null))}var kl=class extends Po{visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.type}, ${r.join(", ")}}`}};function mE(t){ko??=new TextEncoder;let e=[...ko.encode(t)],n=vE(e,Mo.Big),r=e.length*8,s=new Uint32Array(80),i=1732584193,o=4023233417,a=2562383102,l=271733878,c=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let u=0;u<n.length;u+=16){let h=i,d=o,g=a,y=l,C=c;for(let A=0;A<80;A++){A<16?s[A]=n[u+A]:s[A]=ol(s[A-3]^s[A-8]^s[A-14]^s[A-16],1);let D=gE(A,o,a,l),U=D[0],te=D[1],ve=[ol(i,5),U,c,te,s[A]].reduce(ns);c=l,l=a,a=ol(o,30),o=i,i=ve}i=ns(i,h),o=ns(o,d),a=ns(a,g),l=ns(l,y),c=ns(c,C)}return ei(i)+ei(o)+ei(a)+ei(l)+ei(c)}function ei(t){return(t>>>0).toString(16).padStart(8,"0")}function gE(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function rh(t){ko??=new TextEncoder;let e=ko.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=sh(n,e.length,0),s=sh(n,e.length,102072);return r==0&&(s==0||s==1)&&(r=r^319790063,s=s^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(s))}function jf(t,e=""){let n=rh(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=rh(e)),BigInt.asUintN(63,n).toString()}function sh(t,e,n){let r=2654435769,s=2654435769,i=0,o=e-12;for(;i<=o;i+=12){r+=t.getUint32(i,!0),s+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let l=ih(r,s,n);r=l[0],s=l[1],n=l[2]}let a=e-i;return n+=e,a>=4?(r+=t.getUint32(i,!0),i+=4,a>=8?(s+=t.getUint32(i,!0),i+=4,a>=9&&(n+=t.getUint8(i++)<<8),a>=10&&(n+=t.getUint8(i++)<<16),a===11&&(n+=t.getUint8(i++)<<24)):(a>=5&&(s+=t.getUint8(i++)),a>=6&&(s+=t.getUint8(i++)<<8),a===7&&(s+=t.getUint8(i++)<<16))):(a>=1&&(r+=t.getUint8(i++)),a>=2&&(r+=t.getUint8(i++)<<8),a===3&&(r+=t.getUint8(i++)<<16)),ih(r,s,n)[2]}function ih(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var Mo;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(Mo||(Mo={}));function ns(t,e){return yE(t,e)[1]}function yE(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function ol(t,e){return t<<e|t>>>32-e}function vE(t,e){let n=t.length+3>>>2,r=[];for(let s=0;s<n;s++)r[s]=EE(t,s*4,e);return r}function oh(t,e){return e>=t.length?0:t[e]}function EE(t,e,n){let r=0;if(n===Mo.Big)for(let s=0;s<4;s++)r+=oh(t,e+s)<<24-8*s;else for(let s=0;s<4;s++)r+=oh(t,e+s)<<8*s;return r}var mi;(function(t){t[t.None=0]="None",t[t.Const=1]="Const"})(mi||(mi={}));var tr=class{constructor(e=mi.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Bt;(function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"})(Bt||(Bt={}));var Qt=class extends tr{constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},nt=class extends tr{constructor(e,n,r=null){super(n),this.value=e,this.typeParams=r}visitType(e,n){return e.visitExpressionType(this,n)}},Pl=class extends tr{constructor(e,n){super(n),this.of=e}visitType(e,n){return e.visitArrayType(this,n)}},Ml=class extends tr{constructor(e,n){super(n),this.valueType=e||null}visitType(e,n){return e.visitMapType(this,n)}},Ss=class extends tr{constructor(e,n){super(n),this.type=e}visitType(e,n){return e.visitTransplantedType(this,n)}},gr=new Qt(Bt.Dynamic),wt=new Qt(Bt.Inferred),Kf=new Qt(Bt.Bool),SE=new Qt(Bt.Int),ba=new Qt(Bt.Number),au=new Qt(Bt.String),wE=new Qt(Bt.Function),Jt=new Qt(Bt.None),mn;(function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"})(mn||(mn={}));var I;(function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseOr=11]="BitwiseOr",t[t.BitwiseAnd=12]="BitwiseAnd",t[t.Lower=13]="Lower",t[t.LowerEquals=14]="LowerEquals",t[t.Bigger=15]="Bigger",t[t.BiggerEquals=16]="BiggerEquals",t[t.NullishCoalesce=17]="NullishCoalesce"})(I||(I={}));function zf(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function Xf(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(!n(t[s],e[s]))return!1;return!0}function st(t,e){return Xf(t,e,(n,r)=>n.isEquivalent(r))}var ne=class{constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new it(this,e,null,n)}key(e,n,r){return new gn(this,e,n,r)}callFn(e,n,r){return new He(this,e,null,n,r)}instantiate(e,n,r){return new Ts(this,e,n,r)}conditional(e,n=null,r){return new Zt(this,e,n,null,r)}equals(e,n){return new Z(I.Equals,this,e,null,n)}notEquals(e,n){return new Z(I.NotEquals,this,e,null,n)}identical(e,n){return new Z(I.Identical,this,e,null,n)}notIdentical(e,n){return new Z(I.NotIdentical,this,e,null,n)}minus(e,n){return new Z(I.Minus,this,e,null,n)}plus(e,n){return new Z(I.Plus,this,e,null,n)}divide(e,n){return new Z(I.Divide,this,e,null,n)}multiply(e,n){return new Z(I.Multiply,this,e,null,n)}modulo(e,n){return new Z(I.Modulo,this,e,null,n)}and(e,n){return new Z(I.And,this,e,null,n)}bitwiseOr(e,n,r=!0){return new Z(I.BitwiseOr,this,e,null,n,r)}bitwiseAnd(e,n,r=!0){return new Z(I.BitwiseAnd,this,e,null,n,r)}or(e,n){return new Z(I.Or,this,e,null,n)}lower(e,n){return new Z(I.Lower,this,e,null,n)}lowerEquals(e,n){return new Z(I.LowerEquals,this,e,null,n)}bigger(e,n){return new Z(I.Bigger,this,e,null,n)}biggerEquals(e,n){return new Z(I.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(Yf,e)}nullishCoalesce(e,n){return new Z(I.NullishCoalesce,this,e,null,n)}toStmt(){return new xt(this,null)}},Tt=class t extends ne{constructor(e,n,r){super(n,r),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new gi(this.name,e,null,this.sourceSpan)}},Rr=class t extends ne{constructor(e,n,r){super(n,r),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},$=class t extends ne{constructor(e,n,r){super(n,r),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},gi=class t extends ne{constructor(e,n,r,s){super(r||n.type,s),this.name=e,this.value=n}isEquivalent(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteVarExpr(this,n)}clone(){return new t(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new We(this.name,this.value,e,n,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(wt,Ae.Final)}},ws=class t extends ne{constructor(e,n,r,s,i){super(s||r.type,i),this.receiver=e,this.index=n,this.value=r}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteKeyExpr(this,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},kr=class t extends ne{constructor(e,n,r,s,i){super(s||r.type,i),this.receiver=e,this.name=n,this.value=r}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWritePropExpr(this,n)}clone(){return new t(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},He=class t extends ne{constructor(e,n,r,s,i=!1){super(r,s),this.fn=e,this.args=n,this.pure=i}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&st(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},yi=class t extends ne{constructor(e,n,r,s){super(r,s),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&Xf(this.template.elements,e.template.elements,(n,r)=>n.text===r.text)&&st(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Ts=class t extends ne{constructor(e,n,r,s){super(r,s),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&st(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},Te=class t extends ne{constructor(e,n,r){super(n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Lo=class t{constructor(e,n){this.elements=e,this.expressions=n}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},Oo=class t{constructor(e,n,r){this.text=e,this.sourceSpan=n,this.rawText=r??n?.toString()??Ll(Do(e))}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Zn=class{constructor(e,n){this.text=e,this.sourceSpan=n}},br=class{constructor(e,n,r){this.text=e,this.sourceSpan=n,this.associatedMessage=r}},TE="|",ah="@@",xE="\u241F",vi=class t extends ne{constructor(e,n,r,s,i){super(au,i),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=r,this.expressions=s}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${TE}${e}`),this.metaBlock.customId&&(e=`${e}${ah}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${xE}${n}`}),lh(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],r=this.messageParts[e],s=n.text;return n.associatedMessage?.legacyIds.length===0&&(s+=`${ah}${jf(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),lh(s,r.text,this.getMessagePartSourceSpan(e))}},Do=t=>t.replace(/\\/g,"\\\\"),CE=t=>t.replace(/^:/,"\\:"),IE=t=>t.replace(/:/g,"\\:"),Ll=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function lh(t,e,n){return t===""?{cooked:e,raw:Ll(CE(Do(e))),range:n}:{cooked:`:${t}:${e}`,raw:Ll(`:${IE(Do(t))}:${Do(e)}`),range:n}}var Fe=class t extends ne{constructor(e,n,r=null,s){super(n,s),this.value=e,this.typeParams=r}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}},Fo=class{constructor(e,n,r){this.moduleName=e,this.name=n,this.runtime=r}},Zt=class t extends ne{constructor(e,n,r=null,s,i){super(s||n.type,i),this.condition=e,this.falseCase=r,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&zf(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}},Ol=class t extends ne{constructor(e,n){super(null,n),this.url=e}isEquivalent(e){return e instanceof t&&this.url===e.url}isConstant(){return!1}visitExpression(e,n){return e.visitDynamicImportExpr(this,n)}clone(){return new t(this.url,this.sourceSpan)}},xs=class t extends ne{constructor(e,n){super(Kf,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},ke=class t{constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},Xt=class t extends ne{constructor(e,n,r,s,i){super(r,s),this.params=e,this.statements=n,this.name=i}isEquivalent(e){return(e instanceof t||e instanceof Is)&&st(this.params,e.params)&&st(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new Is(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},_n=class t extends ne{constructor(e,n,r,s){super(r,s),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!st(this.params,e.params)?!1:this.body instanceof ne&&e.body instanceof ne?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?st(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new We(e,this,wt,n,this.sourceSpan)}},nr=class t extends ne{constructor(e,n,r,s,i=!0){super(r||ba,s),this.operator=e,this.expr=n,this.parens=i}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},Z=class t extends ne{constructor(e,n,r,s,i,o=!0){super(s||n.type,i),this.operator=e,this.rhs=r,this.parens=o,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},it=class t extends ne{constructor(e,n,r,s){super(r,s),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new kr(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},gn=class t extends ne{constructor(e,n,r,s){super(r,s),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new ws(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},ot=class t extends ne{constructor(e,n,r){super(n,r),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&st(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},Pr=class t{constructor(e,n,r){this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},$t=class t extends ne{constructor(e,n,r){super(n,r),this.entries=e,this.valueType=null,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&st(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}},Fl=class t extends ne{constructor(e,n){super(e[e.length-1].type,n),this.parts=e}isEquivalent(e){return e instanceof t&&st(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,n){return e.visitCommaExpr(this,n)}clone(){return new t(this.parts.map(e=>e.clone()))}},Cs=new Te(null,null,null),Yf=new Te(null,wt,null),Ae;(function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"})(Ae||(Ae={}));var Ei=class{constructor(e,n,r){this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},Si=class extends Ei{constructor(e){super("",!0,!0),this.tags=e}toString(){return RE(this.tags)}},rr=class{constructor(e=Ae.None,n=null,r){this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},We=class t extends rr{constructor(e,n,r,s,i,o){super(s,i,o),this.name=e,this.value=n,this.type=r||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},Is=class t extends rr{constructor(e,n,r,s,i,o,a){super(i,o,a),this.name=e,this.params=n,this.statements=r,this.type=s||null}isEquivalent(e){return e instanceof t&&st(this.params,e.params)&&st(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},xt=class t extends rr{constructor(e,n,r){super(Ae.None,n,r),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},Qe=class t extends rr{constructor(e,n=null,r){super(Ae.None,n,r),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},wi=class t extends rr{constructor(e,n,r=[],s,i){super(Ae.None,s,i),this.condition=e,this.trueCase=n,this.falseCase=r}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&st(this.trueCase,e.trueCase)&&st(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}},Bl=class{visitType(e,n){return e}visitExpression(e,n){return e.type&&e.type.visitType(this,n),e}visitBuiltinType(e,n){return this.visitType(e,n)}visitExpressionType(e,n){return e.value.visitExpression(this,n),e.typeParams!==null&&e.typeParams.forEach(r=>this.visitType(r,n)),this.visitType(e,n)}visitArrayType(e,n){return this.visitType(e,n)}visitMapType(e,n){return this.visitType(e,n)}visitTransplantedType(e,n){return e}visitWrappedNodeExpr(e,n){return e}visitTypeofExpr(e,n){return this.visitExpression(e,n)}visitReadVarExpr(e,n){return this.visitExpression(e,n)}visitWriteVarExpr(e,n){return e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWriteKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitWritePropExpr(e,n){return e.receiver.visitExpression(this,n),e.value.visitExpression(this,n),this.visitExpression(e,n)}visitDynamicImportExpr(e,n){return this.visitExpression(e,n)}visitInvokeFunctionExpr(e,n){return e.fn.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitTaggedTemplateExpr(e,n){return e.tag.visitExpression(this,n),this.visitAllExpressions(e.template.expressions,n),this.visitExpression(e,n)}visitInstantiateExpr(e,n){return e.classExpr.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitLiteralExpr(e,n){return this.visitExpression(e,n)}visitLocalizedString(e,n){return this.visitExpression(e,n)}visitExternalExpr(e,n){return e.typeParams&&e.typeParams.forEach(r=>r.visitType(this,n)),this.visitExpression(e,n)}visitConditionalExpr(e,n){return e.condition.visitExpression(this,n),e.trueCase.visitExpression(this,n),e.falseCase.visitExpression(this,n),this.visitExpression(e,n)}visitNotExpr(e,n){return e.condition.visitExpression(this,n),this.visitExpression(e,n)}visitFunctionExpr(e,n){return this.visitAllStatements(e.statements,n),this.visitExpression(e,n)}visitArrowFunctionExpr(e,n){return Array.isArray(e.body)?this.visitAllStatements(e.body,n):this.visitExpression(e.body,n),this.visitExpression(e,n)}visitUnaryOperatorExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitBinaryOperatorExpr(e,n){return e.lhs.visitExpression(this,n),e.rhs.visitExpression(this,n),this.visitExpression(e,n)}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),this.visitExpression(e,n)}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),this.visitExpression(e,n)}visitLiteralArrayExpr(e,n){return this.visitAllExpressions(e.entries,n),this.visitExpression(e,n)}visitLiteralMapExpr(e,n){return e.entries.forEach(r=>r.value.visitExpression(this,n)),this.visitExpression(e,n)}visitCommaExpr(e,n){return this.visitAllExpressions(e.parts,n),this.visitExpression(e,n)}visitAllExpressions(e,n){e.forEach(r=>r.visitExpression(this,n))}visitDeclareVarStmt(e,n){return e.value&&e.value.visitExpression(this,n),e.type&&e.type.visitType(this,n),e}visitDeclareFunctionStmt(e,n){return this.visitAllStatements(e.statements,n),e.type&&e.type.visitType(this,n),e}visitExpressionStmt(e,n){return e.expr.visitExpression(this,n),e}visitReturnStmt(e,n){return e.value.visitExpression(this,n),e}visitIfStmt(e,n){return e.condition.visitExpression(this,n),this.visitAllStatements(e.trueCase,n),this.visitAllStatements(e.falseCase,n),e}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function AE(t,e=!1,n=!0){return new Ei(t,e,n)}function Qf(t=[]){return new Si(t)}function H(t,e,n){return new Tt(t,e,n)}function O(t,e=null,n){return new Fe(t,null,e,n)}function bE(t,e,n){return t!=null?Pe(O(t,e,null),n):null}function Pe(t,e,n){return new nt(t,e,n)}function NE(t,e){return new Ss(t,e)}function Ji(t){return new Rr(t)}function ie(t,e,n){return new ot(t,e,n)}function je(t,e=null){return new $t(t.map(n=>new Pr(n.key,n.value,n.quoted)),e,null)}function DE(t,e,n,r){return new nr(t,e,n,r)}function Jf(t,e){return new xs(t,e)}function Kr(t,e,n,r,s){return new Xt(t,e,n,r,s)}function en(t,e,n,r){return new _n(t,e,n,r)}function Zi(t,e,n,r,s){return new wi(t,e,n,r,s)}function Zf(t,e,n,r){return new yi(t,e,n,r)}function v(t,e,n){return new Te(t,e,n)}function ed(t,e,n,r,s){return new vi(t,e,n,r,s)}function _E(t){return t instanceof Te&&t.value===null}function ch(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function RE(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${ch(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=ch(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var eo=Object.freeze({__proto__:null,get TypeModifier(){return mi},Type:tr,get BuiltinTypeName(){return Bt},BuiltinType:Qt,ExpressionType:nt,ArrayType:Pl,MapType:Ml,TransplantedType:Ss,DYNAMIC_TYPE:gr,INFERRED_TYPE:wt,BOOL_TYPE:Kf,INT_TYPE:SE,NUMBER_TYPE:ba,STRING_TYPE:au,FUNCTION_TYPE:wE,NONE_TYPE:Jt,get UnaryOperator(){return mn},get BinaryOperator(){return I},nullSafeIsEquivalent:zf,areAllEquivalent:st,Expression:ne,ReadVarExpr:Tt,TypeofExpr:Rr,WrappedNodeExpr:$,WriteVarExpr:gi,WriteKeyExpr:ws,WritePropExpr:kr,InvokeFunctionExpr:He,TaggedTemplateExpr:yi,InstantiateExpr:Ts,LiteralExpr:Te,TemplateLiteral:Lo,TemplateLiteralElement:Oo,LiteralPiece:Zn,PlaceholderPiece:br,LocalizedString:vi,ExternalExpr:Fe,ExternalReference:Fo,ConditionalExpr:Zt,DynamicImportExpr:Ol,NotExpr:xs,FnParam:ke,FunctionExpr:Xt,ArrowFunctionExpr:_n,UnaryOperatorExpr:nr,BinaryOperatorExpr:Z,ReadPropExpr:it,ReadKeyExpr:gn,LiteralArrayExpr:ot,LiteralMapEntry:Pr,LiteralMapExpr:$t,CommaExpr:Fl,NULL_EXPR:Cs,TYPED_NULL_EXPR:Yf,get StmtModifier(){return Ae},LeadingComment:Ei,JSDocComment:Si,Statement:rr,DeclareVarStmt:We,DeclareFunctionStmt:Is,ExpressionStatement:xt,ReturnStatement:Qe,IfStmt:wi,RecursiveAstVisitor:Bl,leadingComment:AE,jsDocComment:Qf,variable:H,importExpr:O,importType:bE,expressionType:Pe,transplantedType:NE,typeofExpr:Ji,literalArr:ie,literalMap:je,unary:DE,not:Jf,fn:Kr,arrowFn:en,ifStmt:Zi,taggedTemplate:Zf,literal:v,localizedString:ed,isNull:_E}),kE="_c",uh=H("<unknown>"),PE={},ME=50,Bo=class t extends ne{constructor(e){super(e.type),this.resolved=e,this.shared=!1,this.original=e}visitExpression(e,n){return n===PE?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},Ti=class{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.sharedConstants=new Map,this._claimedNames=new Map,this.nextNameIndex=0}getConstLiteral(e,n){if(e instanceof Te&&!ph(e)||e instanceof Bo)return e;let r=vs.INSTANCE.keyOf(e),s=this.literals.get(r),i=!1;if(s||(s=new Bo(e),this.literals.set(r,s),i=!0),!i&&!s.shared||i&&n){let o=this.freshName(),a,l;this.isClosureCompilerEnabled&&ph(e)?(a=H(o).set(new Xt([],[new Qe(e)])),l=H(o).callFn([])):(a=H(o).set(e),l=H(o)),this.statements.push(a.toDeclStmt(wt,Ae.Final)),s.fixup(l)}return s}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let s=this.freshName();this.sharedConstants.set(r,H(s)),this.statements.push(e.toSharedConstantDeclaration(s,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof ot){let n=e.entries.map(s=>s.isConstant()?s:uh),r=vs.INSTANCE.keyOf(ie(n));return this._getLiteralFactory(r,e.entries,s=>ie(s))}else{let n=je(e.entries.map(s=>({key:s.key,value:s.value.isConstant()?s.value:uh,quoted:s.quoted}))),r=vs.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(s=>s.value),s=>je(s.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,r=!0){let s=e instanceof _n;for(let o of this.statements)if(s&&o instanceof We&&o.value?.isEquivalent(e)||!s&&o instanceof Is&&e instanceof Xt&&e.isEquivalent(o))return H(o.name);let i=r?this.uniqueName(n):n;return this.statements.push(e instanceof Xt?e.toDeclStmt(i,Ae.Final):new We(i,e,wt,Ae.Final,e.sourceSpan)),H(i)}_getLiteralFactory(e,n,r){let s=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!s){let o=n.map((u,h)=>u.isConstant()?this.getConstLiteral(u,!0):H(`a${h}`)),a=o.filter(LE).map(u=>new ke(u.name,gr)),l=en(a,r(o),wt),c=this.freshName();this.statements.push(H(c).set(l).toDeclStmt(wt,Ae.Final)),s=H(c),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:i}}uniqueName(e,n=!0){let r=this._claimedNames.get(e)??0,s=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),s}freshName(){return this.uniqueName(kE)}},vs=class t{static{this.INSTANCE=new t}keyOf(e){if(e instanceof Te&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Te)return String(e.value);if(e instanceof ot){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof $t){let n=[];for(let r of e.entries){let s=r.key;r.quoted&&(s=`"${s}"`),n.push(s+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof Fe)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Tt)return`read(${e.name})`;if(e instanceof Rr)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};function LE(t){return t instanceof Tt}function ph(t){return t instanceof Te&&typeof t.value=="string"&&t.value.length>=ME}var m="@angular/core",f=class{static{this.NEW_METHOD="factory"}static{this.TRANSFORM_METHOD="transform"}static{this.PATCH_DEPS="patchedDeps"}static{this.core={name:null,moduleName:m}}static{this.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:m}}static{this.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:m}}static{this.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:m}}static{this.element={name:"\u0275\u0275element",moduleName:m}}static{this.elementStart={name:"\u0275\u0275elementStart",moduleName:m}}static{this.elementEnd={name:"\u0275\u0275elementEnd",moduleName:m}}static{this.advance={name:"\u0275\u0275advance",moduleName:m}}static{this.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:m}}static{this.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:m}}static{this.attribute={name:"\u0275\u0275attribute",moduleName:m}}static{this.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:m}}static{this.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:m}}static{this.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:m}}static{this.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:m}}static{this.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:m}}static{this.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:m}}static{this.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:m}}static{this.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:m}}static{this.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:m}}static{this.classProp={name:"\u0275\u0275classProp",moduleName:m}}static{this.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:m}}static{this.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:m}}static{this.elementContainer={name:"\u0275\u0275elementContainer",moduleName:m}}static{this.styleMap={name:"\u0275\u0275styleMap",moduleName:m}}static{this.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:m}}static{this.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:m}}static{this.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:m}}static{this.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:m}}static{this.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:m}}static{this.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:m}}static{this.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:m}}static{this.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:m}}static{this.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:m}}static{this.classMap={name:"\u0275\u0275classMap",moduleName:m}}static{this.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:m}}static{this.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:m}}static{this.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:m}}static{this.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:m}}static{this.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:m}}static{this.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:m}}static{this.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:m}}static{this.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:m}}static{this.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:m}}static{this.styleProp={name:"\u0275\u0275styleProp",moduleName:m}}static{this.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:m}}static{this.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:m}}static{this.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:m}}static{this.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:m}}static{this.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:m}}static{this.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:m}}static{this.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:m}}static{this.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:m}}static{this.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:m}}static{this.nextContext={name:"\u0275\u0275nextContext",moduleName:m}}static{this.resetView={name:"\u0275\u0275resetView",moduleName:m}}static{this.templateCreate={name:"\u0275\u0275template",moduleName:m}}static{this.defer={name:"\u0275\u0275defer",moduleName:m}}static{this.deferWhen={name:"\u0275\u0275deferWhen",moduleName:m}}static{this.deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:m}}static{this.deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:m}}static{this.deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:m}}static{this.deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:m}}static{this.deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:m}}static{this.deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:m}}static{this.deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:m}}static{this.deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:m}}static{this.deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:m}}static{this.deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:m}}static{this.deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:m}}static{this.deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:m}}static{this.deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:m}}static{this.deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:m}}static{this.conditional={name:"\u0275\u0275conditional",moduleName:m}}static{this.repeater={name:"\u0275\u0275repeater",moduleName:m}}static{this.repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:m}}static{this.repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:m}}static{this.repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:m}}static{this.componentInstance={name:"\u0275\u0275componentInstance",moduleName:m}}static{this.text={name:"\u0275\u0275text",moduleName:m}}static{this.enableBindings={name:"\u0275\u0275enableBindings",moduleName:m}}static{this.disableBindings={name:"\u0275\u0275disableBindings",moduleName:m}}static{this.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:m}}static{this.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:m}}static{this.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:m}}static{this.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:m}}static{this.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:m}}static{this.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:m}}static{this.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:m}}static{this.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:m}}static{this.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:m}}static{this.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:m}}static{this.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:m}}static{this.restoreView={name:"\u0275\u0275restoreView",moduleName:m}}static{this.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:m}}static{this.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:m}}static{this.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:m}}static{this.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:m}}static{this.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:m}}static{this.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:m}}static{this.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:m}}static{this.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:m}}static{this.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:m}}static{this.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:m}}static{this.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:m}}static{this.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:m}}static{this.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:m}}static{this.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:m}}static{this.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:m}}static{this.hostProperty={name:"\u0275\u0275hostProperty",moduleName:m}}static{this.property={name:"\u0275\u0275property",moduleName:m}}static{this.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:m}}static{this.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:m}}static{this.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:m}}static{this.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:m}}static{this.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:m}}static{this.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:m}}static{this.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:m}}static{this.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:m}}static{this.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:m}}static{this.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:m}}static{this.i18n={name:"\u0275\u0275i18n",moduleName:m}}static{this.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:m}}static{this.i18nExp={name:"\u0275\u0275i18nExp",moduleName:m}}static{this.i18nStart={name:"\u0275\u0275i18nStart",moduleName:m}}static{this.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:m}}static{this.i18nApply={name:"\u0275\u0275i18nApply",moduleName:m}}static{this.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:m}}static{this.pipe={name:"\u0275\u0275pipe",moduleName:m}}static{this.projection={name:"\u0275\u0275projection",moduleName:m}}static{this.projectionDef={name:"\u0275\u0275projectionDef",moduleName:m}}static{this.reference={name:"\u0275\u0275reference",moduleName:m}}static{this.inject={name:"\u0275\u0275inject",moduleName:m}}static{this.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:m}}static{this.directiveInject={name:"\u0275\u0275directiveInject",moduleName:m}}static{this.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:m}}static{this.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:m}}static{this.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:m}}static{this.forwardRef={name:"forwardRef",moduleName:m}}static{this.resolveForwardRef={name:"resolveForwardRef",moduleName:m}}static{this.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:m}}static{this.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:m}}static{this.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:m}}static{this.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:m}}static{this.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:m}}static{this.resolveBody={name:"\u0275\u0275resolveBody",moduleName:m}}static{this.getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:m}}static{this.defineComponent={name:"\u0275\u0275defineComponent",moduleName:m}}static{this.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:m}}static{this.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:m}}static{this.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:m}}static{this.ViewEncapsulation={name:"ViewEncapsulation",moduleName:m}}static{this.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:m}}static{this.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:m}}static{this.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:m}}static{this.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:m}}static{this.defineDirective={name:"\u0275\u0275defineDirective",moduleName:m}}static{this.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:m}}static{this.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:m}}static{this.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:m}}static{this.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:m}}static{this.defineInjector={name:"\u0275\u0275defineInjector",moduleName:m}}static{this.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:m}}static{this.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:m}}static{this.ModuleWithProviders={name:"ModuleWithProviders",moduleName:m}}static{this.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:m}}static{this.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:m}}static{this.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:m}}static{this.registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:m}}static{this.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:m}}static{this.definePipe={name:"\u0275\u0275definePipe",moduleName:m}}static{this.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:m}}static{this.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:m}}static{this.declareClassMetadataAsync={name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:m}}static{this.setClassMetadata={name:"\u0275setClassMetadata",moduleName:m}}static{this.setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:m}}static{this.setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:m}}static{this.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:m}}static{this.viewQuery={name:"\u0275\u0275viewQuery",moduleName:m}}static{this.loadQuery={name:"\u0275\u0275loadQuery",moduleName:m}}static{this.contentQuery={name:"\u0275\u0275contentQuery",moduleName:m}}static{this.viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:m}}static{this.contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:m}}static{this.queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:m}}static{this.twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:m}}static{this.twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:m}}static{this.twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:m}}static{this.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:m}}static{this.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:m}}static{this.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:m}}static{this.StandaloneFeature={name:"\u0275\u0275StandaloneFeature",moduleName:m}}static{this.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:m}}static{this.HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:m}}static{this.InputTransformsFeatureFeature={name:"\u0275\u0275InputTransformsFeature",moduleName:m}}static{this.listener={name:"\u0275\u0275listener",moduleName:m}}static{this.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:m}}static{this.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:m}}static{this.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:m}}static{this.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:m}}static{this.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:m}}static{this.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:m}}static{this.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:m}}static{this.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:m}}static{this.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:m}}static{this.validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:m}}static{this.InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:m}}static{this.UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:m}}static{this.unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:m}}},OE=/-+([a-z0-9])/g;function FE(t){return t.replace(OE,(...e)=>e[1].toUpperCase())}function BE(t,e){return td(t,":",e)}function $E(t,e){return td(t,".",e)}function td(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function UE(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(n++,r=(r-55296<<10)+s-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function nd(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nd).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}var xi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oi=globalThis;var VE=3,qE="# sourceMappingURL=data:application/json;base64,",$l=class{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||s==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((c,u)=>{e.set(c,u),n.push(c),r.push(this.sourcesContent.get(c)||null)});let s="",i=0,o=0,a=0,l=0;return this.lines.forEach(c=>{i=0,s+=c.map(u=>{let h=xo(u.col0-i);return i=u.col0,u.sourceUrl!=null&&(h+=xo(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),h+=xo(u.sourceLine0-a),a=u.sourceLine0,h+=xo(u.sourceCol0-l),l=u.sourceCol0),h}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:VE,sourceRoot:"",sources:n,sourcesContent:r,mappings:s}}toJsComment(){return this.hasMappings?"//"+qE+GE(JSON.stringify(this,null,0)):""}};function GE(t){let e="",n=UE(t);for(let r=0;r<n.length;){let s=n[r++],i=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=ri(s>>2),e+=ri((s&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":ri((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":ri(o&63)}return e}function xo(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=ri(n)}while(t>0);return e}var HE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ri(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return HE[t]}var WE=/'|\\|\n|\r|\$/g,jE=/^[$A-Z_][0-9A-Z_$]*$/i,Ul="  ",$o=class{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}},Vl=class t{static createRoot(){return new t(0)}constructor(e){this._indent=e,this._lines=[new $o(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*Ul.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new $o(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?hh(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new $l(e),s=!1,i=()=>{s||(r.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let o=0;o<n;o++)r.addLine(),i();return this.sourceLines.forEach((o,a)=>{r.addLine();let l=o.srcSpans,c=o.parts,u=o.indent*Ul.length,h=0;for(;h<l.length&&!l[h];)u+=c[h].length,h++;for(h<l.length&&a===0&&u===0?s=!0:i();h<l.length;){let d=l[h],g=d.start.file,y=d.start.line,C=d.start.col;for(r.addSource(g.url,g.content).addMapping(u,g.url,y,C),u+=c[h].length,h++;h<l.length&&(d===l[h]||!l[h]);)u+=c[h].length,h++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let s=n-hh(r.indent).length;for(let i=0;i<r.parts.length;i++){let o=r.parts[i];if(o.length>s)return r.srcSpans[i];s-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},ql=class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof Si?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(s=>{n.println(e,`// ${s}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),e.condition.visitExpression(this,n),n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitWriteVarExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),n.print(e,`${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWriteKeyExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"] = "),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitWritePropExpr(e,n){let r=n.lineIsEmpty();return r||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,`.${e.name} = `),e.value.visitExpression(this,n),r||n.print(e,")"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof _n;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateExpr(e,n){e.tag.visitExpression(this,n),n.print(e,"`"+e.template.elements[0].rawText);for(let r=1;r<e.template.elements.length;r++)n.print(e,"${"),e.template.expressions[r-1].visitExpression(this,n),n.print(e,`}${e.template.elements[r].rawText}`);return n.print(e,"`"),null}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,Cr(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let s=1;s<e.messageParts.length;s++)n.print(e,"${"),e.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(s).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case mn.Plus:r="+";break;case mn.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r;switch(e.operator){case I.Equals:r="==";break;case I.Identical:r="===";break;case I.NotEquals:r="!=";break;case I.NotIdentical:r="!==";break;case I.And:r="&&";break;case I.BitwiseOr:r="|";break;case I.BitwiseAnd:r="&";break;case I.Or:r="||";break;case I.Plus:r="+";break;case I.Minus:r="-";break;case I.Divide:r="/";break;case I.Multiply:r="*";break;case I.Modulo:r="%";break;case I.Lower:r="<";break;case I.LowerEquals:r="<=";break;case I.Bigger:r=">";break;case I.BiggerEquals:r=">=";break;case I.NullishCoalesce:r="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${Cr(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitAllExpressions(e,n,r){this.visitAllObjects(s=>s.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,s){let i=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,s,!0),i||(r.incIndent(),r.incIndent(),i=!0)):r.print(null,s,!1)),e(n[o]);i&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function Cr(t,e,n=!0){if(t==null)return null;let r=t.replace(WE,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!jE.test(r)?`'${r}'`:r}function hh(t){let e="";for(let n=0;n<t;n++)e+=Ul;return e}function Na(t,e){if(e===0)return Pe(t);let n=[];for(let r=0;r<e;r++)n.push(gr);return Pe(t,void 0,n)}function rd(t,e){let n=Cr(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function KE(t){return zE("ngJitMode",t)}function zE(t,e){let n=new Fe({name:t,moduleName:null}),r=new Z(I.Identical,new Rr(n),v("undefined")),s=new Z(I.Or,r,n,void 0,void 0,!0);return new Z(I.And,s,e)}function Le(t){let e=new $(t);return{value:e,type:e}}function Ir(t,e){let n=ie(t.map(r=>r.value));return e?en([],n):n}function zr(t,e){return{expression:t,forwardRef:e}}function XE({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return YE(t)}}function YE(t){return O(f.forwardRef).callFn([en([],t)])}var Ci;(function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"})(Ci||(Ci={}));var tt;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(tt||(tt={}));function Yn(t){let e=H("t"),n=null,r=dh(t)?e:new Z(I.Or,e,t.type.value),s=null;t.deps!==null?t.deps!=="invalid"&&(s=new Ts(r,fh(t.deps,t.target))):(n=H(`\u0275${t.name}_BaseFactory`),s=n.callFn([r]));let i=[],o=null;function a(c){let u=H("r");i.push(u.set(Cs).toDeclStmt());let h=s!==null?u.set(s).toStmt():O(f.invalidFactory).callFn([]).toStmt();return i.push(Zi(e,[h],[u.set(c).toStmt()])),u}if(dh(t)){let c=fh(t.delegateDeps,t.target),u=new(t.delegateType===Ci.Class?Ts:He)(t.delegate,c);o=a(u)}else tS(t)?o=a(t.expression):o=s;if(o===null)i.push(O(f.invalidFactory).callFn([]).toStmt());else if(n!==null){let c=O(f.getInheritedFactory).callFn([t.type.value]),u=new Z(I.Or,n,n.set(c));i.push(new Qe(u.callFn([r])))}else i.push(new Qe(o));let l=Kr([new ke("t",gr)],i,wt,void 0,`${t.name}_Factory`);return n!==null&&(l=en([],[new We(n.name),new Qe(l)]).callFn([],void 0,!0)),{expression:l,statements:[],type:QE(t)}}function QE(t){let e=t.deps!==null&&t.deps!=="invalid"?ZE(t.deps):Jt;return Pe(O(f.FactoryDeclaration,[Na(t.type.type,t.typeArgumentCount),e]))}function fh(t,e){return t.map((n,r)=>JE(n,e,r))}function JE(t,e,n){if(t.token===null)return O(f.invalidFactoryDep).callFn([v(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===tt.Pipe?16:0),s=r!==0||t.optional?v(r):null,i=[t.token];s&&i.push(s);let o=nS(e);return O(o).callFn(i)}else return O(f.injectAttribute).callFn([t.token])}function ZE(t){let e=!1,n=t.map(r=>{let s=eS(r);return s!==null?(e=!0,s):v(null)});return e?Pe(ie(n)):Jt}function eS(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:v(!0),quoted:!1}),t.host&&e.push({key:"host",value:v(!0),quoted:!1}),t.self&&e.push({key:"self",value:v(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:v(!0),quoted:!1}),e.length>0?je(e):null}function dh(t){return t.delegateType!==void 0}function tS(t){return t.expression!==void 0}function nS(t){switch(t){case tt.Component:case tt.Directive:case tt.Pipe:return f.directiveInject;case tt.NgModule:case tt.Injectable:default:return f.inject}}var Ii=class{constructor(e,n,r,s){this.input=n,this.errLocation=r,this.ctxLocation=s,this.message=`Parser Error: ${e} ${r} [${n}] in ${s}`}},Mr=class{constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new Ve(e+this.start,e+this.end)}},we=class{constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},As=class extends we{constructor(e,n,r){super(e,n),this.nameSpan=r}},Oe=class extends we{visit(e,n=null){}},Me=class extends we{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},fn=class extends Me{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},bs=class extends we{constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitChain(this,n)}},Ai=class extends we{constructor(e,n,r,s,i){super(e,n),this.condition=r,this.trueExp=s,this.falseExp=i}visit(e,n=null){return e.visitConditional(this,n)}},be=class extends As{constructor(e,n,r,s,i){super(e,n,r),this.receiver=s,this.name=i}visit(e,n=null){return e.visitPropertyRead(this,n)}},Rn=class extends As{constructor(e,n,r,s,i,o){super(e,n,r),this.receiver=s,this.name=i,this.value=o}visit(e,n=null){return e.visitPropertyWrite(this,n)}},Ct=class extends As{constructor(e,n,r,s,i){super(e,n,r),this.receiver=s,this.name=i}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},Ns=class extends we{constructor(e,n,r,s){super(e,n),this.receiver=r,this.key=s}visit(e,n=null){return e.visitKeyedRead(this,n)}},sr=class extends we{constructor(e,n,r,s){super(e,n),this.receiver=r,this.key=s}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},Uo=class extends we{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.key=s,this.value=i}visit(e,n=null){return e.visitKeyedWrite(this,n)}},Lr=class extends As{constructor(e,n,r,s,i,o){super(e,n,o),this.exp=r,this.name=s,this.args=i}visit(e,n=null){return e.visitPipe(this,n)}},Pt=class extends we{constructor(e,n,r){super(e,n),this.value=r}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},Vo=class extends we{constructor(e,n,r){super(e,n),this.expressions=r}visit(e,n=null){return e.visitLiteralArray(this,n)}},qo=class extends we{constructor(e,n,r,s){super(e,n),this.keys=r,this.values=s}visit(e,n=null){return e.visitLiteralMap(this,n)}},kn=class extends we{constructor(e,n,r,s){super(e,n),this.strings=r,this.expressions=s}visit(e,n=null){return e.visitInterpolation(this,n)}},pt=class extends we{constructor(e,n,r,s,i){super(e,n),this.operation=r,this.left=s,this.right=i}visit(e,n=null){return e.visitBinary(this,n)}},bi=class t extends pt{static createMinus(e,n,r){return new t(e,n,"-",r,"-",new Pt(e,n,0),r)}static createPlus(e,n,r){return new t(e,n,"+",r,"-",r,new Pt(e,n,0))}constructor(e,n,r,s,i,o,a){super(e,n,i,o,a),this.operator=r,this.expr=s,this.left=null,this.right=null,this.operation=null}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},Ni=class extends we{constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitPrefixNot(this,n)}},Di=class extends we{constructor(e,n,r){super(e,n),this.expression=r}visit(e,n=null){return e.visitNonNullAssert(this,n)}},ir=class extends we{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.args=s,this.argumentSpan=i}visit(e,n=null){return e.visitCall(this,n)}},or=class extends we{constructor(e,n,r,s,i){super(e,n),this.receiver=r,this.args=s,this.argumentSpan=i}visit(e,n=null){return e.visitSafeCall(this,n)}},Ve=class{constructor(e,n){this.start=e,this.end=n}},Ie=class extends we{constructor(e,n,r,s,i){super(new Mr(0,n===null?0:n.length),new Ve(s,n===null?s:s+n.length)),this.ast=e,this.source=n,this.location=r,this.errors=i}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},_i=class{constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},Gl=class{constructor(e,n,r){this.sourceSpan=e,this.key=n,this.value=r}},ar=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitKeyedWrite(e,n){this.visit(e.receiver,n),this.visit(e.key,n),this.visit(e.value,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitPropertyWrite(e,n){this.visit(e.receiver,n),this.visit(e.value,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}};var ai=class{constructor(e,n,r,s,i,o){this.name=e,this.expression=n,this.type=r,this.sourceSpan=s,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===Tn.LITERAL_ATTR,this.isAnimation=this.type===Tn.ANIMATION}},Tn;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION",t[t.TWO_WAY=3]="TWO_WAY"})(Tn||(Tn={}));var Ge;(function(t){t[t.Regular=0]="Regular",t[t.Animation=1]="Animation",t[t.TwoWay=2]="TwoWay"})(Ge||(Ge={}));var Go=class{constructor(e,n,r,s,i,o,a){this.name=e,this.targetOrPhase=n,this.type=r,this.handler=s,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}},Hl=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}},K;(function(t){t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.Animation=4]="Animation",t[t.TwoWay=5]="TwoWay"})(K||(K={}));var Ho=class{constructor(e,n,r,s,i,o,a,l){this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l}},Wt;(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(Wt||(Wt={}));function tn(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function mh(t){return tn(t)[1]==="ng-container"}function Wl(t){return tn(t)[1]==="ng-content"}function rS(t){return tn(t)[1]==="ng-template"}function jl(t){return t===null?null:tn(t)[0]}function Kl(t,e){return t?`:${t}:${e}`:e}var Ds=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},jt=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},Pn=class{constructor(e,n,r){this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},It=class{constructor(e,n,r,s,i,o){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},At=class t{constructor(e,n,r,s,i,o,a,l,c){this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=l,this.i18n=c}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},Or=class t{constructor(e,n,r,s,i,o,a,l){this.name=e,this.type=n,this.handler=r,this.target=s,this.phase=i,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=l}static fromParsedEvent(e){let n=e.type===Ge.Regular?e.targetOrPhase:null,r=e.type===Ge.Animation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},oe=class{constructor(e,n,r,s,i,o,a,l,c,u){this.name=e,this.attributes=n,this.inputs=r,this.outputs=s,this.children=i,this.references=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c,this.i18n=u}visit(e){return e.visitElement(this)}},Mn=class{constructor(e,n,r,s){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=s}visit(e){return e.visitDeferredTrigger(this)}},_s=class extends Mn{constructor(e,n,r,s){super(null,n,r,s),this.value=e}},zl=class extends Mn{},Xl=class extends Mn{},Wo=class extends Mn{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},Yl=class extends Mn{constructor(e,n,r,s,i){super(n,r,s,i),this.delay=e}},jo=class extends Mn{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},Ko=class extends Mn{constructor(e,n,r,s,i){super(n,r,s,i),this.reference=e}},Ut=class{constructor(e,n,r,s){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=s}},Ri=class extends Ut{constructor(e,n,r,s,i,o,a){super(r,s,i,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},ki=class extends Ut{constructor(e,n,r,s,i,o,a,l){super(s,i,o,a),this.children=e,this.afterTime=n,this.minimumTime=r,this.i18n=l}visit(e){return e.visitDeferredBlockLoading(this)}},Pi=class extends Ut{constructor(e,n,r,s,i,o){super(n,r,s,i),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},Ln=class extends Ut{constructor(e,n,r,s,i,o,a,l,c,u,h,d){super(a,l,u,h),this.children=e,this.placeholder=s,this.loading=i,this.error=o,this.mainBlockSpan=c,this.i18n=d,this.triggers=n,this.prefetchTriggers=r,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(r)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),al(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(r=>r!==null);al(e,n)}visitTriggers(e,n,r){al(r,e.map(s=>n[s]))}},Fr=class extends Ut{constructor(e,n,r,s,i,o,a){super(a,s,i,o),this.expression=e,this.cases=n,this.unknownBlocks=r}visit(e){return e.visitSwitchBlock(this)}},Mi=class extends Ut{constructor(e,n,r,s,i,o,a){super(o,r,s,i),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},yn=class extends Ut{constructor(e,n,r,s,i,o,a,l,c,u,h,d,g){super(d,l,u,h),this.item=e,this.expression=n,this.trackBy=r,this.trackKeywordSpan=s,this.contextVariables=i,this.children=o,this.empty=a,this.mainBlockSpan=c,this.i18n=g}visit(e){return e.visitForLoopBlock(this)}},Li=class extends Ut{constructor(e,n,r,s,i,o){super(i,n,r,s),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},Br=class extends Ut{constructor(e,n,r,s,i){super(i,n,r,s),this.branches=e}visit(e){return e.visitIfBlock(this)}},bn=class extends Ut{constructor(e,n,r,s,i,o,a,l){super(a,s,i,o),this.expression=e,this.children=n,this.expressionAlias=r,this.i18n=l}visit(e){return e.visitIfBlockBranch(this)}},zo=class{constructor(e,n,r){this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},mt=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e){return e.visitLetDeclaration(this)}},se=class{constructor(e,n,r,s,i,o,a,l,c,u,h,d){this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=s,this.templateAttrs=i,this.children=o,this.references=a,this.variables=l,this.sourceSpan=c,this.startSourceSpan=u,this.endSourceSpan=h,this.i18n=d}visit(e){return e.visitTemplate(this)}},lr=class{constructor(e,n,r,s,i){this.selector=e,this.attributes=n,this.children=r,this.sourceSpan=s,this.i18n=i,this.name="ng-content"}visit(e){return e.visitContent(this)}},at=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitVariable(this)}},vn=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitReference(this)}},Rs=class{constructor(e,n,r,s){this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=s}visit(e){return e.visitIcu(this)}};function al(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r)||r.visit(t);else for(let r of e){let s=r.visit(t);s&&n.push(s)}return n}var rt=class{constructor(e,n,r,s,i,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=s,this.description=i,this.customId=o,this.legacyIds=[],this.id=this.customId,this.messageString=sS(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},us=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Nn=class{constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},Xo=class{constructor(e,n,r,s,i){this.expression=e,this.type=n,this.cases=r,this.sourceSpan=s,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},cr=class{constructor(e,n,r,s,i,o,a,l,c){this.tag=e,this.attrs=n,this.startName=r,this.closeName=s,this.children=i,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitTagPlaceholder(this,n)}},Yo=class{constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},ks=class{constructor(e,n,r){this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},ur=class{constructor(e,n,r,s,i,o,a,l){this.name=e,this.parameters=n,this.startName=r,this.closeName=s,this.children=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function sS(t){let e=new Ql;return t.map(r=>r.visit(e)).join("")}var Ql=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var Jl=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(s=>s.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},eM=new Jl;function iS(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var sd="i18n",Zl="i18n-",oS="VAR_";function id(t){return t===sd||t.startsWith(Zl)}function aS(t){return t.attrs.some(e=>id(e.name))}function od(t){return t.nodes[0]}function lu(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[to(r,e)]=t[r]),n}function to(t,e=!0){let n=iS(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let s;/^\d+$/.test(r[r.length-1])&&(s=r.pop());let i=r.shift().toLowerCase();return r.length&&(i+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),s?`${i}_${s}`:i}var lS=/[-.]/,cu="_t",Oi="ctx",uu="rf";function ad(t,e){let n=null;return()=>(n||(t(new We(cu,void 0,gr)),n=H(e)),n)}function ps(t){return Array.isArray(t)?ie(t.map(ps)):v(t,wt)}function gh(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:je(n.map(r=>{let s=t[r],i,o,a,l;if(typeof s=="string")i=r,a=r,o=s,l=ps(o);else{a=r,i=s.classPropertyName,o=s.bindingPropertyName;let c=o!==i,u=s.transformFunction!==null,h=cs.None;if(s.isSignal&&(h|=cs.SignalBased),u&&(h|=cs.HasDecoratorInputTransform),e&&(c||u||h!==cs.None)){let d=[v(h),ps(o)];(c||u)&&(d.push(ps(i)),u&&d.push(s.transformFunction)),l=ie(d)}else l=ps(o)}return{key:a,quoted:lS.test(a),value:l}}))}var pr=class{constructor(){this.values=[]}set(e,n){if(n){let r=this.values.find(s=>s.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return je(this.values)}};function pu(t){let e=t instanceof oe?t.name:"ng-template",n=cS(t),r=new Yt,s=tn(e)[1];return r.setElement(s),Object.getOwnPropertyNames(n).forEach(i=>{let o=tn(i)[1],a=n[i];r.addAttribute(o,a),i.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(c=>r.addClassName(c))}),r}function cS(t){let e={};return t instanceof se&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{id(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===K.Property||n.type===K.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function ec(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:tt.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),l;t.deps!==void 0&&(l=t.deps),l!==void 0?n=Yn({...r,delegate:t.useClass.expression,delegateDeps:l,delegateType:Ci.Class}):a?n=Yn(r):n={statements:[],expression:yh(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=Yn({...r,delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:Ci.Function}):n={statements:[],expression:en([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=Yn({...r,expression:t.useValue.expression}):t.useExisting!==void 0?n=Yn({...r,expression:O(f.inject).callFn([t.useExisting.expression])}):n={statements:[],expression:yh(t.type.value,t.type.value,e)};let s=t.type.value,i=new pr;return i.set("token",s),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",XE(t.providedIn)),{expression:O(f.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:uS(t),statements:n.statements}}function uS(t){return new nt(O(f.InjectableDeclaration,[Na(t.type.type,t.typeArgumentCount)]))}function yh(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return vh(e);let r=O(f.resolveForwardRef).callFn([e]);return vh(r)}function vh(t){return en([new ke("t",gr)],t.prop("\u0275fac").callFn([H("t")]))}var pS=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function hS(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],r=e[1];pS.forEach(s=>{if(s.test(n)||s.test(r))throw new Error(`['${n}', '${r}'] contains unusable interpolation symbol.`)})}}var Fi=class t{static fromArray(e){return e?(hS("interpolation",e),new t(e[0],e[1])):Lt}constructor(e,n){this.start=e,this.end=n}},Lt=new Fi("{{","}}"),fS=new Set(["switch"]),Xe=0,dS=8,hu=9,Nr=10,ld=11,cd=12,fu=13,ud=32,tc=33,Bi=34,pd=35,hd=36,mS=37,Qo=38,$i=39,Dn=40,Kt=41,gS=42,fd=43,Ft=44,Jo=45,as=46,xn=47,Qn=58,St=59,hs=60,Ar=61,Xn=62,Eh=63,du=48,yS=55,dd=57,Hs=65,vS=69,ES=70,SS=88,Da=90,Es=91,li=92,fs=93,wS=94,no=95,$r=97,TS=98,xS=101,mu=102,md=110,gd=114,yd=116,vd=117,Ed=118,Sd=120,ro=122,pn=123,Sh=124,ht=125,wd=160;var ll=64,CS=96;function Ui(t){return t>=hu&&t<=ud||t==wd}function cn(t){return du<=t&&t<=dd}function Vi(t){return t>=$r&&t<=ro||t>=Hs&&t<=Da}function IS(t){return t>=$r&&t<=mu||t>=Hs&&t<=ES||cn(t)}function gu(t){return t===Nr||t===fu}function wh(t){return du<=t&&t<=yS}function ci(t){return t===$i||t===Bi||t===CS}var Ur=class t{constructor(e,n,r,s){this.file=e,this.offset=n,this.line=r,this.col=s}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,s=this.offset,i=this.line,o=this.col;for(;s>0&&e<0;)if(s--,e++,n.charCodeAt(s)==Nr){i--;let l=n.substring(0,s-1).lastIndexOf(String.fromCharCode(Nr));o=l>0?s-l:s}else o--;for(;s<r&&e>0;){let a=n.charCodeAt(s);s++,e--,a==Nr?(i++,o=0):o++}return new t(this.file,s,i,o)}getContext(e,n){let r=this.file.content,s=this.offset;if(s!=null){s>r.length-1&&(s=r.length-1);let i=s,o=0,a=0;for(;o<e&&s>0&&(s--,o++,!(r[s]==`
`&&++a==n)););for(o=0,a=0;o<e&&i<r.length-1&&(i++,o++,!(r[i]==`
`&&++a==n)););return{before:r.substring(s,this.offset),after:r.substring(this.offset,i+1)}}return null}},Vr=class{constructor(e,n){this.content=e,this.url=n}},V=class{constructor(e,n,r=e,s=null){this.start=e,this.end=n,this.fullStart=r,this.details=s}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},In;(function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"})(In||(In={}));var q=class{constructor(e,n,r=In.ERROR){this.span=e,this.msg=n,this.level=r}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${In[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function AS(t,e,n){let r=`in ${t} ${e} in ${n}`,s=new Vr("",r);return new V(new Ur(s,-1,-1,-1),new Ur(s,-1,-1,-1))}var bS=0;function NS(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=nd(e);return n.indexOf("(")>=0?(n=`anonymous_${bS++}`,e.__anonymousType=n):n=ui(n),n}function ui(t){return t.replace(/\W/g,"_")}var Th='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',nc=class extends ql{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${Th}(`),n.print(e,`[${r.map(s=>Cr(s.text,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>Cr(s.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof $t;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${Th}(`);let r=[e.serializeI18nHead()];for(let s=1;s<e.messageParts.length;s++)r.push(e.serializeI18nTemplatePart(s));return n.print(e,`[${r.map(s=>Cr(s.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>Cr(s.raw,!1)).join(", ")}])`),e.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Co;function DS(){if(Co===void 0){let t=oi.trustedTypes;if(Co=null,t)try{Co=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Co}function _S(t){return DS()?.createScript(t)||t}function xh(...t){if(!oi.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,s=oi.eval(_S(r));return s.bind===void 0?new Function(...t):(s.toString=()=>r,s.bind(oi))}var rc=class{evaluateStatements(e,n,r,s){let i=new sc(r),o=Vl.createRoot();return n.length>0&&!RS(n[0])&&(n=[v("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),s)}evaluateCode(e,n,r,s){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let c in r)a.push(r[c]),o.push(c);if(s){let c=xh(...o.concat("return null;")).toString(),u=c.slice(0,c.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,u).toJsComment()}`}let l=xh(...o.concat(i));return this.executeFunction(l,a)}executeFunction(e,n){return e(...n)}},sc=class extends nc{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Qe(new $t(this._evalExportedVars.map(r=>new Pr(r,H(r),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(Ae.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(Ae.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,r){let s=this._evalArgValues.indexOf(n);if(s===-1){s=this._evalArgValues.length,this._evalArgValues.push(n);let i=NS({reference:n})||"val";this._evalArgNames.push(`jit_${i}_${s}`)}r.print(e,this._evalArgNames[s])}};function RS(t){return t.isEquivalent(v("use strict").toStmt())}function ic(t){let e=new pr;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",ie(t.imports));let n=O(f.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=kS(t);return{expression:n,type:r,statements:[]}}function kS(t){return new nt(O(f.InjectorDeclaration,[new nt(t.type.type)]))}var oc=class{constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Ps;(function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"})(Ps||(Ps={}));var hn;(function(t){t[t.Global=0]="Global",t[t.Local=1]="Local"})(hn||(hn={}));function Td(t){let e=[],n=new pr;if(n.set("type",t.type.value),t.kind===hn.Global&&t.bootstrap.length>0&&n.set("bootstrap",Ir(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===Ps.Inline)t.declarations.length>0&&n.set("declarations",Ir(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Ir(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Ir(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===Ps.SideEffect){let i=LS(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",ie(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push(O(f.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=O(f.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),s=MS(t);return{expression:r,type:s,statements:e}}function PS(t){let e=new pr;return e.set("type",new $(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new $(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new $(t.declarations)),t.imports!==void 0&&e.set("imports",new $(t.imports)),t.exports!==void 0&&e.set("exports",new $(t.exports)),t.schemas!==void 0&&e.set("schemas",new $(t.schemas)),t.id!==void 0&&e.set("id",new $(t.id)),O(f.defineNgModule).callFn([e.toLiteralMap()])}function MS(t){if(t.kind===hn.Local)return new nt(t.type.value);let{type:e,declarations:n,exports:r,imports:s,includeImportTypes:i,publicDeclarationTypes:o}=t;return new nt(O(f.NgModuleDeclaration,[new nt(e.type),o===null?cl(n):OS(o),i?cl(s):Jt,cl(r)]))}function LS(t){let e=new pr;if(t.kind===hn.Global?t.declarations.length>0&&e.set("declarations",Ir(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===hn.Global?t.imports.length>0&&e.set("imports",Ir(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===hn.Global?t.exports.length>0&&e.set("exports",Ir(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===hn.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new He(O(f.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=KE(n),s=new Xt([],[r.toStmt()]);return new He(s,[]).toStmt()}function cl(t){let e=t.map(n=>Ji(n.type));return t.length>0?Pe(ie(e)):Jt}function OS(t){let e=t.map(n=>Ji(n));return t.length>0?Pe(ie(e)):Jt}function ac(t){let e=[];e.push({key:"name",value:v(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:v(t.pure),quoted:!1}),t.isStandalone&&e.push({key:"standalone",value:v(!0),quoted:!1});let n=O(f.definePipe).callFn([je(e)],void 0,!0),r=FS(t);return{expression:n,type:r,statements:[]}}function FS(t){return new nt(O(f.PipeDeclaration,[Na(t.type.type,t.typeArgumentCount),new nt(new Te(t.pipeName)),new nt(new Te(t.isStandalone))]))}var Ms;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(Ms||(Ms={}));var BS=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),$S=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],lc=class{constructor(){this._animationDeclarationKeyframesRe=/(^|\s+)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g}shimCssText(e,n,r=""){let s=[];e=e.replace(YS,a=>{if(a.match(QS))s.push(a);else{let l=a.match(XS);s.push((l?.join("")??"")+`
`)}return Eu}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,r),o=0;return i.replace(JS,()=>s[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,s=Io(e,i=>this._scopeLocalKeyframeDeclarations(i,n,r));return Io(s,i=>this._scopeAnimationRule(i,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return{...e,selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(s,i,o,a,l)=>(r.add(bh(a,o)),`${i}${o}${n}_${a}${o}${l}`))}}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(s,i,o,a,l)=>(a=`${r.has(bh(a,o))?n+"_":""}${a}`,`${i}${o}${a}${o}${l}`))}_scopeAnimationRule(e,n,r){let s=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(l,c,u="",h,d)=>h?`${c}${this._scopeAnimationKeyframe(`${u}${h}${u}`,n,r)}`:BS.has(d)?l:`${c}${this._scopeAnimationKeyframe(d,n,r)}`));return s=s.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>`${o}${a.split(",").map(l=>this._scopeAnimationKeyframe(l,n,r)).join(",")}`),{...e,content:s}}_insertPolyfillDirectivesInCssText(e){return e.replace(US,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(VS,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+s,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(Ch.lastIndex=0;(r=Ch.exec(e))!==null;){let s=r[0].replace(r[2],"").replace(r[1],r[4]);n+=s+`

`}return n}_convertColonHost(e){return e.replace(qS,(n,r,s)=>{if(r){let i=[],o=r.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let l=Tr+a.replace(Zo,"")+s;i.push(l)}return i.join(",")}else return Tr+s})}_convertColonHostContext(e){return e.replace(GS,n=>{let r=[[]],s;for(;s=HS.exec(n);){let i=(s[1]??"").trim().split(",").map(a=>a.trim()).filter(a=>a!==""),o=r.length;cw(r,i.length);for(let a=0;a<i.length;a++)for(let l=0;l<o;l++)r[l+a*o].push(i[a]);n=s[2]}return r.map(i=>lw(i,n)).join(", ")})}_convertShadowDOMSelectors(e){return WS.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return Io(e,s=>{let i=s.selector,o=s.content;return s.selector[0]!=="@"?i=this._scopeSelector(s.selector,n,r):$S.some(a=>s.selector.startsWith(a))?o=this._scopeSelectors(s.content,n,r):(s.selector.startsWith("@font-face")||s.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(s.content)),new qi(i,o)})}_stripScopingSelectors(e){return Io(e,n=>{let r=n.selector.replace(Ah," ").replace(Ih," ");return new qi(r,n.content)})}_scopeSelector(e,n,r){return e.split(/ ?, ?/).map(s=>s.split(Ah)).map(s=>{let[i,...o]=s;return[(l=>this._selectorNeedsScoping(l,n)?this._applySelectorScope(l,n,r):l)(i),...o].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+jS,"m")}_applySimpleSelectorScope(e,n,r){if(ds.lastIndex=0,ds.test(e)){let s=`[${r}]`;return e.replace(Ih,(i,o)=>o.replace(/([^:]*)(:*)(.*)/,(a,l,c,u)=>l+s+c+u)).replace(ds,s+" ")}return n+" "+e}_applySelectorScope(e,n,r){let s=/\[is=([^\]]*)\]/g;n=n.replace(s,(C,...A)=>A[0]);let i="["+n+"]",o=C=>{let A=C.trim();if(!A)return C;if(C.includes(Tr))A=this._applySimpleSelectorScope(C,n,r);else{let D=C.replace(ds,"");if(D.length>0){let U=D.match(/([^:]*)(:*)(.*)/);U&&(A=U[1]+i+U[2]+U[3])}}return A},a=new cc(e);e=a.content();let l="",c=0,u,h=/( |>|\+|~(?!=))\s*/g,g=!e.includes(Tr);for(;(u=h.exec(e))!==null;){let C=u[1],A=e.slice(c,u.index);if(A.match(/__esc-ph-(\d+)__/)&&e[u.index+1]?.match(/[a-fA-F\d]/))continue;g=g||A.includes(Tr);let D=g?o(A):A;l+=`${D} ${C} `,c=h.lastIndex}let y=e.substring(c);return g=g||y.includes(Tr),l+=g?o(y):y,a.restore(l)}_insertPolyfillHostInCssText(e){return e.replace(zS,yu).replace(KS,Zo)}},cc=class{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let s=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,s}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,r+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,i})}},US=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,VS=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Ch=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Zo="-shadowcsshost",yu="-shadowcsscontext",vu="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",qS=new RegExp(Zo+vu,"gim"),GS=new RegExp(yu+vu,"gim"),HS=new RegExp(yu+vu,"im"),Tr=Zo+"-no-combinator",Ih=/-shadowcsshost-no-combinator([^\s]*)/,WS=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Ah=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,jS="([>\\s~+[.,{:][\\s\\S]*)?$",ds=/-shadowcsshost/gim,KS=/:host/gim,zS=/:host-context/gim,XS=/\r?\n/g,YS=/\/\*[\s\S]*?\*\//g,QS=/\/\*\s*#\s*source(Mapping)?URL=/g,Eu="%COMMENT%",JS=new RegExp(Eu,"g"),ul="%BLOCK%",ZS=new RegExp(`(\\s*(?:${Eu}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),ew=new Map([["{","}"]]),xd="%COMMA_IN_PLACEHOLDER%",Cd="%SEMI_IN_PLACEHOLDER%",Id="%COLON_IN_PLACEHOLDER%",tw=new RegExp(xd,"g"),nw=new RegExp(Cd,"g"),rw=new RegExp(Id,"g"),qi=class{constructor(e,n){this.selector=e,this.content=n}};function Io(t,e){let n=ow(t),r=sw(n,ew,ul),s=0,i=r.escapedString.replace(ZS,(...o)=>{let a=o[2],l="",c=o[4],u="";c&&c.startsWith("{"+ul)&&(l=r.blocks[s++],c=c.substring(ul.length+1),u="{");let h=e(new qi(a,l));return`${o[1]}${h.selector}${o[3]}${u}${h.content}${c}`});return aw(i)}var uc=class{constructor(e,n){this.escapedString=e,this.blocks=n}};function sw(t,e,n){let r=[],s=[],i=0,o=0,a=-1,l,c;for(let u=0;u<t.length;u++){let h=t[u];h==="\\"?u++:h===c?(i--,i===0&&(s.push(t.substring(a,u)),r.push(n),o=u,a=-1,l=c=void 0)):h===l?i++:i===0&&e.has(h)&&(l=h,c=e.get(h),i=1,a=u+1,r.push(t.substring(o,a)))}return a!==-1?(s.push(t.substring(a)),r.push(n)):r.push(t.substring(o)),new uc(r.join(""),s)}var iw={";":Cd,",":xd,":":Id};function ow(t){let e=t,n=null;for(let r=0;r<e.length;r++){let s=e[r];if(s==="\\")r++;else if(n!==null)if(s===n)n=null;else{let i=iw[s];i&&(e=`${e.substr(0,r)}${i}${e.substr(r+1)}`,r+=i.length-1)}else(s==="'"||s==='"')&&(n=s)}return e}function aw(t){let e=t.replace(tw,",");return e=e.replace(nw,";"),e=e.replace(rw,":"),e}function bh(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function lw(t,e){let n=Tr;ds.lastIndex=0;let r=ds.test(e);if(t.length===0)return n+e;let s=[t.pop()||""];for(;t.length>0;){let i=s.length,o=t.pop();for(let a=0;a<i;a++){let l=s[a];s[i*2+a]=l+" "+o,s[i+a]=o+" "+l,s[a]=o+l}}return s.map(i=>r?`${i}${e}`:`${i}${n}${e}, ${i} ${n}${e}`).join(",")}function cw(t,e){let n=t.length;for(let r=1;r<e;r++)for(let s=0;s<n;s++)t[s+r*n]=t[s].slice(0)}var p;(function(t){t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.Conditional=11]="Conditional",t[t.EnableBindings=12]="EnableBindings",t[t.Text=13]="Text",t[t.Listener=14]="Listener",t[t.InterpolateText=15]="InterpolateText",t[t.Binding=16]="Binding",t[t.Property=17]="Property",t[t.StyleProp=18]="StyleProp",t[t.ClassProp=19]="ClassProp",t[t.StyleMap=20]="StyleMap",t[t.ClassMap=21]="ClassMap",t[t.Advance=22]="Advance",t[t.Pipe=23]="Pipe",t[t.Attribute=24]="Attribute",t[t.ExtractedAttribute=25]="ExtractedAttribute",t[t.Defer=26]="Defer",t[t.DeferOn=27]="DeferOn",t[t.DeferWhen=28]="DeferWhen",t[t.I18nMessage=29]="I18nMessage",t[t.HostProperty=30]="HostProperty",t[t.Namespace=31]="Namespace",t[t.ProjectionDef=32]="ProjectionDef",t[t.Projection=33]="Projection",t[t.RepeaterCreate=34]="RepeaterCreate",t[t.Repeater=35]="Repeater",t[t.TwoWayProperty=36]="TwoWayProperty",t[t.TwoWayListener=37]="TwoWayListener",t[t.I18nStart=38]="I18nStart",t[t.I18n=39]="I18n",t[t.I18nEnd=40]="I18nEnd",t[t.I18nExpression=41]="I18nExpression",t[t.I18nApply=42]="I18nApply",t[t.IcuStart=43]="IcuStart",t[t.IcuEnd=44]="IcuEnd",t[t.IcuPlaceholder=45]="IcuPlaceholder",t[t.I18nContext=46]="I18nContext",t[t.I18nAttributes=47]="I18nAttributes"})(p||(p={}));var B;(function(t){t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.GetCurrentView=6]="GetCurrentView",t[t.RestoreView=7]="RestoreView",t[t.ResetView=8]="ResetView",t[t.PureFunctionExpr=9]="PureFunctionExpr",t[t.PureFunctionParameterExpr=10]="PureFunctionParameterExpr",t[t.PipeBinding=11]="PipeBinding",t[t.PipeBindingVariadic=12]="PipeBindingVariadic",t[t.SafePropertyRead=13]="SafePropertyRead",t[t.SafeKeyedRead=14]="SafeKeyedRead",t[t.SafeInvokeFunction=15]="SafeInvokeFunction",t[t.SafeTernaryExpr=16]="SafeTernaryExpr",t[t.EmptyExpr=17]="EmptyExpr",t[t.AssignTemporaryExpr=18]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=19]="ReadTemporaryExpr",t[t.SlotLiteralExpr=20]="SlotLiteralExpr",t[t.ConditionalCase=21]="ConditionalCase",t[t.ConstCollected=22]="ConstCollected",t[t.TwoWayBindingSet=23]="TwoWayBindingSet"})(B||(B={}));var zt;(function(t){t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline"})(zt||(zt={}));var Je;(function(t){t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias"})(Je||(Je={}));var gt;(function(t){t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"})(gt||(gt={}));var L;(function(t){t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.Animation=6]="Animation",t[t.TwoWayProperty=7]="TwoWayProperty"})(L||(L={}));var Ls;(function(t){t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing"})(Ls||(Ls={}));var qr;(function(t){t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute"})(qr||(qr={}));var ae;(function(t){t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex"})(ae||(ae={}));var qe;(function(t){t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math"})(qe||(qe={}));var pe;(function(t){t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport"})(pe||(pe={}));var Jn;(function(t){t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr"})(Jn||(Jn={}));var dt;(function(t){t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block"})(dt||(dt={}));var Ad=Symbol("ConsumesSlot"),bd=Symbol("DependsOnSlotContext"),so=Symbol("ConsumesVars"),_a=Symbol("UsesVarOffset"),$n={[Ad]:!0,numSlotsUsed:1},Vt={[bd]:!0},Nt={[so]:!0};function Ws(t){return t[Ad]===!0}function Su(t){return t[bd]===!0}function pl(t){return t[so]===!0}function Nh(t){return t[_a]===!0}function En(t){return{kind:p.Statement,statement:t,...X}}function ms(t,e,n,r){return{kind:p.Variable,xref:t,variable:e,initializer:n,flags:r,...X}}var X={debugListId:null,prev:null,next:null};function uw(t,e,n){return{kind:p.InterpolateText,target:t,interpolation:e,sourceSpan:n,...Vt,...Nt,...X}}var Ce=class{constructor(e,n,r){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function Gr(t,e,n,r,s,i,o,a,l,c,u){return{kind:p.Binding,bindingKind:e,target:t,name:n,expression:r,unit:s,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:u,...X}}function pw(t,e,n,r,s,i,o,a,l,c){return{kind:p.Property,target:t,name:e,expression:n,isAnimationTrigger:r,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:a,i18nMessage:l,sourceSpan:c,...Vt,...Nt,...X}}function hw(t,e,n,r,s,i,o,a,l){return{kind:p.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:i,i18nContext:o,i18nMessage:a,sourceSpan:l,...Vt,...Nt,...X}}function fw(t,e,n,r,s){return{kind:p.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:s,...Vt,...Nt,...X}}function dw(t,e,n,r){return{kind:p.ClassProp,target:t,name:e,expression:n,sourceSpan:r,...Vt,...Nt,...X}}function mw(t,e,n){return{kind:p.StyleMap,target:t,expression:e,sourceSpan:n,...Vt,...Nt,...X}}function gw(t,e,n){return{kind:p.ClassMap,target:t,expression:e,sourceSpan:n,...Vt,...Nt,...X}}function yw(t,e,n,r,s,i,o,a,l,c){return{kind:p.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:s,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:l,sourceSpan:c,...Vt,...Nt,...X}}function vw(t,e){return{kind:p.Advance,delta:t,sourceSpan:e,...X}}function Nd(t,e,n,r){return{kind:p.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null,...X,...Vt,...Nt}}function Ew(t,e,n,r){return{kind:p.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r,...X,...Vt}}function Sw(t,e,n,r){return{kind:p.DeferWhen,target:t,expr:e,prefetch:n,sourceSpan:r,...X,...Vt,...Nt}}function Dd(t,e,n,r,s,i,o,a,l,c,u){return{kind:p.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:s,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:a,usage:l,name:c,sourceSpan:u,...X,...Nt,...Vt}}function ww(t,e,n){return{kind:p.I18nApply,owner:t,handle:e,sourceSpan:n,...X}}var Dh,_h,Rh,kh,Ph,Mh;function Sn(t){return t instanceof ce}var ce=class extends ne{constructor(e=null){super(null,e)}},Ye=class t extends ce{constructor(e){super(),this.name=e,this.kind=B.LexicalRead}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},ea=class t extends ce{constructor(e,n,r){super(),this.target=e,this.targetSlot=n,this.offset=r,this.kind=B.Reference}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},On=class t extends ce{constructor(e){super(),this.view=e,this.kind=B.Context}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},ta=class t extends ce{constructor(e){super(),this.view=e,this.kind=B.TrackContext}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},na=class t extends ce{constructor(){super(),this.kind=B.NextContext,this.steps=1}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},pc=class t extends ce{constructor(){super(),this.kind=B.GetCurrentView}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},ra=class t extends ce{constructor(e){super(),this.view=e,this.kind=B.RestoreView}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=_(this.view,e,n))}clone(){return new t(this.view instanceof ne?this.view.clone():this.view)}},hc=class t extends ce{constructor(e){super(),this.expr=e,this.kind=B.ResetView}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=_(this.expr,e,n)}clone(){return new t(this.expr.clone())}},sa=class t extends ce{constructor(e,n){super(),this.target=e,this.value=n,this.kind=B.TwoWayBindingSet}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=_(this.target,e,n),this.value=_(this.value,e,n)}clone(){return new t(this.target,this.value)}},hr=class t extends ce{constructor(e){super(),this.xref=e,this.kind=B.ReadVariable,this.name=null}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Hr=class t extends ce{static{Dh=so,_h=_a}constructor(e,n){super(),this.kind=B.PureFunctionExpr,this[Dh]=!0,this[_h]=!0,this.varOffset=null,this.fn=null,this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,r)=>n.isEquivalent(this.args[r]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=_(this.body,e,n|re.InChildOperation):this.fn!==null&&(this.fn=_(this.fn,e,n));for(let r=0;r<this.args.length;r++)this.args[r]=_(this.args[r],e,n)}clone(){let e=new t(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}},Os=class t extends ce{constructor(e){super(),this.index=e,this.kind=B.PureFunctionParameterExpr}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Wr=class t extends ce{static{Rh=so,kh=_a}constructor(e,n,r,s){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=s,this.kind=B.PipeBinding,this[Rh]=!0,this[kh]=!0,this.varOffset=null}visitExpression(e,n){for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let r=0;r<this.args.length;r++)this.args[r]=_(this.args[r],e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}},ia=class t extends ce{static{Ph=so,Mh=_a}constructor(e,n,r,s,i){super(),this.target=e,this.targetSlot=n,this.name=r,this.args=s,this.numArgs=i,this.kind=B.PipeBindingVariadic,this[Ph]=!0,this[Mh]=!0,this.varOffset=null}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=_(this.args,e,n)}clone(){let e=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}},Fs=class t extends ce{constructor(e,n){super(),this.receiver=e,this.name=n,this.kind=B.SafePropertyRead}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},Bs=class t extends ce{constructor(e,n,r){super(r),this.receiver=e,this.index=n,this.kind=B.SafeKeyedRead}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_(this.receiver,e,n),this.index=_(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},fr=class t extends ce{constructor(e,n){super(),this.receiver=e,this.args=n,this.kind=B.SafeInvokeFunction}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let r of this.args)r.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=_(this.receiver,e,n);for(let r=0;r<this.args.length;r++)this.args[r]=_(this.args[r],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},$s=class t extends ce{constructor(e,n){super(),this.guard=e,this.expr=n,this.kind=B.SafeTernaryExpr}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=_(this.guard,e,n),this.expr=_(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},Gi=class t extends ce{constructor(){super(...arguments),this.kind=B.EmptyExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},nn=class t extends ce{constructor(e,n){super(),this.expr=e,this.xref=n,this.kind=B.AssignTemporaryExpr,this.name=null}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=_(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},Fn=class t extends ce{constructor(e){super(),this.xref=e,this.kind=B.ReadTemporaryExpr,this.name=null}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},oa=class t extends ce{constructor(e){super(),this.slot=e,this.kind=B.SlotLiteralExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},aa=class t extends ce{constructor(e,n,r,s=null){super(),this.expr=e,this.target=n,this.targetSlot=r,this.alias=s,this.kind=B.ConditionalCase}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=_(this.expr,e,n))}},Hi=class t extends ce{constructor(e){super(),this.expr=e,this.kind=B.ConstCollected}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function yt(t,e){Ke(t,(n,r)=>(e(n,r),n),re.None)}var re;(function(t){t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation"})(re||(re={}));function hl(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=_(t.expressions[r],e,n)}function Ke(t,e,n){switch(t.kind){case p.StyleProp:case p.StyleMap:case p.ClassProp:case p.ClassMap:case p.Binding:t.expression instanceof Ce?hl(t.expression,e,n):t.expression=_(t.expression,e,n);break;case p.Property:case p.HostProperty:case p.Attribute:t.expression instanceof Ce?hl(t.expression,e,n):t.expression=_(t.expression,e,n),t.sanitizer=t.sanitizer&&_(t.sanitizer,e,n);break;case p.TwoWayProperty:t.expression=_(t.expression,e,n),t.sanitizer=t.sanitizer&&_(t.sanitizer,e,n);break;case p.I18nExpression:t.expression=_(t.expression,e,n);break;case p.InterpolateText:hl(t.interpolation,e,n);break;case p.Statement:la(t.statement,e,n);break;case p.Variable:t.initializer=_(t.initializer,e,n);break;case p.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=_(r.expr,e,n));t.processed!==null&&(t.processed=_(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=_(t.contextValue,e,n));break;case p.Listener:case p.TwoWayListener:for(let r of t.handlerOps)Ke(r,e,n|re.InChildOperation);break;case p.ExtractedAttribute:t.expression=t.expression&&_(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&_(t.trustedValueFn,e,n);break;case p.RepeaterCreate:t.track=_(t.track,e,n),t.trackByFn!==null&&(t.trackByFn=_(t.trackByFn,e,n));break;case p.Repeater:t.collection=_(t.collection,e,n);break;case p.Defer:t.loadingConfig!==null&&(t.loadingConfig=_(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=_(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=_(t.resolverFn,e,n));break;case p.I18nMessage:for(let[r,s]of t.params)t.params.set(r,_(s,e,n));for(let[r,s]of t.postprocessingParams)t.postprocessingParams.set(r,_(s,e,n));break;case p.DeferWhen:t.expr=_(t.expr,e,n);break;case p.Advance:case p.Container:case p.ContainerEnd:case p.ContainerStart:case p.DeferOn:case p.DisableBindings:case p.Element:case p.ElementEnd:case p.ElementStart:case p.EnableBindings:case p.I18n:case p.I18nApply:case p.I18nContext:case p.I18nEnd:case p.I18nStart:case p.IcuEnd:case p.IcuStart:case p.Namespace:case p.Pipe:case p.Projection:case p.ProjectionDef:case p.Template:case p.Text:case p.I18nAttributes:case p.IcuPlaceholder:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${p[t.kind]}`)}}function _(t,e,n){if(t instanceof ce)t.transformInternalExpressions(e,n);else if(t instanceof Z)t.lhs=_(t.lhs,e,n),t.rhs=_(t.rhs,e,n);else if(t instanceof nr)t.expr=_(t.expr,e,n);else if(t instanceof it)t.receiver=_(t.receiver,e,n);else if(t instanceof gn)t.receiver=_(t.receiver,e,n),t.index=_(t.index,e,n);else if(t instanceof kr)t.receiver=_(t.receiver,e,n),t.value=_(t.value,e,n);else if(t instanceof ws)t.receiver=_(t.receiver,e,n),t.index=_(t.index,e,n),t.value=_(t.value,e,n);else if(t instanceof He){t.fn=_(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=_(t.args[r],e,n)}else if(t instanceof ot)for(let r=0;r<t.entries.length;r++)t.entries[r]=_(t.entries[r],e,n);else if(t instanceof $t)for(let r=0;r<t.entries.length;r++)t.entries[r].value=_(t.entries[r].value,e,n);else if(t instanceof Zt)t.condition=_(t.condition,e,n),t.trueCase=_(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=_(t.falseCase,e,n));else if(t instanceof Rr)t.expr=_(t.expr,e,n);else if(t instanceof gi)t.value=_(t.value,e,n);else if(t instanceof vi)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=_(t.expressions[r],e,n);else if(t instanceof xs)t.condition=_(t.condition,e,n);else if(t instanceof yi)t.tag=_(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>_(r,e,n));else if(t instanceof _n)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)la(t.body[r],e,n);else t.body=_(t.body,e,n);else if(!(t instanceof $)){if(!(t instanceof Tt||t instanceof Fe||t instanceof Te))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function la(t,e,n){if(t instanceof xt)t.expr=_(t.expr,e,n);else if(t instanceof Qe)t.value=_(t.value,e,n);else if(t instanceof We)t.value!==void 0&&(t.value=_(t.value,e,n));else if(t instanceof wi){t.condition=_(t.condition,e,n);for(let r of t.trueCase)la(r,e,n);for(let r of t.falseCase)la(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function _d(t){return t instanceof Te&&typeof t.value=="string"}var w=class t{static{this.nextListId=0}constructor(){this.debugListId=t.nextListId++,this.head={kind:p.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.tail={kind:p.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.head.next=this.tail,this.tail.prev=this.head}push(e){if(Array.isArray(e)){for(let r of e)this.push(r);return}t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=this.debugListId;let n=this.tail.prev;e.prev=n,n.next=e,e.next=this.tail,this.tail.prev=e}prepend(e){if(e.length===0)return;for(let s of e)t.assertIsNotEnd(s),t.assertIsUnowned(s),s.debugListId=this.debugListId;let n=this.head.next,r=this.head;for(let s of e)r.next=s,s.prev=r,r=s;r.next=n,n.prev=r}*[Symbol.iterator](){let e=this.head.next;for(;e!==this.tail;){t.assertIsOwned(e,this.debugListId);let n=e.next;yield e,e=n}}*reversed(){let e=this.tail.prev;for(;e!==this.head;){t.assertIsOwned(e,this.debugListId);let n=e.prev;yield e,e=n}}static replace(e,n){t.assertIsNotEnd(e),t.assertIsNotEnd(n),t.assertIsOwned(e),t.assertIsUnowned(n),n.debugListId=e.debugListId,e.prev!==null&&(e.prev.next=n,n.prev=e.prev),e.next!==null&&(e.next.prev=n,n.next=e.next),e.debugListId=null,e.prev=null,e.next=null}static replaceWithMany(e,n){if(n.length===0){t.remove(e);return}t.assertIsNotEnd(e),t.assertIsOwned(e);let r=e.debugListId;e.debugListId=null;for(let c of n)t.assertIsNotEnd(c),t.assertIsUnowned(c);let{prev:s,next:i}=e;e.prev=null,e.next=null;let o=s;for(let c of n)this.assertIsUnowned(c),c.debugListId=r,o.next=c,c.prev=o,c.next=null,o=c;let a=n[0],l=o;s!==null&&(s.next=a,a.prev=s),i!==null&&(i.prev=l,l.next=i)}static remove(e){t.assertIsNotEnd(e),t.assertIsOwned(e),e.prev.next=e.next,e.next.prev=e.prev,e.debugListId=null,e.prev=null,e.next=null}static insertBefore(e,n){if(Array.isArray(e)){for(let r of e)this.insertBefore(r,n);return}if(t.assertIsOwned(n),n.prev===null)throw new Error("AssertionError: illegal operation on list start");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,e.prev=null,n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e}static insertAfter(e,n){if(t.assertIsOwned(n),n.next===null)throw new Error("AssertionError: illegal operation on list end");t.assertIsNotEnd(e),t.assertIsUnowned(e),e.debugListId=n.debugListId,n.next.prev=e,e.next=n.next,e.prev=n,n.next=e}static assertIsUnowned(e){if(e.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${p[e.kind]}`)}static assertIsOwned(e,n){if(e.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${p[e.kind]}`);if(n!==void 0&&e.debugListId!==n)throw new Error(`AssertionError: node belongs to the wrong list (expected ${n}, actual ${e.debugListId})`)}static assertIsNotEnd(e){if(e.kind===p.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}},bt=class{constructor(){this.slot=null}},Tw=new Set([p.Element,p.ElementStart,p.Container,p.ContainerStart,p.Template,p.RepeaterCreate]);function dr(t){return Tw.has(t.kind)}function xw(t,e,n,r,s,i){return{kind:p.ElementStart,xref:e,tag:t,handle:new bt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:s,wholeSourceSpan:i,...$n,...X}}function Ra(t,e,n,r,s,i,o,a){return{kind:p.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new bt,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a,...$n,...X}}function Cw(t,e,n,r,s,i,o,a,l,c){return{kind:p.RepeaterCreate,attributes:null,xref:t,handle:new bt,emptyView:e,track:r,trackByFn:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:qe.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:s,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:l,wholeSourceSpan:c,...$n,...X,...Nt,numSlotsUsed:e===null?2:3}}function Iw(t,e){return{kind:p.ElementEnd,xref:t,sourceSpan:e,...X}}function Aw(t){return{kind:p.DisableBindings,xref:t,...X}}function bw(t){return{kind:p.EnableBindings,xref:t,...X}}function Rd(t,e,n,r){return{kind:p.Text,xref:t,handle:new bt,initialValue:e,icuPlaceholder:n,sourceSpan:r,...$n,...X}}function wu(t,e,n,r,s,i,o,a,l){let c=new w;return c.push(s),{kind:p.Listener,target:t,targetSlot:e,tag:r,hostListener:a,name:n,handlerOps:c,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:i!==null,animationPhase:i,eventTarget:o,sourceSpan:l,...X}}function kd(t,e,n,r,s,i){let o=new w;return o.push(s),{kind:p.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i,...X}}function Pd(t,e,n){return{kind:p.Pipe,xref:t,handle:e,name:n,...X,...$n}}function Nw(t){return{kind:p.Namespace,active:t,...X}}function Dw(t){return{kind:p.ProjectionDef,def:t,...X}}function _w(t,e,n,r,s){return{kind:p.Projection,xref:t,handle:new bt,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:s,...X,...$n,numSlotsUsed:r===null?1:2}}function Ot(t,e,n,r,s,i,o,a){return{kind:p.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:s,i18nContext:i,i18nMessage:o,securityContext:a,trustedValueFn:null,...X}}function Rw(t,e,n,r,s,i){return{kind:p.Defer,xref:t,handle:new bt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:s,sourceSpan:i,...X,...$n,numSlotsUsed:2}}function wr(t,e,n,r){return{kind:p.DeferOn,defer:t,trigger:e,prefetch:n,sourceSpan:r,...X}}function kw(t,e,n,r,s,i,o,a){return{kind:p.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:s,params:i,postprocessingParams:o,needsPostprocessing:a,subMessages:[],...X}}function ka(t,e,n,r){return{kind:p.I18nStart,xref:t,handle:new bt,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r,...X,...$n}}function Pa(t,e){return{kind:p.I18nEnd,xref:t,sourceSpan:e,...X}}function Pw(t,e,n,r){return{kind:p.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r,...X}}function Mw(t){return{kind:p.IcuEnd,xref:t,...X}}function Lw(t,e,n){return{kind:p.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[],...X}}function fl(t,e,n,r,s){if(n===null&&t!==Jn.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return{kind:p.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:s,params:new Map,postprocessingParams:new Map,...X}}function Md(t,e,n){return{kind:p.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null,...X,...$n}}function Ow(t,e,n,r,s,i){return{kind:p.HostProperty,name:t,expression:e,isAnimationTrigger:n,i18nContext:r,securityContext:s,sanitizer:null,sourceSpan:i,...Nt,...X}}var Ld="CTX_REF_MARKER",N;(function(t){t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both"})(N||(N={}));var ca=class{constructor(e,n,r){this.componentName=e,this.pool=n,this.compatibility=r,this.kind=N.Both,this.nextXrefId=0}allocateXrefId(){return this.nextXrefId++}},Wi=class extends ca{constructor(e,n,r,s,i,o,a){super(e,n,r),this.relativeContextFilePath=s,this.i18nUseExternalIds=i,this.deferMeta=o,this.allDeferrableDepsFn=a,this.kind=N.Tmpl,this.fnSuffix="Template",this.views=new Map,this.contentSelectors=null,this.consts=[],this.constsInitializers=[],this.root=new dn(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(e){let n=new dn(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let s=0;s<this.consts.length;s++)if(this.consts[s].isEquivalent(e))return s;let r=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),r}},ua=class{constructor(e){this.xref=e,this.create=new w,this.update=new w,this.fnName=null,this.vars=null}*ops(){for(let e of this.create)if(yield e,e.kind===p.Listener||e.kind===p.TwoWayListener)for(let n of e.handlerOps)yield n;for(let e of this.update)yield e}},dn=class extends ua{constructor(e,n,r){super(n),this.job=e,this.parent=r,this.contextVariables=new Map,this.aliases=new Set,this.decls=null}},pa=class extends ca{constructor(e,n,r){super(e,n,r),this.kind=N.Host,this.fnSuffix="HostBindings",this.root=new fc(this)}get units(){return[this.root]}},fc=class extends ua{constructor(e){super(0),this.job=e,this.attributes=null}};function Fw(t){for(let e of t.units)for(let n of e.ops())Ke(n,Bw,re.None)}function Bw(t){if(t instanceof He&&t.fn instanceof Ye&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function $w(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===p.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===p.I18nExpression&&Uw(e,r)&&w.insertAfter(ww(r.i18nOwner,r.handle,null),r)}function Uw(t,e){if(e.next?.kind!==p.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function Vw(t){for(let e of t.units){let n=e.update.head,r=[],s=null;for(let i of e.create){if(i.kind===p.I18nStart)s={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===p.I18nEnd){for(let o of r)o.target=s.lastSlotConsumer,w.insertBefore(o,n);r.length=0,s=null}if(Ws(i))for(s!==null&&(s.lastSlotConsumer=i.xref);n.next!==null;){if(s!==null&&n.kind===p.I18nExpression&&n.usage===qr.I18nText&&n.i18nOwner===s.blockXref){let o=n;n=n.next,w.remove(o),r.push(o);continue}if(Su(n)&&n.target!==i.xref)break;n=n.next}}}}function Tu(t){let e=new Map;for(let n of t.create)Ws(n)&&(e.set(n.xref,n),n.kind===p.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function qw(t){for(let e of t.units){let n=Tu(e);for(let r of e.ops())switch(r.kind){case p.Attribute:Gw(e,r,n);break;case p.Property:if(!r.isAnimationTrigger){let s;r.i18nMessage!==null&&r.templateKind===null?s=L.I18n:r.isStructuralTemplateAttribute?s=L.Template:s=L.Property,w.insertBefore(Ot(r.target,s,null,r.name,null,null,null,r.securityContext),ls(n,r.target))}break;case p.TwoWayProperty:w.insertBefore(Ot(r.target,L.TwoWayProperty,null,r.name,null,null,null,r.securityContext),ls(n,r.target));break;case p.StyleProp:case p.ClassProp:e.job.compatibility===gt.TemplateDefinitionBuilder&&r.expression instanceof Gi&&w.insertBefore(Ot(r.target,L.Property,null,r.name,null,null,null,le.STYLE),ls(n,r.target));break;case p.Listener:if(!r.isAnimationListener){let s=Ot(r.target,L.Property,null,r.name,null,null,null,le.NONE);if(t.kind===N.Host){if(t.compatibility)break;e.create.push(s)}else w.insertBefore(s,ls(n,r.target))}break;case p.TwoWayListener:if(t.kind!==N.Host){let s=Ot(r.target,L.Property,null,r.name,null,null,null,le.NONE);w.insertBefore(s,ls(n,r.target))}break}}}function ls(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function Gw(t,e,n){if(e.expression instanceof Ce)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===gt.TemplateDefinitionBuilder&&(r&&=e.isTextAttribute),r){let s=Ot(e.target,e.isStructuralTemplateAttribute?L.Template:L.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===N.Host)t.create.push(s);else{let i=ls(n,e.target);w.insertBefore(s,i)}w.remove(e)}}function Hw(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function Ww(t){let e=new Map;for(let n of t.units)for(let r of n.create)dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===p.Binding)switch(r.bindingKind){case L.Attribute:if(r.name==="ngNonBindable"){w.remove(r);let s=Hw(e,r.target);s.nonBindable=!0}else{let[s,i]=tn(r.name);w.replace(r,yw(r.target,s,i,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case L.Property:case L.Animation:t.kind===N.Host?w.replace(r,Ow(r.name,r.expression,r.bindingKind===L.Animation,r.i18nContext,r.securityContext,r.sourceSpan)):w.replace(r,pw(r.target,r.name,r.expression,r.bindingKind===L.Animation,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case L.TwoWayProperty:if(!(r.expression instanceof ne))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);w.replace(r,hw(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case L.I18n:case L.ClassName:case L.StyleProperty:throw new Error(`Unhandled binding of kind ${L[r.bindingKind]}`)}}var jw=new Set([f.attribute,f.classProp,f.element,f.elementContainer,f.elementContainerEnd,f.elementContainerStart,f.elementEnd,f.elementStart,f.hostProperty,f.i18nExp,f.listener,f.listener,f.property,f.styleProp,f.stylePropInterpolate1,f.stylePropInterpolate2,f.stylePropInterpolate3,f.stylePropInterpolate4,f.stylePropInterpolate5,f.stylePropInterpolate6,f.stylePropInterpolate7,f.stylePropInterpolate8,f.stylePropInterpolateV,f.syntheticHostListener,f.syntheticHostProperty,f.templateCreate,f.twoWayProperty,f.twoWayListener]);function Kw(t){for(let e of t.units)Lh(e.create),Lh(e.update)}function Lh(t){let e=null;for(let n of t){if(n.kind!==p.Statement||!(n.statement instanceof xt)){e=null;continue}if(!(n.statement.expr instanceof He)||!(n.statement.expr.fn instanceof Fe)){e=null;continue}let r=n.statement.expr.fn.value;if(!jw.has(r)){e=null;continue}if(e!==null&&e.instruction===r){let s=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=s,e.op.statement=s.toStmt(),w.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr}}}function zw(t){for(let e of t.units)for(let n of e.update)n.kind===p.Attribute&&n.expression instanceof Ce&&n.expression.strings.length===2&&n.expression.strings.every(s=>s==="")&&(n.expression=n.expression.expressions[0])}function Xw(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==p.Conditional)continue;let r,s=n.conditions.findIndex(o=>o.expr===null);if(s>=0){let o=n.conditions.splice(s,1)[0].targetSlot;r=new oa(o)}else r=v(-1);let i=n.test==null?null:new nn(n.test,t.allocateXrefId());for(let o=n.conditions.length-1;o>=0;o--){let a=n.conditions[o];if(a.expr!==null){if(i!==null){let l=o===0?i:new Fn(i.xref);a.expr=new Z(I.Identical,l,a.expr)}else if(a.alias!==null){let l=t.allocateXrefId();a.expr=new nn(a.expr,l),n.contextValue=new Fn(l)}r=new Zt(a.expr,new oa(a.targetSlot),r)}}n.processed=r,n.conditions=[]}}var Yw=new Map([["&&",I.And],[">",I.Bigger],[">=",I.BiggerEquals],["|",I.BitwiseOr],["&",I.BitwiseAnd],["/",I.Divide],["==",I.Equals],["===",I.Identical],["<",I.Lower],["<=",I.LowerEquals],["-",I.Minus],["%",I.Modulo],["*",I.Multiply],["!=",I.NotEquals],["!==",I.NotIdentical],["??",I.NullishCoalesce],["||",I.Or],["+",I.Plus]]);function Od(t){let e=new Map([["svg",qe.SVG],["math",qe.Math]]);return t===null?qe.HTML:e.get(t)??qe.HTML}function Qw(t){let e=new Map([["svg",qe.SVG],["math",qe.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function Jw(t,e){return e===qe.HTML?t:`:${Qw(e)}:${t}`}function Us(t){return Array.isArray(t)?ie(t.map(Us)):v(t)}function Zw(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===p.ExtractedAttribute){let s=e.get(r.target)||new dc(t.compatibility);e.set(r.target,s),s.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),w.remove(r)}if(t instanceof Wi)for(let n of t.units)for(let r of n.create)if(r.kind==p.Projection){let s=e.get(r.xref);if(s!==void 0){let i=mc(s);i.entries.length>0&&(r.attributes=i)}}else dr(r)&&(r.attributes=Oh(t,e,r.xref),r.kind===p.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=Oh(t,e,r.emptyView)));else if(t instanceof pa)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let s=mc(r);s.entries.length>0&&(t.root.attributes=s)}}function Oh(t,e,n){let r=e.get(n);if(r!==void 0){let s=mc(r);if(s.entries.length>0)return t.addConst(s)}return null}var rs=Object.freeze([]),dc=class{get attributes(){return this.byKind.get(L.Attribute)??rs}get classes(){return this.byKind.get(L.ClassName)??rs}get styles(){return this.byKind.get(L.StyleProperty)??rs}get bindings(){return this.propertyBindings??rs}get template(){return this.byKind.get(L.Template)??rs}get i18n(){return this.byKind.get(L.I18n)??rs}constructor(e){this.compatibility=e,this.known=new Map,this.byKind=new Map,this.propertyBindings=null,this.projectAs=null}isKnown(e,n){let r=this.known.get(e)??new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,s,i){if(!(this.compatibility===gt.TemplateDefinitionBuilder&&(e===L.Attribute||e===L.ClassName||e===L.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof Te)||r.value==null||typeof r.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let a=this.arrayFor(e);if(a.push(...eT(s,n)),e===L.Attribute||e===L.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!_d(r))throw Error("AssertionError: extracted attribute value should be string literal");a.push(Zf(i,new Lo([new Oo(r.value)],[]),void 0,r.sourceSpan))}else a.push(r)}}arrayFor(e){return e===L.Property||e===L.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function eT(t,e){let n=v(e);return t?[v(0),v(t),n]:[n]}function mc({attributes:t,bindings:e,classes:n,i18n:r,projectAs:s,styles:i,template:o}){let a=[...t];if(s!==null){let l=ou(s)[0];a.push(v(5),Us(l))}return n.length>0&&a.push(v(1),...n),i.length>0&&a.push(v(2),...i),e.length>0&&a.push(v(3),...e),o.length>0&&a.push(v(4),...o),r.length>0&&a.push(v(6),...r),ie(a)}function tT(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===p.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case p.Property:case p.Attribute:if(r.i18nContext===null||!(r.expression instanceof Ce))continue;let s=e.get(r.target);if(s===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(s.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<r.expression.expressions.length;o++){let a=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);i.push(Dd(r.i18nContext,s.target,s.xref,s.handle,a,null,r.expression.i18nPlaceholders[o],Ls.Creation,qr.I18nAttribute,r.name,r.sourceSpan))}w.replaceWithMany(r,i);break}}}function nT(t){for(let e of t.units)for(let n of e.create)if(n.kind===p.Defer){if(n.resolverFn!==null)continue;if(n.ownResolverFn!==null){if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let r=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(n.ownResolverFn,`${r}_Defer_${n.handle.slot}_DepsFn`,!1)}}}function rT(t){let e=new Map;for(let s of t.units)for(let i of s.ops())switch(i.kind){case p.Binding:case p.Property:case p.Attribute:case p.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=fl(Jn.Attr,t.allocateXrefId(),null,i.i18nMessage,null);s.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let s of t.units)for(let i of s.create)switch(i.kind){case p.I18nStart:if(i.xref===i.root){let o=fl(Jn.RootI18n,t.allocateXrefId(),i.xref,i.message,null);s.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let s of t.units)for(let i of s.create)if(i.kind===p.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let r=null;for(let s of t.units)for(let i of s.create)switch(i.kind){case p.I18nStart:r=i;break;case p.I18nEnd:r=null;break;case p.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==r.message.id){let o=fl(Jn.Icu,t.allocateXrefId(),r.root,i.message,null);s.create.push(o),i.context=o.xref}else i.context=r.context,n.get(r.xref).contextKind=Jn.Icu;break}}function sT(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===p.Binding&&r.isTextAttribute){let s=e.get(r.target)||new Set;s.has(r.name)&&t.compatibility===gt.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&w.remove(r),s.add(r.name),e.set(r.target,s)}}function iT(t){for(let e of t.units)for(let n of e.create)n.kind===p.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new Hi(Us([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new Hi(Us([n.loadingMinimumTime,n.loadingAfterTime]))))}function oT(t){let e=new Map;function n(s){if(e.has(s.xref))return e.get(s.xref);let i=new gc;for(let o of s.create)if(!(!dr(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&i.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(s.xref,i),i}function r(s,i,o){switch(i.trigger.kind){case pe.Idle:case pe.Immediate:case pe.Timer:return;case pe.Hover:case pe.Interaction:case pe.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let c=t.views.get(o);if(c==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of c.create)if(Ws(u)&&(dr(u)||u.kind===p.Projection)){i.trigger.targetXref=u.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=u.handle;return}return}let a=o!==null?t.views.get(o):s,l=o!==null?-1:0;for(;a!==null;){let c=n(a);if(c.targets.has(i.trigger.targetName)){let{xref:u,slot:h}=c.targets.get(i.trigger.targetName);i.trigger.targetXref=u,i.trigger.targetView=a.xref,i.trigger.targetSlotViewSteps=l,i.trigger.targetSlot=h;return}a=a.parent!==null?t.views.get(a.parent):null,l++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let s of t.units){let i=new Map;for(let o of s.create)switch(o.kind){case p.Defer:i.set(o.xref,o);break;case p.DeferOn:let a=i.get(o.defer);r(s,o,a.placeholderView);break}}}var gc=class{constructor(){this.targets=new Map}},aT=new Map([[p.ElementEnd,[p.ElementStart,p.Element]],[p.ContainerEnd,[p.ContainerStart,p.Container]],[p.I18nEnd,[p.I18nStart,p.I18n]]]),lT=new Set([p.Pipe]);function cT(t){for(let e of t.units)for(let n of e.create){let r=aT.get(n.kind);if(r===void 0)continue;let[s,i]=r,o=n.prev;for(;o!==null&&lT.has(o.kind);)o=o.prev;o!==null&&o.kind===s&&(o.kind=i,w.remove(n))}}function uT(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>gT(r,{job:t}),re.None),Ke(n,yT,re.None)}var tM=[He,ot,$t,fr,Wr].map(t=>t.constructor.name);function Rt(t){return t instanceof nr?Rt(t.expr):t instanceof Z?Rt(t.lhs)||Rt(t.rhs):t instanceof Zt?t.falseCase&&Rt(t.falseCase)?!0:Rt(t.condition)||Rt(t.trueCase):t instanceof xs?Rt(t.condition):t instanceof nn?Rt(t.expr):t instanceof it?Rt(t.receiver):t instanceof gn?Rt(t.receiver)||Rt(t.index):t instanceof He||t instanceof ot||t instanceof $t||t instanceof fr||t instanceof Wr}function pT(t){let e=new Set;return _(t,n=>(n instanceof nn&&e.add(n.xref),n),re.None),e}function hT(t,e,n){return _(t,r=>{if(r instanceof nn&&e.has(r.xref)){let s=new Fn(r.xref);return n.job.compatibility===gt.TemplateDefinitionBuilder?new nn(s,s.xref):s}return r},re.None),t}function ss(t,e,n){let r;if(Rt(t)){let s=n.job.allocateXrefId();r=[new nn(t,s),new Fn(s)]}else r=[t,t.clone()],hT(r[1],pT(r[0]),n);return new $s(r[0],e(r[1]))}function fT(t){return t instanceof Fs||t instanceof Bs||t instanceof fr}function dT(t){return t instanceof it||t instanceof gn||t instanceof He}function Fd(t){return fT(t)||dT(t)}function mT(t){if(Fd(t)&&t.receiver instanceof $s){let e=t.receiver;for(;e.expr instanceof $s;)e=e.expr;return e}return null}function gT(t,e){if(!Fd(t))return t;let n=mT(t);if(n){if(t instanceof He)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof it)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof gn)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof fr)return n.expr=ss(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof Fs)return n.expr=ss(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof Bs)return n.expr=ss(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof fr)return ss(t.receiver,r=>r.callFn(t.args),e);if(t instanceof Fs)return ss(t.receiver,r=>r.prop(t.name),e);if(t instanceof Bs)return ss(t.receiver,r=>r.key(t.index),e)}return t}function yT(t){return t instanceof $s?new Zt(new Z(I.Equals,t.guard,Cs),Cs,t.expr):t}var Fh="\uFFFD",vT="#",ET="*",ST="/",wT=":",TT="[",xT="]",CT="|";function IT(t){let e=new Map,n=new Map,r=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case p.I18nContext:let a=AT(t,o);i.create.push(a),e.set(o.xref,a),r.set(o.xref,o);break;case p.I18nStart:n.set(o.xref,o);break}let s=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case p.IcuStart:s=o,w.remove(o);let a=r.get(o.context);if(a.contextKind!==Jn.Icu)continue;let l=n.get(a.i18nBlock);if(l.context===a.xref)continue;let c=n.get(l.root),u=e.get(c.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let h=e.get(a.xref);h.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(h.xref);break;case p.IcuEnd:s=null,w.remove(o);break;case p.IcuPlaceholder:if(s===null||s.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(s.context).postprocessingParams.set(o.name,v(bT(o))),w.remove(o);break}}function AT(t,e,n){let r=Bh(e.params),s=Bh(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return kw(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,n??null,r,s,i)}function bT(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(gs);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function Bh(t){let e=new Map;for(let[n,r]of t){let s=NT(r);s!==null&&e.set(n,v(s))}return e}function NT(t){if(t.length===0)return null;let e=t.map(n=>gs(n));return e.length===1?e[0]:`${TT}${e.join(CT)}${xT}`}function gs(t){if(t.flags&ae.ElementTag&&t.flags&ae.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let s=gs({...t,value:t.value.element,flags:t.flags&~ae.TemplateTag}),i=gs({...t,value:t.value.template,flags:t.flags&~ae.ElementTag});return t.flags&ae.OpenTag&&t.flags&ae.CloseTag?`${i}${s}${i}`:t.flags&ae.CloseTag?`${s}${i}`:`${i}${s}`}if(t.flags&ae.OpenTag&&t.flags&ae.CloseTag)return`${gs({...t,flags:t.flags&~ae.CloseTag})}${gs({...t,flags:t.flags&~ae.OpenTag})}`;if(t.flags===ae.None)return`${t.value}`;let e="",n="";t.flags&ae.ElementTag?e=vT:t.flags&ae.TemplateTag&&(e=ET),e!==""&&(n=t.flags&ae.CloseTag?ST:"");let r=t.subTemplateIndex===null?"":`${wT}${t.subTemplateIndex}`;return`${Fh}${n}${e}${t.value}${r}${Fh}`}function DT(t){for(let e of t.units){let n=new Map;for(let s of e.create){if(Ws(s)){if(s.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(s.xref,s.handle.slot)}let r=0;for(let s of e.update){if(Su(s)){if(!n.has(s.target))throw new Error(`AssertionError: reference to unknown slot for target ${s.target}`)}else continue;let i=n.get(s.target);if(r!==i){let o=i-r;if(o<0)throw new Error("AssertionError: slot counter should never need to move backwards");w.insertBefore(vw(o,s.sourceSpan),s),r=i}}}}function _T(t){let e=t.compatibility===gt.TemplateDefinitionBuilder,n=[],r=0;for(let s of t.units)for(let i of s.create)i.kind===p.Projection&&(n.push(i.selector),i.projectionSlotIndex=r++);if(n.length>0){let s=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:ou(o));s=t.pool.getConstLiteral(Us(i),e)}t.contentSelectors=t.pool.getConstLiteral(Us(n),e),t.root.create.prepend([Dw(s)])}}function RT(t){si(t.root,null)}function si(t,e){let n=kT(t,e);for(let s of t.create)switch(s.kind){case p.Template:si(t.job.views.get(s.xref),n);break;case p.Projection:s.fallbackView!==null&&si(t.job.views.get(s.fallbackView),n);break;case p.RepeaterCreate:si(t.job.views.get(s.xref),n),s.emptyView&&si(t.job.views.get(s.emptyView),n);break;case p.Listener:case p.TwoWayListener:s.handlerOps.prepend(yc(t,n));break}let r=yc(t,n);t.update.prepend(r)}function kT(t,e){let n={view:t.xref,viewContextVariable:{kind:Je.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Je.Identifier,name:null,identifier:r});for(let r of t.create)switch(r.kind){case p.ElementStart:case p.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let s=0;s<r.localRefs.length;s++)n.references.push({name:r.localRefs[s].name,targetId:r.xref,targetSlot:r.handle,offset:s,variable:{kind:Je.Identifier,name:null,identifier:r.localRefs[s].name}});break}return n}function yc(t,e){let n=[];e.view!==t.xref&&n.push(ms(t.job.allocateXrefId(),e.viewContextVariable,new na,zt.None));let r=t.job.views.get(e.view);for(let[s,i]of r.contextVariables){let o=new On(e.view),a=i===Ld?o:new it(o,i);n.push(ms(t.job.allocateXrefId(),e.contextVariables.get(s),a,zt.None))}for(let s of r.aliases)n.push(ms(t.job.allocateXrefId(),s,s.expression.clone(),zt.AlwaysInline));for(let s of e.references)n.push(ms(t.job.allocateXrefId(),s.variable,new ea(s.targetId,s.targetSlot,s.offset),zt.None));return e.parent!==null&&n.push(...yc(t,e.parent)),n}function PT(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>r instanceof Hi?v(t.addConst(r.expr)):r,re.None)}var $h="style.",Uh="class.",MT="style!",Vh="class!",qh="!important";function LT(t){for(let e of t.root.update)if(e.kind===p.Binding&&e.bindingKind===L.Property)if(e.name.endsWith(qh)&&(e.name=e.name.substring(0,e.name.length-qh.length)),e.name.startsWith($h)){e.bindingKind=L.StyleProperty,e.name=e.name.substring($h.length),OT(e.name)||(e.name=FT(e.name));let{property:n,suffix:r}=dl(e.name);e.name=n,e.unit=r}else e.name.startsWith(MT)?(e.bindingKind=L.StyleProperty,e.name="style"):e.name.startsWith(Uh)?(e.bindingKind=L.ClassName,e.name=dl(e.name.substring(Uh.length)).property):e.name.startsWith(Vh)&&(e.bindingKind=L.ClassName,e.name=dl(e.name.substring(Vh.length)).property)}function OT(t){return t.startsWith("--")}function FT(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function dl(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,s=t.lastIndexOf(".");return s>0&&(n=t.slice(s+1),r=t.substring(0,s)),{property:r,suffix:n}}function vc(t,e=!1){return je(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var Ec=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${to(e,!1)}}`}},BT=new Ec;function Bd(t){return t.visit(BT)}var Y;(function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"})(Y||(Y={}));var $T=["var","let","as","null","undefined","true","false","if","else","this"],ji=class{tokenize(e){let n=new Sc(e),r=[],s=n.scanToken();for(;s!=null;)r.push(s),s=n.scanToken();return r}},rn=class{constructor(e,n,r,s,i){this.index=e,this.end=n,this.type=r,this.numValue=s,this.strValue=i}isCharacter(e){return this.type==Y.Character&&this.numValue==e}isNumber(){return this.type==Y.Number}isString(){return this.type==Y.String}isOperator(e){return this.type==Y.Operator&&this.strValue==e}isIdentifier(){return this.type==Y.Identifier}isPrivateIdentifier(){return this.type==Y.PrivateIdentifier}isKeyword(){return this.type==Y.Keyword}isKeywordLet(){return this.type==Y.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==Y.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==Y.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==Y.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==Y.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==Y.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==Y.Keyword&&this.strValue=="this"}isError(){return this.type==Y.Error}toNumber(){return this.type==Y.Number?this.numValue:-1}toString(){switch(this.type){case Y.Character:case Y.Identifier:case Y.Keyword:case Y.Operator:case Y.PrivateIdentifier:case Y.String:case Y.Error:return this.strValue;case Y.Number:return this.numValue.toString();default:return null}}};function Gh(t,e,n){return new rn(t,e,Y.Character,n,String.fromCharCode(n))}function UT(t,e,n){return new rn(t,e,Y.Identifier,0,n)}function VT(t,e,n){return new rn(t,e,Y.PrivateIdentifier,0,n)}function qT(t,e,n){return new rn(t,e,Y.Keyword,0,n)}function ml(t,e,n){return new rn(t,e,Y.Operator,0,n)}function GT(t,e,n){return new rn(t,e,Y.String,0,n)}function HT(t,e,n){return new rn(t,e,Y.Number,n,"")}function WT(t,e,n){return new rn(t,e,Y.Error,0,n)}var gl=new rn(-1,-1,Y.Character,0,""),Sc=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?Xe:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,s=this.index;for(;r<=ud;)if(++s>=n){r=Xe;break}else r=e.charCodeAt(s);if(this.peek=r,this.index=s,s>=n)return null;if(Hh(r))return this.scanIdentifier();if(cn(r))return this.scanNumber(s);let i=s;switch(r){case as:return this.advance(),cn(this.peek)?this.scanNumber(i):Gh(i,this.index,as);case Dn:case Kt:case pn:case ht:case Es:case fs:case Ft:case Qn:case St:return this.scanCharacter(i,r);case $i:case Bi:return this.scanString();case pd:return this.scanPrivateIdentifier();case fd:case Jo:case gS:case xn:case mS:case wS:return this.scanOperator(i,String.fromCharCode(r));case Eh:return this.scanQuestion(i);case hs:case Xn:return this.scanComplexOperator(i,String.fromCharCode(r),Ar,"=");case tc:case Ar:return this.scanComplexOperator(i,String.fromCharCode(r),Ar,"=",Ar,"=");case Qo:return this.scanComplexOperator(i,"&",Qo,"&");case Sh:return this.scanComplexOperator(i,"|",Sh,"|");case wd:for(;Ui(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),Gh(e,this.index,n)}scanOperator(e,n){return this.advance(),ml(e,this.index,n)}scanComplexOperator(e,n,r,s,i,o){this.advance();let a=n;return this.peek==r&&(this.advance(),a+=s),i!=null&&this.peek==i&&(this.advance(),a+=o),ml(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();Wh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return $T.indexOf(n)>-1?qT(e,this.index,n):UT(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!Hh(this.peek))return this.error("Invalid character [#]",-1);for(;Wh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return VT(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!cn(this.peek))if(this.peek===no){if(!cn(this.input.charCodeAt(this.index-1))||!cn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===as)n=!1;else if(jT(this.peek)){if(this.advance(),KT(this.peek)&&this.advance(),!cn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let s=this.input.substring(e,this.index);r&&(s=s.replace(/_/g,""));let i=n?XT(s):parseFloat(s);return HT(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",s=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==li){r+=i.substring(s,this.index);let a;if(this.advance(),this.peek==vd){let l=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(l))a=parseInt(l,16);else return this.error(`Invalid unicode escape [\\u${l}]`,0);for(let c=0;c<5;c++)this.advance()}else a=zT(this.peek),this.advance();r+=String.fromCharCode(a),s=this.index}else{if(this.peek==Xe)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(s,this.index);return this.advance(),GT(e,this.index,r+o)}scanQuestion(e){this.advance();let n="?";return(this.peek===Eh||this.peek===as)&&(n+=this.peek===as?".":"?",this.advance()),ml(e,this.index,n)}error(e,n){let r=this.index+n;return WT(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}};function Hh(t){return $r<=t&&t<=ro||Hs<=t&&t<=Da||t==no||t==hd}function Wh(t){return Vi(t)||cn(t)||t==no||t==hd}function jT(t){return t==xS||t==vS}function KT(t){return t==Jo||t==fd}function zT(t){switch(t){case md:return Nr;case mu:return cd;case gd:return fu;case yd:return hu;case Ed:return ld;default:return t}}function XT(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var wc=class{constructor(e,n,r){this.strings=e,this.expressions=n,this.offsets=r}},Tc=class{constructor(e,n,r){this.templateBindings=e,this.warnings=n,this.errors=r}},ha=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,n,r,s=Lt){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i),a=new xr(e,n,r,o,1,this.errors,0).parseChain();return new Ie(a,e,n,r,this.errors)}parseBinding(e,n,r,s=Lt){let i=this._parseBindingAst(e,n,r,s);return new Ie(i,e,n,r,this.errors)}checkSimpleExpression(e){let n=new xc;return e.visit(n),n.errors}parseSimpleBinding(e,n,r,s=Lt){let i=this._parseBindingAst(e,n,r,s),o=this.checkSimpleExpression(i);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,n),new Ie(i,e,n,r,this.errors)}_reportError(e,n,r,s){this.errors.push(new Ii(e,n,r,s))}_parseBindingAst(e,n,r,s){this._checkNoInterpolation(e,n,s);let i=this._stripComments(e),o=this._lexer.tokenize(i);return new xr(e,n,r,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,n,r,s,i){let o=this._lexer.tokenize(n);return new xr(n,r,i,o,0,this.errors,0).parseTemplateBindings({source:e,span:new Ve(s,s+e.length)})}parseInterpolation(e,n,r,s,i=Lt){let{strings:o,expressions:a,offsets:l}=this.splitInterpolation(e,n,s,i);if(a.length===0)return null;let c=[];for(let u=0;u<a.length;++u){let h=a[u].text,d=this._stripComments(h),g=this._lexer.tokenize(d),y=new xr(e,n,r,g,0,this.errors,l[u]).parseChain();c.push(y)}return this.createInterpolationAst(o.map(u=>u.text),c,e,n,r)}parseInterpolationExpression(e,n,r){let s=this._stripComments(e),i=this._lexer.tokenize(s),o=new xr(e,n,r,i,0,this.errors,0).parseChain(),a=["",""];return this.createInterpolationAst(a,[o],e,n,r)}createInterpolationAst(e,n,r,s,i){let o=new Mr(0,r.length),a=new kn(o,o.toAbsolute(i),e,n);return new Ie(a,r,s,i,this.errors)}splitInterpolation(e,n,r,s=Lt){let i=[],o=[],a=[],l=r?YT(r):null,c=0,u=!1,h=!1,{start:d,end:g}=s;for(;c<e.length;)if(u){let y=c,C=y+d.length,A=this._getInterpolationEndIndex(e,g,C);if(A===-1){u=!1,h=!0;break}let D=A+g.length,U=e.substring(C,A);U.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${c} in`,n),o.push({text:U,start:y,end:D});let ve=(l?.get(y)??y)+d.length;a.push(ve),c=D,u=!1}else{let y=c;c=e.indexOf(d,c),c===-1&&(c=e.length);let C=e.substring(y,c);i.push({text:C,start:y,end:c}),u=!0}if(!u)if(h){let y=i[i.length-1];y.text+=e.substring(c),y.end=e.length}else i.push({text:e.substring(c),start:c,end:e.length});return new wc(i,o,a)}wrapLiteralPrimitive(e,n,r){let s=new Mr(0,e==null?0:e.length);return new Ie(new Pt(s,s.toAbsolute(r),e),e,n,r,this.errors)}_stripComments(e){let n=this._commentStart(e);return n!=null?e.substring(0,n):e}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let s=e.charCodeAt(r),i=e.charCodeAt(r+1);if(s===xn&&i==xn&&n==null)return r;n===s?n=null:n==null&&ci(s)&&(n=s)}return null}_checkNoInterpolation(e,n,{start:r,end:s}){let i=-1,o=-1;for(let a of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(r)&&(i=a);else if(o=this._getInterpolationEndIndex(e,s,a),o>-1)break;i>-1&&o>-1&&this._reportError(`Got interpolation (${r}${s}) where expression was expected`,e,`at column ${i} in`,n)}_getInterpolationEndIndex(e,n,r){for(let s of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,s))return s;if(e.startsWith("//",s))return e.indexOf(n,s)}return-1}*_forEachUnquotedChar(e,n){let r=null,s=0;for(let i=n;i<e.length;i++){let o=e[i];ci(e.charCodeAt(i))&&(r===null||r===o)&&s%2===0?r=r===null?o:null:r===null&&(yield i),s=o==="\\"?s+1:0}}},ys;(function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"})(ys||(ys={}));var xr=class{constructor(e,n,r,s,i,o,a){this.input=e,this.location=n,this.absoluteOffset=r,this.tokens=s,this.parseFlags=i,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=ys.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:gl}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let s=r;r=e,e=s}return new Mr(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===gl?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(St))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(St););else if(this.index<this.tokens.length){let s=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===s)break}}if(e.length===0){let r=this.offset,s=this.offset+this.input.length;return new Oe(this.span(r,s),this.sourceSpan(r,s))}return e.length==1?e[0]:new bs(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,s=this.expectIdentifierOrKeyword(),i,o;s!==null?i=this.sourceSpan(r):(s="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new Mr(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Qn);)a.push(this.parseExpression());n=new Lr(this.span(e),this.sourceSpan(e,o),n,s,a,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),s;if(this.consumeOptionalCharacter(Qn))s=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),s=new Oe(this.span(e),this.sourceSpan(e))}return new Ai(this.span(e),this.sourceSpan(e),n,r,s)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new pt(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new pt(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new pt(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==Y.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let s=this.parseRelational();n=new pt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==Y.Operator;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":this.advance();let s=this.parseAdditive();n=new pt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==Y.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let s=this.parseMultiplicative();n=new pt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==Y.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let s=this.parsePrefix();n=new pt(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parsePrefix(){if(this.next.type==Y.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),bi.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),bi.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new Ni(this.span(e),this.sourceSpan(e),r)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(as))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(Dn)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Es)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Es))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(Dn))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new Di(this.span(e),this.sourceSpan(e),n);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(Dn)){this.rparensExpected++;let n=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Kt),n}else{if(this.next.isKeywordNull())return this.advance(),new Pt(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Pt(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Pt(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Pt(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new fn(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Es)){this.rbracketsExpected++;let n=this.parseExpressionList(fs);return this.rbracketsExpected--,this.expectCharacter(fs),new Vo(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(pn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Me(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new Pt(this.span(e),this.sourceSpan(e),n)}else if(this.next.isString()){let n=this.next.toString();return this.advance(),new Pt(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new Oe(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new Oe(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new Oe(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(Ft));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(pn),!this.consumeOptionalCharacter(ht)){this.rbracesExpected++;do{let s=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString();if(e.push({key:o,quoted:i}),i)this.expectCharacter(Qn),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(Qn))n.push(this.parsePipe());else{let a=this.span(s),l=this.sourceSpan(s);n.push(new be(a,l,l,new Me(a,l),o))}}while(this.consumeOptionalCharacter(Ft)&&!this.next.isCharacter(ht));this.rbracesExpected--,this.expectCharacter(ht)}return new qo(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let s=this.inputIndex,i=this.withContext(ys.Writable,()=>{let l=this.expectIdentifierOrKeyword()??"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(s),a;if(r)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),a=new Oe(this.span(n),this.sourceSpan(n))):a=new Ct(this.span(n),this.sourceSpan(n),o,e,i);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new Oe(this.span(n),this.sourceSpan(n));let l=this.parseConditional();a=new Rn(this.span(n),this.sourceSpan(n),o,e,i,l)}else a=new be(this.span(n),this.sourceSpan(n),o,e,i);return a}parseCall(e,n,r){let s=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(s,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(Kt),this.rparensExpected--;let a=this.span(n),l=this.sourceSpan(n);return r?new or(a,l,e,i,o):new ir(a,l,e,i,o)}parseCallArguments(){if(this.next.isCharacter(Kt))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(Ft));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new Ve(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let s=this.expectTemplateBindingKey(),i=this.parseAsBinding(s);i?n.push(i):(s.source=e.source+s.source.charAt(0).toUpperCase()+s.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(s)))}this.consumeStatementTerminator()}return new Tc(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(ys.Writable,()=>{this.rbracketsExpected++;let s=this.parsePipe();if(s instanceof Oe&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(fs),this.consumeOptionalOperator("="))if(r)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new Uo(this.span(n),this.sourceSpan(n),e,s,i)}else return r?new sr(this.span(n),this.sourceSpan(n),e,s):new Ns(this.span(n),this.sourceSpan(n),e,s);return new Oe(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Qn);let r=this.getDirectiveBoundTarget(),s=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),s=this.currentAbsoluteOffset);let o=new Ve(e.span.start,s);return n.push(new Gl(o,e,r)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===gl||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,s=this.input.substring(n,r);return new Ie(e,s,this.location,this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new Ve(e.span.start,this.currentAbsoluteOffset);return new _i(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let s=new Ve(e,this.currentAbsoluteOffset);return new _i(s,n,r)}consumeStatementTerminator(){this.consumeOptionalCharacter(St)||this.consumeOptionalCharacter(Ft)}error(e,n=null){this.errors.push(new Ii(e,this.input,this.locationText(n),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(St)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(Kt))&&(this.rbracesExpected<=0||!e.isCharacter(ht))&&(this.rbracketsExpected<=0||!e.isCharacter(fs))&&(!(this.context&ys.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new Ii(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},xc=class extends ar{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function YT(t){let e=new Map,n=0,r=0,s=0;for(;s<t.length;){let i=t[s];if(i.type===9){let[o,a]=i.parts;n+=a.length,r+=o.length}else{let o=i.parts.reduce((a,l)=>a+l.length,0);r+=o,n+=o}e.set(r,n),s++}return e}var mr=class{constructor(e,n){this.sourceSpan=e,this.i18n=n}},jr=class extends mr{constructor(e,n,r,s){super(n,s),this.value=e,this.tokens=r}visit(e,n){return e.visitText(this,n)}},Vs=class extends mr{constructor(e,n,r,s,i,o){super(s,o),this.switchValue=e,this.type=n,this.cases=r,this.switchValueSourceSpan=i}visit(e,n){return e.visitExpansion(this,n)}},Cc=class{constructor(e,n,r,s,i){this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=s,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},Ic=class extends mr{constructor(e,n,r,s,i,o,a){super(r,a),this.name=e,this.value=n,this.keySpan=s,this.valueSpan=i,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},kt=class extends mr{constructor(e,n,r,s,i,o=null,a){super(s,a),this.name=e,this.attrs=n,this.children=r,this.startSourceSpan=i,this.endSourceSpan=o}visit(e,n){return e.visitElement(this,n)}},Ki=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},Mt=class extends mr{constructor(e,n,r,s,i,o,a=null,l){super(s,l),this.name=e,this.parameters=n,this.children=r,this.nameSpan=i,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},fa=class{constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},da=class{constructor(e,n,r,s,i){this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e,n){return e.visitLetDeclaration(this,n)}};function Ee(t,e,n=null){let r=[],s=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=s(i);o&&r.push(o)}),r}var _o;function jh(){return _o||(_o={},Ao(le.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Ao(le.STYLE,["*|style"]),Ao(le.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Ao(le.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_o}function Ao(t,e){for(let n of e)_o[n.toLowerCase()]=t}var QT=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function JT(t){return QT.has(t.toLowerCase())}var Ac=class{},ZT="boolean",ex="number",tx="string",nx="object",rx=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],$d=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),sx=Array.from($d).reduce((t,[e,n])=>(t.set(e,n),t),new Map),sn=class extends Ac{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,rx.forEach(e=>{let n=new Map,r=new Set,[s,i]=e.split("|"),o=i.split(","),[a,l]=s.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),n),this._eventSchema.set(u.toLowerCase(),r)});let c=l&&this._schema.get(l.toLowerCase());if(c){for(let[u,h]of c)n.set(u,h);for(let u of this._eventSchema.get(l.toLowerCase()))r.add(u)}o.forEach(u=>{if(u.length>0)switch(u[0]){case"*":r.add(u.substring(1));break;case"!":n.set(u.substring(1),ZT);break;case"#":n.set(u.substring(1),ex);break;case"%":n.set(u.substring(1),nx);break;default:n.set(u,tx)}})})}hasProperty(e,n,r){if(r.some(i=>i.name===Rl.name))return!0;if(e.indexOf("-")>-1){if(mh(e)||Wl(e))return!1;if(r.some(i=>i.name===_l.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(r=>r.name===Rl.name)||e.indexOf("-")>-1&&(mh(e)||Wl(e)||n.some(r=>r.name===_l.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,r){r&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let s=jh()[e+"|"+n];return s||(s=jh()["*|"+n],s||le.NONE)}getMappedPropName(e){return $d.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(r=>sx.get(r)??r)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return FE(e)}normalizeAnimationStyleValue(e,n,r){let s="",i=r.toString().trim(),o=null;if(ix(e)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${r}`)}return{error:o,value:i+s}}};function ix(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var W=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=Wt.PARSABLE_DATA,closedByParent:s=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:l=!1}={}){this.closedByChildren={},this.closedByParent=!1,e&&e.length>0&&e.forEach(c=>this.closedByChildren[c]=!0),this.isVoid=i,this.closedByParent=s||i,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=l??i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},Kh,is;function Ud(t){return is||(Kh=new W({canSelfClose:!0}),is=Object.assign(Object.create(null),{base:new W({isVoid:!0}),meta:new W({isVoid:!0}),area:new W({isVoid:!0}),embed:new W({isVoid:!0}),link:new W({isVoid:!0}),img:new W({isVoid:!0}),input:new W({isVoid:!0}),param:new W({isVoid:!0}),hr:new W({isVoid:!0}),br:new W({isVoid:!0}),source:new W({isVoid:!0}),track:new W({isVoid:!0}),wbr:new W({isVoid:!0}),p:new W({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new W({closedByChildren:["tbody","tfoot"]}),tbody:new W({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new W({closedByChildren:["tbody"],closedByParent:!0}),tr:new W({closedByChildren:["tr"],closedByParent:!0}),td:new W({closedByChildren:["td","th"],closedByParent:!0}),th:new W({closedByChildren:["td","th"],closedByParent:!0}),col:new W({isVoid:!0}),svg:new W({implicitNamespacePrefix:"svg"}),foreignObject:new W({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new W({implicitNamespacePrefix:"math"}),li:new W({closedByChildren:["li"],closedByParent:!0}),dt:new W({closedByChildren:["dt","dd"]}),dd:new W({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new W({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new W({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new W({closedByChildren:["optgroup"],closedByParent:!0}),option:new W({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new W({ignoreFirstLf:!0}),listing:new W({ignoreFirstLf:!0}),style:new W({contentType:Wt.RAW_TEXT}),script:new W({contentType:Wt.RAW_TEXT}),title:new W({contentType:{default:Wt.ESCAPABLE_RAW_TEXT,svg:Wt.PARSABLE_DATA}}),textarea:new W({contentType:Wt.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new sn().allKnownElementNames().forEach(e=>{!is[e]&&jl(e)===null&&(is[e]=new W({canSelfClose:!1}))})),is[t]??is[t.toLowerCase()]??Kh}var zh={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},bc=class{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,n,r){let s=this._hashTag(e,n,r);if(this._signatureToName[s])return this._signatureToName[s];let i=e.toUpperCase(),o=zh[i]||`TAG_${i}`,a=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[s]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),s=zh[r]||`TAG_${r}`,i=this._generateUniqueName(`CLOSE_${s}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let r=e.toUpperCase(),s=`PH: ${r}=${n}`;if(this._signatureToName[s])return this._signatureToName[s];let i=this._generateUniqueName(r);return this._signatureToName[s]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let s=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=s,s}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let s=`<${e}`,i=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=r?"/>":`></${e}>`;return s+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},ox=new ha(new ji);function ax(t,e){let n=new Nc(ox,t,e);return(r,s,i,o,a)=>n.toI18nMessage(r,s,i,o,a)}function lx(t,e){return e}var Nc=class{constructor(e,n,r){this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=r}toI18nMessage(e,n="",r="",s="",i){let o={isIcu:e.length==1&&e[0]instanceof Vs,icuDepth:0,placeholderRegistry:new bc,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||lx},a=Ee(this,e,o);return new rt(a,o.placeholderToContent,o.placeholderToMessage,n,r,s)}visitElement(e,n){let r=Ee(this,e.children,n),s={};e.attrs.forEach(c=>{s[c.name]=c.value});let i=Ud(e.name).isVoid,o=n.placeholderRegistry.getStartTagPlaceholderName(e.name,s,i);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";i||(a=n.placeholderRegistry.getCloseTagPlaceholderName(e.name),n.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let l=new cr(e.name,s,o,a,r,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,l)}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new us(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new us(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},s=new Xo(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(a=>{r[a.value]=new Nn(a.expression.map(l=>l.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return s.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,s)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new ks(s,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let r=Ee(this,e.children,n);if(this._containerBlocks.has(e.name))return new Nn(r,e.sourceSpan);let s=e.parameters.map(l=>l.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,s),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new ur(e.name,s,i,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitTextWithInterpolation(e,n,r,s){let i=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let l=a.parts[1],c=fx(l)||"INTERPOLATION",u=r.placeholderRegistry.getPlaceholderName(c,l);r.placeholderToContent[u]={text:a.parts.join(""),sourceSpan:a.sourceSpan},i.push(new Yo(l,u,a.sourceSpan));break;default:if(a.parts[0].length>0){let h=i[i.length-1];h instanceof us?(h.value+=a.parts[0],h.sourceSpan=new V(h.sourceSpan.start,a.sourceSpan.end,h.sourceSpan.fullStart,h.sourceSpan.details)):i.push(new us(a.parts[0],a.sourceSpan))}break}return o?(cx(i,s),new Nn(i,n)):i[0]}};function cx(t,e){if(e instanceof rt&&(ux(e),e=e.nodes[0]),e instanceof Nn){px(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function ux(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Nn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function px(t,e){if(t.length!==e.length)throw new Error("The number of i18n message children changed between first and second pass.");if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var hx=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function fx(t){return t.split(hx)[2]}var Dc=class extends q{constructor(e,n){super(e,n)}},ma={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},Vd="\uE500";ma.ngsp=Vd;var pi=class extends q{constructor(e,n,r){super(r,e),this.tokenType=n}},_c=class{constructor(e,n,r){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function dx(t,e,n,r={}){let s=new Rc(new Vr(t,e),n,r);return s.tokenize(),new _c(xx(s.tokens),s.errors,s.nonNormalizedIcuExpressions)}var mx=/\r\n?/g;function ti(t){return`Unexpected character "${t===Xe?"EOF":String.fromCharCode(t)}"`}function Xh(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function gx(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var ga;(function(t){t.HEX="hexadecimal",t.DEC="decimal"})(ga||(ga={}));var hi=class{constructor(e){this.error=e}},Rc=class{constructor(e,n,r){this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Lt,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(i=>i.codePointAt(0)||0);let s=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new kc(e,s):new ya(e,s),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=r.tokenizeBlocks??!0,this._tokenizeLet=r.tokenizeLet||!1;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(mx,`
`)}tokenize(){for(;this._cursor.peek()!==Xe;){let e=this._cursor.clone();try{this._attemptCharCode(hs)?this._attemptCharCode(tc)?this._attemptCharCode(Es)?this._consumeCdata(e):this._attemptCharCode(Jo)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(xn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===ll&&!this._inInterpolation&&this._attemptStr("@let")?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._attemptCharCode(ll)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(ht)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(33),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>Ui(r)?!e:Tx(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===Dn)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(_e),this._attemptCharCode(Kt))this._attemptCharCodeUntilFn(_e);else{n.type=28;return}this._attemptCharCode(pn)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(Jh);this._cursor.peek()!==Kt&&this._cursor.peek()!==Xe;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==St&&this._cursor.peek()!==Xe||n!==null;){let s=this._cursor.peek();if(s===li)this._cursor.advance();else if(s===n)n=null;else if(n===null&&ci(s))n=s;else if(s===Dn&&n===null)r++;else if(s===Kt&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(Jh)}}_consumeLetDeclaration(e){if(this._beginToken(29,e),Ui(this._cursor.peek()))this._attemptCharCodeUntilFn(_e);else{let s=this._endToken([this._cursor.getChars(e)]);s.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(_e),!this._attemptCharCode(Ar)){n.type=32;return}this._attemptCharCodeUntilFn(s=>_e(s)&&!gu(s)),this._consumeLetDeclarationValue(),this._cursor.peek()===St?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>Vi(r)||r===no||n&&cn(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==Xe;){let n=this._cursor.peek();if(n===St)break;ci(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===li?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(Sx(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===ht){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new pi("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(n));if(this._currentTokenType===null)throw new pi("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let r={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new pi(e,this._currentTokenType,n);return this._currentTokenStart=null,this._currentTokenType=null,new hi(r)}handleError(e){if(e instanceof zi&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof hi)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return wx(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(ti(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let s=0;s<n;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(ti(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(ti(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(pd)){let r=this._attemptCharCode(Sd)||this._attemptCharCode(SS),s=this._cursor.clone();if(this._attemptCharCodeUntilFn(vx),this._cursor.peek()!=St){this._cursor.advance();let o=r?ga.HEX:ga.DEC;throw this._createError(gx(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(s);this._cursor.advance();try{let o=parseInt(i,r?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch{throw this._createError(Xh(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Ex),this._cursor.peek()!=St)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let s=this._cursor.getChars(r);this._cursor.advance();let i=ma[s];if(!i)throw this._createError(Xh(s),this._cursor.getSpan(n));this._endToken([i,`&${s};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let s=this._cursor.clone(),i=n();if(this._cursor=s,i)break;e&&this._cursor.peek()===Qo?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Jo),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Xn);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(){let e=this._cursor.clone(),n="";for(;this._cursor.peek()!==Qn&&!yx(this._cursor.peek());)this._cursor.advance();let r;this._cursor.peek()===Qn?(n=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(Yh,n===""?0:1);let s=this._cursor.getChars(r);return[n,s]}_consumeTagOpen(e){let n,r,s;try{if(!Vi(this._cursor.peek()))throw this._createError(ti(this._cursor.peek()),this._cursor.getSpan(e));for(s=this._consumeTagOpenStart(e),r=s.parts[0],n=s.parts[1],this._attemptCharCodeUntilFn(_e);this._cursor.peek()!==xn&&this._cursor.peek()!==Xn&&this._cursor.peek()!==hs&&this._cursor.peek()!==Xe;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(_e),this._attemptCharCode(Ar)&&(this._attemptCharCodeUntilFn(_e),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(_e);this._consumeTagOpenEnd()}catch(o){if(o instanceof hi){s?s.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let i=this._getTagDefinition(n).getContentType(r);i===Wt.RAW_TEXT?this._consumeRawTextWithTagClose(r,n,!1):i===Wt.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(r,n,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(hs)||!this._attemptCharCode(xn)||(this._attemptCharCodeUntilFn(_e),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(_e),this._attemptCharCode(Xn))),this._beginToken(3),this._requireCharCodeUntilFn(s=>s===Xn,3),this._cursor.advance(),this._endToken([e,n])}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName();return this._endToken(n)}_consumeAttributeName(){let e=this._cursor.peek();if(e===$i||e===Bi)throw this._createError(ti(e),this._cursor.getSpan());this._beginToken(14);let n=this._consumePrefixAndName();this._endToken(n)}_consumeAttributeValue(){if(this._cursor.peek()===$i||this._cursor.peek()===Bi){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>Yh(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(xn)?2:1;this._beginToken(e),this._requireCharCode(Xn),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(_e);let n=this._consumePrefixAndName();this._attemptCharCodeUntilFn(_e),this._requireCharCode(Xn),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(pn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(Ft),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let s=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(s)}this._requireCharCode(Ft),this._attemptCharCodeUntilFn(_e),this._beginToken(7);let r=this._readUntil(Ft);this._endToken([r]),this._requireCharCode(Ft),this._attemptCharCodeUntilFn(_e)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(pn).trim();this._endToken([e]),this._attemptCharCodeUntilFn(_e),this._beginToken(21),this._requireCharCode(pn),this._endToken([]),this._attemptCharCodeUntilFn(_e),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(ht),this._endToken([]),this._attemptCharCodeUntilFn(_e),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(ht),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,s){this._beginToken(e);let i=[];for(;!r();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,s),this._beginToken(e)):this._cursor.peek()===Qo?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,r){let s=[];this._beginToken(e,n),s.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==Xe&&(r===null||!r());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,s.push(this._getProcessedChars(i,l)),this._endToken(s);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){s.push(this._getProcessedChars(i,l)),s.push(this._interpolationConfig.end),this._endToken(s);return}else this._attemptStr("//")&&(a=!0);let c=this._cursor.peek();this._cursor.advance(),c===li?this._cursor.advance():c===o?o=null:!a&&o===null&&ci(c)&&(o=c)}s.push(this._getProcessedChars(i,this._cursor)),this._endToken(s)}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Xe||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===ht&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===ll||this._cursor.peek()===ht))}_isTagStart(){if(this._cursor.peek()===hs){let e=this._cursor.clone();e.advance();let n=e.peek();if($r<=n&&n<=ro||Hs<=n&&n<=Da||n===xn||n===tc)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==pn)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function _e(t){return!Ui(t)||t===Xe}function Yh(t){return Ui(t)||t===Xn||t===hs||t===xn||t===$i||t===Bi||t===Ar||t===Xe}function yx(t){return(t<$r||ro<t)&&(t<Hs||Da<t)&&(t<du||t>dd)}function vx(t){return t===St||t===Xe||!IS(t)}function Ex(t){return t===St||t===Xe||!Vi(t)}function Sx(t){return t!==ht}function wx(t,e){return Qh(t)===Qh(e)}function Qh(t){return t>=$r&&t<=ro?t-$r+Hs:t}function Tx(t){return Vi(t)||cn(t)||t===no}function Jh(t){return t!==St&&_e(t)}function xx(t){let e=[],n;for(let r=0;r<t.length;r++){let s=t[r];n&&n.type===5&&s.type===5||n&&n.type===16&&s.type===16?(n.parts[0]+=s.parts[0],n.sourceSpan.end=s.sourceSpan.end):(n=s,e.push(n))}return e}var ya=class t{constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let s=this.locationFromCursor(e),i=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):s;return new V(s,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new zi('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Nr?(e.line++,e.column=0):gu(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Xe:this.charAt(e.offset)}locationFromCursor(e){return new Ur(e.file,e.state.offset,e.state.line,e.state.column)}},kc=class t extends ya{constructor(e,n){e instanceof t?(super(e),this.internalState={...e.internalState}):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),r="";for(;n.internalState.offset<this.internalState.offset;)r+=String.fromCodePoint(n.peek()),n.advance();return r}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===li)if(this.internalState={...this.state},this.advanceState(this.internalState),e()===md)this.state.peek=Nr;else if(e()===gd)this.state.peek=fu;else if(e()===Ed)this.state.peek=ld;else if(e()===yd)this.state.peek=hu;else if(e()===TS)this.state.peek=dS;else if(e()===mu)this.state.peek=cd;else if(e()===vd)if(this.advanceState(this.internalState),e()===pn){this.advanceState(this.internalState);let n=this.clone(),r=0;for(;e()!==ht;)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===Sd){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(wh(e())){let n="",r=0,s=this.clone();for(;wh(e())&&r<3;)s=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),r++;this.state.peek=parseInt(n,8),this.internalState=s.internalState}else gu(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let r=this.input.slice(e.internalState.offset,e.internalState.offset+n),s=parseInt(r,16);if(isNaN(s))throw e.state=e.internalState,new zi("Invalid hexadecimal escape sequence",e);return s}},zi=class{constructor(e,n){this.msg=e,this.cursor=n}},$e=class t extends q{static create(e,n,r){return new t(e,n,r)}constructor(e,n,r){super(n,r),this.elementName=e}},va=class{constructor(e,n){this.rootNodes=e,this.errors=n}},Pc=class{constructor(e){this.getTagDefinition=e}parse(e,n,r){let s=dx(e,n,this.getTagDefinition,r),i=new Mc(s.tokens,this.getTagDefinition);return i.build(),new va(i.rootNodes,s.errors.concat(i.errors))}},Mc=class t{constructor(e,n){this.tokens=e,this.getTagDefinition=n,this._index=-1,this._containerStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==33;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._advance();for(let e of this._containerStack)e instanceof Mt&&this.errors.push($e.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),s=n!=null?n.parts[0].trim():null,i=r==null?e.sourceSpan:new V(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ki(s,i))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),s=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;s.push(o)}if(this._peek.type!==23){this.errors.push($e.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new V(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Vs(n.parts[0],r.parts[0],s,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push($e.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let s=this._advance();r.push({type:33,parts:[],sourceSpan:s.sourceSpan});let i=new t(r,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new V(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart),a=new V(n.sourceSpan.start,s.sourceSpan.end,n.sourceSpan.fullStart);return new Cc(e.parts[0],i.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(Zh(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push($e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(Zh(r,19))r.pop();else return this.errors.push($e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===33)return this.errors.push($e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],r=e.sourceSpan,s=e.parts[0];if(s.length>0&&s[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(s=s.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[s]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?s+=e.parts.join("").replace(/&([^;]+);/g,ef):e.type===9?s+=e.parts[0]:s+=e.parts.join("");if(s.length>0){let i=e.sourceSpan;this._addToParent(new jr(s,new V(r.start,i.end,r.fullStart,r.details),n))}}_closeVoidElement(){let e=this._getContainer();e instanceof kt&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[n,r]=e.parts,s=[];for(;this._peek.type===14;)s.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(n,r,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let d=this.getTagDefinition(i);d.canSelfClose||jl(i)!==null||d.isVoid||this.errors.push($e.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,l=new V(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new V(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new kt(i,s,[],l,c,void 0),h=this._getContainer();this._pushContainer(u,h instanceof kt&&this.getTagDefinition(h.name).isClosedByChild(u.name)),o?this._popContainer(i,kt,l):e.type===4&&(this._popContainer(i,kt,null),this.errors.push($e.create(i,l,`Opening tag "${i}" not terminated.`)))}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let n=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(n).isVoid)this.errors.push($e.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,kt,e.sourceSpan)){let r=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push($e.create(n,e.sourceSpan,r))}}_popContainer(e,n,r){let s=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if((o.name===e||e===null)&&o instanceof n)return o.endSourceSpan=r,o.sourceSpan.end=r!==null?r.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!s;(o instanceof Mt||o instanceof kt&&!this.getTagDefinition(o.name).closedByParent)&&(s=!0)}return!1}_consumeAttr(e){let n=Kl(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let s="",i=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();i.push(u),u.type===17?s+=u.parts.join("").replace(/&([^;]+);/g,ef):u.type===9?s+=u.parts[0]:s+=u.parts.join(""),a=r=u.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let c=o&&a&&new V(o.start,a,o.fullStart);return new Ic(n,s,new V(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,c,i.length>0?i:void 0,void 0)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new fa(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,s=new V(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new V(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Mt(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,Mt,e.sourceSpan)||this.errors.push($e.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new fa(a.parts[0],a.sourceSpan))}let r=this._peek.sourceSpan.fullStart,s=new V(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new V(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Mt(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,Mt,null),this.errors.push($e.create(e.parts[0],s,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,s;if(this._peek.type!==30){this.errors.push($e.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push($e.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else s=this._advance();let i=s.sourceSpan.fullStart,o=new V(e.sourceSpan.start,i,e.sourceSpan.fullStart),a=e.sourceSpan.toString().lastIndexOf(n),l=e.sourceSpan.start.moveBy(a),c=new V(l,e.sourceSpan.end),u=new da(n,r.parts[0],o,c,r.sourceSpan);this._addToParent(u)}_consumeIncompleteLet(e){let n=e.parts[0]??"",r=n?` "${n}"`:"";if(n.length>0){let s=e.sourceSpan.toString().lastIndexOf(n),i=e.sourceSpan.start.moveBy(s),o=new V(i,e.sourceSpan.end),a=new V(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),l=new da(n,"",e.sourceSpan,o,a);this._addToParent(l)}this.errors.push($e.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof kt)return this._containerStack[e];return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n,r){if(e===""&&(e=this.getTagDefinition(n).implicitNamespacePrefix||"",e===""&&r!=null)){let s=tn(r.name)[1];this.getTagDefinition(s).preventNamespaceInheritance||(e=jl(r.name))}return Kl(e,n)}};function Zh(t,e){return t.length>0&&t[t.length-1]===e}function ef(t,e){return ma[e]!==void 0?ma[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var tf=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Cx(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),tf.has(t+"|"+e)||tf.has("*|"+e)}var Ix=(t,e)=>(t instanceof mr&&(e instanceof ks&&t.i18n instanceof rt&&(e.previousMessage=t.i18n),t.i18n=e),e),Ea=class{constructor(e=Lt,n=!1,r=!1,s=fS){this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.containerBlocks=s,this.hasI18nMeta=!1,this._errors=[]}_generateI18nMessage(e,n="",r){let{meaning:s,description:i,customId:o}=this._parseMetadata(n),l=ax(this.interpolationConfig,this.containerBlocks)(e,s,i,o,r);return this._setMessageId(l,n),this._setLegacyIds(l,n),l}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new va(n,this._errors)}visitElement(e){let n;if(aS(e)){this.hasI18nMeta=!0;let r=[],s={};for(let i of e.attrs)if(i.name===sd){let o=e.i18n||i.value;n=this._generateI18nMessage(e.children,o,Ix),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(Zl)){let o=i.name.slice(Zl.length);Cx(e.name,o)?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):s[o]=i.value}else r.push(i);if(Object.keys(s).length)for(let i of r){let o=s[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}return Ee(this,e.children,n),e}visitExpansion(e,n){let r,s=e.i18n;if(this.hasI18nMeta=!0,s instanceof ks){let i=s.name;r=this._generateI18nMessage([e],s);let o=od(r);o.name=i,n!==null&&(n.placeholderToMessage[i]=r)}else r=this._generateI18nMessage([e],n||s);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Ee(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}_parseMetadata(e){return typeof e=="string"?Nx(e):e instanceof rt?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof rt&&n.id||hE(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[pE(e),Wf(e)];else if(typeof n!="string"){let r=n instanceof rt?n:n instanceof ks?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new Dc(e.sourceSpan,n))}},Ax="|",bx="@@";function Nx(t=""){let e,n,r;if(t=t.trim(),t){let s=t.indexOf(bx),i=t.indexOf(Ax),o;[o,e]=s>-1?[t.slice(0,s),t.slice(s+2)]:[t,""],[n,r]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:r}}function Dx(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),Qf(e)}var _x="goog.getMsg";function Rx(t,e,n,r){let s=Px(e),i=[v(s)];Object.keys(r).length&&(i.push(vc(lu(r,!0),!0)),i.push(vc({original_code:je(Object.keys(r).map(l=>({key:to(l),quoted:!0,value:e.placeholders[l]?v(e.placeholders[l].sourceSpan.toString()):v(e.placeholderToMessage[l].nodes.map(c=>c.sourceSpan.toString()).join(""))})))})));let o=n.set(H(_x).callFn(i)).toConstDecl();o.addLeadingComment(Dx(e));let a=new xt(t.set(n));return[o,a]}var Lc=class{formatPh(e){return`{$${to(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return Bd(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},kx=new Lc;function Px(t){return t.nodes.map(e=>e.visit(kx,null)).join("")}function Mx(t,e,n){let{messageParts:r,placeHolders:s}=Lx(e),i=Ox(e),o=s.map(c=>n[c.text]),a=ed(e,r,s,o,i),l=t.set(a);return[new xt(l)]}var Oc=class{constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Zn)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new V(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Zn(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Zn(Bd(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new br(to(e,!1),n,r)}};function Lx(t){let e=[],n=new Oc(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),Fx(e)}function Ox(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new V(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function Fx(t){let e=[],n=[];t[0]instanceof br&&e.push(yl(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let s=t[r];s instanceof Zn?e.push(s):(n.push(s),t[r-1]instanceof br&&e.push(yl(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof br&&e.push(yl(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function yl(t){return new Zn("",new V(t,t))}var nf="ngI18nClosureMode",Bx="i18n_",$x="I18N_EXP_",rf="\uFFFD",Ux="MSG_";function sf(t){return`${Ux}${t}`.toUpperCase()}function Vx(t){return new We(t.name,void 0,wt,void 0,t.sourceSpan)}function qx(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,s=new Map,i=new Map;for(let l of t.units)for(let c of l.ops())if(c.kind===p.ExtractedAttribute&&c.i18nContext!==null){let u=n.get(c.i18nContext)??[];u.push(c),n.set(c.i18nContext,u)}else if(c.kind===p.I18nAttributes)r.set(c.target,c);else if(c.kind===p.I18nExpression&&c.usage===qr.I18nAttribute){let u=s.get(c.target)??[];u.push(c),s.set(c.target,u)}else c.kind===p.I18nMessage&&i.set(c.xref,c);let o=new Map,a=new Map;for(let l of t.units)for(let c of l.create)if(c.kind===p.I18nMessage){if(c.messagePlaceholder===null){let{mainVar:u,statements:h}=qd(t,e,i,c);if(c.i18nBlock!==null){let d=t.addConst(u,h);a.set(c.i18nBlock,d)}else{t.constsInitializers.push(...h),o.set(c.i18nContext,u);let d=n.get(c.i18nContext);if(d!==void 0)for(let g of d)g.expression=u.clone()}}w.remove(c)}for(let l of t.units)for(let c of l.create)if(dr(c)){let u=r.get(c.xref);if(u===void 0)continue;let h=s.get(c.xref);if(h===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let d=new Set;h=h.filter(y=>{let C=d.has(y.name);return d.add(y.name),!C});let g=h.flatMap(y=>{let C=o.get(y.context);if(C===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[v(y.name),C]});u.i18nAttributesConfig=t.addConst(new ot(g))}for(let l of t.units)for(let c of l.create)if(c.kind===p.I18nStart){let u=a.get(c.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");c.messageIndex=u}}function qd(t,e,n,r){let s=[],i=new Map;for(let c of r.subMessages){let u=n.get(c),{mainVar:h,statements:d}=qd(t,e,n,u);s.push(...d);let g=i.get(u.messagePlaceholder)??[];g.push(h),i.set(u.messagePlaceholder,g)}Gx(r,i),r.params=new Map([...r.params.entries()].sort());let o=H(t.pool.uniqueName(Bx)),a=jx(t.pool,r.message.id,e,t.i18nUseExternalIds),l;if(r.needsPostprocessing||r.postprocessingParams.size>0){let c=Object.fromEntries([...r.postprocessingParams.entries()].sort()),u=lu(c,!1),h=[];r.postprocessingParams.size>0&&h.push(vc(u,!0)),l=d=>O(f.i18nPostprocess).callFn([d,...h])}return s.push(...Hx(r.message,o,a,r.params,l)),{mainVar:o,statements:s}}function Gx(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,v(`${rf}${$x}${n}${rf}`)),t.postprocessingParams.set(n,ie(r)))}function Hx(t,e,n,r,s){let i=Object.fromEntries(r),o=[Vx(e),Zi(Wx(),Rx(e,t,n,i),Mx(e,t,lu(i,!1)))];return s&&o.push(new xt(e.set(s(e)))),o}function Wx(){return Ji(H(nf)).notIdentical(v("undefined",au)).and(H(nf))}function jx(t,e,n,r){let s,i=n;if(r){let o=sf("EXTERNAL_"),a=t.uniqueName(i);s=`${o}${ui(e)}$$${a}`}else{let o=sf(i);s=t.uniqueName(o)}return H(s)}function Kx(t){for(let e of t.units){let n=null,r=null,s=new Map,i=new Map,o=new Map;for(let a of e.create)switch(a.kind){case p.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case p.I18nEnd:n=null;break;case p.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");r=a;break;case p.IcuEnd:r=null;break;case p.Text:if(n!==null)if(s.set(a.xref,n),i.set(a.xref,r),a.icuPlaceholder!==null){let l=Lw(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);w.replace(a,l),o.set(a.xref,l)}else w.remove(a);break}for(let a of e.update)switch(a.kind){case p.InterpolateText:if(!s.has(a.target))continue;let l=s.get(a.target),c=i.get(a.target),u=o.get(a.target),h=c?c.context:l.context,d=c?Ls.Postproccessing:Ls.Creation,g=[];for(let y=0;y<a.interpolation.expressions.length;y++){let C=a.interpolation.expressions[y];g.push(Dd(h,l.xref,l.xref,l.handle,C,u?.xref??null,a.interpolation.i18nPlaceholders[y]??null,d,qr.I18nText,"",C.sourceSpan??a.sourceSpan))}w.replaceWithMany(a,g),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function zx(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case p.ElementStart:case p.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=Xx(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function Xx(t){let e=[];for(let n of t)e.push(v(n.name),v(n.target));return ie(e)}function Yx(t){for(let e of t.units){let n=qe.HTML;for(let r of e.create)r.kind===p.ElementStart&&r.namespace!==n&&(w.insertBefore(Nw(r.namespace),r),n=r.namespace)}}function Qx(t){let e=[],n=0,r=0,s=0,i=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:s===0?s=39:s===39&&t.charCodeAt(n-1)!==92&&(s=0);break;case 34:s===0?s=34:s===34&&t.charCodeAt(n-1)!==92&&(s=0);break;case 58:!a&&r===0&&s===0&&(a=Gd(t.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&r===0&&s===0){let c=t.substring(i,n-1).trim();e.push(a,c),o=n,i=0,a=null}break}if(a&&i){let l=t.slice(i).trim();e.push(a,l)}return e}function Gd(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Jx(t){let e=new Map;for(let n of t.units)for(let r of n.create)dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===p.ExtractedAttribute&&r.bindingKind===L.Attribute&&_d(r.expression)){let s=e.get(r.target);if(s!==void 0&&s.kind===p.Template&&s.templateKind===dt.Structural)continue;if(r.name==="style"){let i=Qx(r.expression.value);for(let o=0;o<i.length-1;o+=2)w.insertBefore(Ot(r.target,L.StyleProperty,null,i[o],v(i[o+1]),null,null,le.STYLE),r);w.remove(r)}else if(r.name==="class"){let i=r.expression.value.trim().split(/\s+/g);for(let o of i)w.insertBefore(Ot(r.target,L.ClassName,null,o,null,null,null,le.NONE),r);w.remove(r)}}}function Zx(t){ii(t.root,t.componentName,{index:0},t.compatibility===gt.TemplateDefinitionBuilder)}function ii(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(ui(`${e}_${t.job.fnSuffix}`),!1));let s=new Map;for(let i of t.ops())switch(i.kind){case p.Property:case p.HostProperty:i.isAnimationTrigger&&(i.name="@"+i.name);break;case p.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isAnimationListener&&(i.name=`@${i.name}.${i.animationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=ui(i.handlerFnName);break;case p.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=ui(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case p.Variable:s.set(i.xref,eC(t,i.variable,n));break;case p.RepeaterCreate:if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let c=t.job.views.get(i.emptyView);ii(c,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,n,r)}ii(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,r);break;case p.Projection:if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.fallbackView!==null){let c=t.job.views.get(i.fallbackView);ii(c,`${e}_ProjectionFallback_${i.handle.slot}`,n,r)}break;case p.Template:if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");let a=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let l=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;ii(a,`${e}${l}_${i.handle.slot}`,n,r);break;case p.StyleProp:i.name=tC(i.name),r&&(i.name=of(i.name));break;case p.ClassProp:r&&(i.name=of(i.name));break}for(let i of t.ops())yt(i,o=>{if(!(!(o instanceof hr)||o.name!==null)){if(!s.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=s.get(o.xref)}})}function eC(t,e,n){if(e.name===null)switch(e.kind){case Je.Context:e.name=`ctx_r${n.index++}`;break;case Je.Identifier:if(t.job.compatibility===gt.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function tC(t){return t.startsWith("--")?t:Gd(t)}function of(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function nC(t){for(let e of t.units){for(let n of e.create)(n.kind===p.Listener||n.kind===p.TwoWayListener)&&af(n.handlerOps);af(e.update)}}function af(t){for(let e of t){if(e.kind!==p.Statement||!(e.statement instanceof xt)||!(e.statement.expr instanceof na))continue;let n=e.statement.expr.steps,r=!0;for(let s=e.next;s.kind!==p.ListEnd&&r;s=s.next)yt(s,(i,o)=>{if(!Sn(i))return i;if(r&&!(o&re.InChildOperation))switch(i.kind){case B.NextContext:i.steps+=n,w.remove(e),r=!1;break;case B.GetCurrentView:case B.Reference:r=!1;break}})}}var rC="ng-container";function sC(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===p.ElementStart&&r.tag===rC&&(r.kind=p.ContainerStart,n.add(r.xref)),r.kind===p.ElementEnd&&n.has(r.xref)&&(r.kind=p.ContainerEnd)}}function iC(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function oC(t){let e=new Map;for(let n of t.units)for(let r of n.create)dr(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===p.ElementStart||r.kind===p.ContainerStart)&&r.nonBindable&&w.insertAfter(Aw(r.xref),r),(r.kind===p.ElementEnd||r.kind===p.ContainerEnd)&&iC(e,r.xref).nonBindable&&w.insertBefore(bw(r.xref),r)}function aC(t){for(let e of t.units)for(let n of e.ops())Ke(n,r=>{if(!(r instanceof Z)||r.operator!==I.NullishCoalesce)return r;let s=new nn(r.lhs.clone(),t.allocateXrefId()),i=new Fn(s.xref);return new Zt(new Z(I.And,new Z(I.NotIdentical,s,Cs),new Z(I.NotIdentical,i,new Te(void 0))),i.clone(),r.rhs)},re.None)}function Cn(t){return e=>e.kind===t}function fi(t,e){return n=>n.kind===t&&e===n.expression instanceof Ce}function lC(t){return t.kind===p.Listener&&!(t.hostListener&&t.isAnimationListener)||t.kind===p.TwoWayListener}function cC(t){return(t.kind===p.Property||t.kind===p.TwoWayProperty)&&!(t.expression instanceof Ce)}var uC=[{test:t=>t.kind===p.Listener&&t.hostListener&&t.isAnimationListener},{test:lC}],pC=[{test:Cn(p.StyleMap),transform:Sa},{test:Cn(p.ClassMap),transform:Sa},{test:Cn(p.StyleProp)},{test:Cn(p.ClassProp)},{test:fi(p.Attribute,!0)},{test:fi(p.Property,!0)},{test:cC},{test:fi(p.Attribute,!1)}],hC=[{test:fi(p.HostProperty,!0)},{test:fi(p.HostProperty,!1)},{test:Cn(p.Attribute)},{test:Cn(p.StyleMap),transform:Sa},{test:Cn(p.ClassMap),transform:Sa},{test:Cn(p.StyleProp)},{test:Cn(p.ClassProp)}],lf=new Set([p.Listener,p.TwoWayListener,p.StyleMap,p.ClassMap,p.StyleProp,p.ClassProp,p.Property,p.TwoWayProperty,p.HostProperty,p.Attribute]);function fC(t){for(let e of t.units){cf(e.create,uC);let n=e.job.kind===N.Host?hC:pC;cf(e.update,n)}}function cf(t,e){let n=[],r=null;for(let s of t){let i=Su(s)?s.target:null;(!lf.has(s.kind)||i!==r&&r!==null&&i!==null)&&(w.insertBefore(uf(n,e),s),n=[],r=null),lf.has(s.kind)&&(n.push(s),w.remove(s),r=i??r)}t.push(uf(n,e))}function uf(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let s=e.findIndex(i=>i.test(r));n[s].push(r)}return n.flatMap((r,s)=>{let i=e[s].transform;return i?i(r):r})}function Sa(t){return t.slice(t.length-1)}function dC(t){for(let e of t.units){let n=Tu(e);for(let r of e.ops())switch(r.kind){case p.Binding:let s=gC(n,r.target);mC(r.name)&&s.kind===p.Projection&&w.remove(r);break}}}function mC(t){return t.toLowerCase()==="select"}function gC(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function yC(t){for(let e of t.units)vC(e)}function vC(t){for(let e of t.update)yt(e,(n,r)=>{if(Sn(n)&&n.kind===B.PipeBinding){if(r&re.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");EC(t,e.target,n)}else t.create.push(Pd(n.target,n.targetSlot,n.name))}})}function EC(t,e,n){for(let r=t.create.head.next;r.kind!==p.ListEnd;r=r.next){if(!Ws(r)||r.xref!==e)continue;for(;r.next.kind===p.Pipe;)r=r.next;let s=Pd(n.target,n.targetSlot,n.name);w.insertBefore(s,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function SC(t){for(let e of t.units)for(let n of e.update)Ke(n,r=>!(r instanceof Wr)||r.args.length<=4?r:new ia(r.target,r.targetSlot,r.name,ie(r.args),r.args.length),re.None)}function wC(t){Hd(t.root,0)}function Hd(t,e){let n=null;for(let r of t.create)switch(r.kind){case p.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case p.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case p.Template:e=vl(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case p.RepeaterCreate:let s=t.job.views.get(r.xref);e=vl(s,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=vl(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break}return e}function vl(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,TC(t,e)}return Hd(t,r)}function TC(t,e){if(t.create.head.next?.kind!==p.I18nStart){let n=t.job.allocateXrefId();w.insertAfter(ka(n,e.message,e.root,null),t.create.head),w.insertBefore(Pa(n,null),t.create.tail)}}function xC(t){for(let e of t.units)for(let n of e.ops())yt(n,r=>{if(!(r instanceof Hr)||r.body===null)return;let s=new Fc(r.args.length);r.fn=t.pool.getSharedConstant(s,r.body),r.body=null})}var Fc=class extends vs{constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof Os?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let r=[];for(let i=0;i<this.numArgs;i++)r.push(new ke("a"+i));let s=_(n,i=>i instanceof Os?H("a"+i.index):i,re.None);return new We(e,new _n(r,s),void 0,Ae.Final)}};function CC(t){for(let e of t.units)for(let n of e.update)Ke(n,(r,s)=>s&re.InChildOperation?r:r instanceof ot?IC(r):r instanceof $t?AC(r):r,re.None)}function IC(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let s=n.length;n.push(r),e.push(new Os(s))}return new Hr(ie(e),n)}function AC(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let s=n.length;n.push(r.value),e.push(new Pr(r.key,new Os(s),r.quoted))}return new Hr(je(e),n)}function bC(t,e,n,r,s){return Ma(f.element,t,e,n,r,s)}function NC(t,e,n,r,s){return Ma(f.elementStart,t,e,n,r,s)}function Ma(t,e,n,r,s,i){let o=[v(e)];return n!==null&&o.push(v(n)),s!==null?o.push(v(r),v(s)):r!==null&&o.push(v(r)),J(t,o,i)}function DC(t){return J(f.elementEnd,[],t)}function _C(t,e,n,r){return Ma(f.elementContainerStart,t,null,e,n,r)}function RC(t,e,n,r){return Ma(f.elementContainer,t,null,e,n,r)}function kC(){return J(f.elementContainerEnd,[],null)}function PC(t,e,n,r,s,i,o,a){let l=[v(t),e,v(n),v(r),v(s),v(i)];for(o!==null&&(l.push(v(o)),l.push(O(f.templateRefExtractor)));l[l.length-1].isEquivalent(Cs);)l.pop();return J(f.templateCreate,l,a)}function MC(){return J(f.disableBindings,[],null)}function LC(){return J(f.enableBindings,[],null)}function OC(t,e,n,r,s){let i=[v(t),e];return n!==null&&(i.push(v(!1)),i.push(O(n))),J(r?f.syntheticHostListener:f.listener,i,s)}function pf(t,e){return O(f.twoWayBindingSet).callFn([t,e])}function FC(t,e,n){return J(f.twoWayListener,[v(t),e],n)}function BC(t,e){return J(f.pipe,[v(t),v(e)],null)}function $C(){return J(f.namespaceHTML,[],null)}function UC(){return J(f.namespaceSVG,[],null)}function VC(){return J(f.namespaceMathML,[],null)}function qC(t,e){return J(f.advance,t>1?[v(t)]:[],e)}function GC(t){return O(f.reference).callFn([v(t)])}function HC(t){return O(f.nextContext).callFn(t===1?[]:[v(t)])}function WC(){return O(f.getCurrentView).callFn([])}function jC(t){return O(f.restoreView).callFn([t])}function KC(t){return O(f.resetView).callFn([t])}function zC(t,e,n){let r=[v(t,null)];return e!==""&&r.push(v(e)),J(f.text,r,n)}function XC(t,e,n,r,s,i,o,a,l,c){let u=[v(t),v(e),n??v(null),v(r),v(s),v(i),o??v(null),a??v(null),l?O(f.deferEnableTimerScheduling):v(null)],h;for(;(h=u[u.length-1])!==null&&h instanceof Te&&h.value===null;)u.pop();return J(f.defer,u,c)}var YC=new Map([[pe.Idle,[f.deferOnIdle,f.deferPrefetchOnIdle]],[pe.Immediate,[f.deferOnImmediate,f.deferPrefetchOnImmediate]],[pe.Timer,[f.deferOnTimer,f.deferPrefetchOnTimer]],[pe.Hover,[f.deferOnHover,f.deferPrefetchOnHover]],[pe.Interaction,[f.deferOnInteraction,f.deferPrefetchOnInteraction]],[pe.Viewport,[f.deferOnViewport,f.deferPrefetchOnViewport]]]);function QC(t,e,n,r){let s=YC.get(t);if(s===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);let i=n?s[1]:s[0];return J(i,e.map(o=>v(o)),r)}function JC(t){return J(f.projectionDef,t?[t]:[],null)}function ZC(t,e,n,r,s,i,o){let a=[v(t)];return(e!==0||n!==null||r!==null)&&(a.push(v(e)),n!==null&&a.push(n),r!==null&&(n===null&&a.push(v(null)),a.push(H(r),v(s),v(i)))),J(f.projection,a,o)}function eI(t,e,n,r){let s=[v(t),v(e)];return n!==null&&s.push(v(n)),J(f.i18nStart,s,r)}function tI(t,e,n,r,s,i,o,a,l,c,u,h,d,g){let y=[v(t),H(e),v(n),v(r),v(s),v(i),o];return(a||l!==null)&&(y.push(v(a)),l!==null&&(y.push(H(l),v(c),v(u)),(h!==null||d!==null)&&y.push(v(h)),d!==null&&y.push(v(d)))),J(f.repeaterCreate,y,g)}function nI(t,e){return J(f.repeater,[t],e)}function rI(t,e,n){return J(t?f.deferPrefetchWhen:f.deferWhen,[e],n)}function sI(t,e,n,r){let s=[v(t),v(e)];return n&&s.push(v(n)),J(f.i18n,s,r)}function iI(t){return J(f.i18nEnd,[],t)}function oI(t,e){let n=[v(t),v(e)];return J(f.i18nAttributes,n,null)}function aI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),J(f.property,s,r)}function lI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),J(f.twoWayProperty,s,r)}function cI(t,e,n,r){let s=[v(t),e];return(n!==null||r!==null)&&s.push(n??v(null)),r!==null&&s.push(v(r)),J(f.attribute,s,null)}function uI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(v(n)),J(f.styleProp,s,r)}function pI(t,e,n){return J(f.classProp,[v(t),e],n)}function hI(t,e){return J(f.styleMap,[t],e)}function fI(t,e){return J(f.classMap,[t],e)}var hf=[f.pipeBind1,f.pipeBind2,f.pipeBind3,f.pipeBind4];function dI(t,e,n){if(n.length<1||n.length>hf.length)throw new Error("pipeBind() argument count out of bounds");let r=hf[n.length-1];return O(r).callFn([v(t),v(e),...n])}function mI(t,e,n){return O(f.pipeBindV).callFn([v(t),v(e),n])}function gI(t,e,n){let r=js(t,e);return Ks(NI,[],r,[],n)}function yI(t,e){return J(f.i18nExp,[t],e)}function vI(t,e){return J(f.i18nApply,[v(t)],e)}function EI(t,e,n,r,s){let i=js(e,n),o=[];return r!==null&&o.push(r),Ks(DI,[v(t)],i,o,s)}function SI(t,e,n,r,s){let i=js(e,n),o=[];return r!==null&&o.push(r),Ks(RI,[v(t)],i,o,s)}function wI(t,e,n,r,s){let i=js(e,n),o=[];return r!==null&&o.push(v(r)),Ks(_I,[v(t)],i,o,s)}function TI(t,e,n){let r=js(t,e);return Ks(kI,[],r,[],n)}function xI(t,e,n){let r=js(t,e);return Ks(PI,[],r,[],n)}function CI(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),J(f.hostProperty,s,r)}function II(t,e,n){return J(f.syntheticHostProperty,[v(t),e],n)}function AI(t,e,n){return Wd(MI,[v(t),e],n,[],null)}function js(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(v(t[r]),e[r]);n.push(v(t[r]))}return n}function J(t,e,n){let r=O(t).callFn(e,n);return En(new xt(r,n))}function bI(t,e,n){let r=[t];return e!==null&&r.push(e),J(f.conditional,r,n)}var NI={constant:[f.textInterpolate,f.textInterpolate1,f.textInterpolate2,f.textInterpolate3,f.textInterpolate4,f.textInterpolate5,f.textInterpolate6,f.textInterpolate7,f.textInterpolate8],variable:f.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},DI={constant:[f.propertyInterpolate,f.propertyInterpolate1,f.propertyInterpolate2,f.propertyInterpolate3,f.propertyInterpolate4,f.propertyInterpolate5,f.propertyInterpolate6,f.propertyInterpolate7,f.propertyInterpolate8],variable:f.propertyInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},_I={constant:[f.styleProp,f.stylePropInterpolate1,f.stylePropInterpolate2,f.stylePropInterpolate3,f.stylePropInterpolate4,f.stylePropInterpolate5,f.stylePropInterpolate6,f.stylePropInterpolate7,f.stylePropInterpolate8],variable:f.stylePropInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},RI={constant:[f.attribute,f.attributeInterpolate1,f.attributeInterpolate2,f.attributeInterpolate3,f.attributeInterpolate4,f.attributeInterpolate5,f.attributeInterpolate6,f.attributeInterpolate7,f.attributeInterpolate8],variable:f.attributeInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},kI={constant:[f.styleMap,f.styleMapInterpolate1,f.styleMapInterpolate2,f.styleMapInterpolate3,f.styleMapInterpolate4,f.styleMapInterpolate5,f.styleMapInterpolate6,f.styleMapInterpolate7,f.styleMapInterpolate8],variable:f.styleMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},PI={constant:[f.classMap,f.classMapInterpolate1,f.classMapInterpolate2,f.classMapInterpolate3,f.classMapInterpolate4,f.classMapInterpolate5,f.classMapInterpolate6,f.classMapInterpolate7,f.classMapInterpolate8],variable:f.classMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},MI={constant:[f.pureFunction0,f.pureFunction1,f.pureFunction2,f.pureFunction3,f.pureFunction4,f.pureFunction5,f.pureFunction6,f.pureFunction7,f.pureFunction8],variable:f.pureFunctionV,mapping:t=>t};function Wd(t,e,n,r,s){let i=t.mapping(n.length);if(i<t.constant.length)return O(t.constant[i]).callFn([...e,...n,...r],s);if(t.variable!==null)return O(t.variable).callFn([...e,ie(n),...r],s);throw new Error("AssertionError: unable to call variadic function")}function Ks(t,e,n,r,s){return En(Wd(t,e,n,r,s).toStmt())}var LI=new Map([["window",f.resolveWindow],["document",f.resolveDocument],["body",f.resolveBody]]);function OI(t){for(let e of t.units)FI(e,e.create),jd(e,e.update)}function FI(t,e){for(let n of e)switch(Ke(n,Kd,re.None),n.kind){case p.Text:w.replace(n,zC(n.handle.slot,n.initialValue,n.sourceSpan));break;case p.ElementStart:w.replace(n,NC(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case p.Element:w.replace(n,bC(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case p.ElementEnd:w.replace(n,DC(n.sourceSpan));break;case p.ContainerStart:w.replace(n,_C(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case p.Container:w.replace(n,RC(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case p.ContainerEnd:w.replace(n,kC());break;case p.I18nStart:w.replace(n,eI(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case p.I18nEnd:w.replace(n,iI(n.sourceSpan));break;case p.I18n:w.replace(n,sI(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case p.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");w.replace(n,oI(n.handle.slot,n.i18nAttributesConfig));break;case p.Template:if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let r=t.job.views.get(n.xref);w.replace(n,PC(n.handle.slot,H(r.fnName),r.decls,r.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case p.DisableBindings:w.replace(n,MC());break;case p.EnableBindings:w.replace(n,LC());break;case p.Pipe:w.replace(n,BC(n.handle.slot,n.name));break;case p.Listener:let s=ff(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),i=n.eventTarget?LI.get(n.eventTarget):null;if(i===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);w.replace(n,OC(n.name,s,i,n.hostListener&&n.isAnimationListener,n.sourceSpan));break;case p.TwoWayListener:w.replace(n,FC(n.name,ff(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case p.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);w.replace(n,En(new We(n.variable.name,n.initializer,void 0,Ae.Final)));break;case p.Namespace:switch(n.active){case qe.HTML:w.replace(n,$C());break;case qe.SVG:w.replace(n,UC());break;case qe.Math:w.replace(n,VC());break}break;case p.Defer:let o=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;w.replace(n,XC(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,o,n.sourceSpan));break;case p.DeferOn:let a=[];switch(n.trigger.kind){case pe.Idle:case pe.Immediate:break;case pe.Timer:a=[n.trigger.delay];break;case pe.Interaction:case pe.Hover:case pe.Viewport:if(n.trigger.targetSlot?.slot==null||n.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${n.trigger.kind}`);a=[n.trigger.targetSlot.slot],n.trigger.targetSlotViewSteps!==0&&a.push(n.trigger.targetSlotViewSteps);break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}w.replace(n,QC(n.trigger.kind,a,n.prefetch,n.sourceSpan));break;case p.ProjectionDef:w.replace(n,JC(n.def));break;case p.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");let l=null,c=null,u=null;if(n.fallbackView!==null){if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");let C=t.job.views.get(n.fallbackView);if(C===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(C.fnName===null||C.decls===null||C.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");l=C.fnName,c=C.decls,u=C.vars}w.replace(n,ZC(n.handle.slot,n.projectionSlotIndex,n.attributes,l,c,u,n.sourceSpan));break;case p.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof dn))throw new Error("AssertionError: must be compiling a component");let h=t.job.views.get(n.xref);if(h.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let d=null,g=null,y=null;if(n.emptyView!==null){let C=t.job.views.get(n.emptyView);if(C===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(C.fnName===null||C.decls===null||C.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");d=C.fnName,g=C.decls,y=C.vars}w.replace(n,tI(n.handle.slot,h.fnName,n.decls,n.vars,n.tag,n.attributes,n.trackByFn,n.usesComponentInstance,d,g,y,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case p.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${p[n.kind]}`)}}function jd(t,e){for(let n of e)switch(Ke(n,Kd,re.None),n.kind){case p.Advance:w.replace(n,qC(n.delta,n.sourceSpan));break;case p.Property:n.expression instanceof Ce?w.replace(n,EI(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):w.replace(n,aI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case p.TwoWayProperty:w.replace(n,lI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case p.StyleProp:n.expression instanceof Ce?w.replace(n,wI(n.name,n.expression.strings,n.expression.expressions,n.unit,n.sourceSpan)):w.replace(n,uI(n.name,n.expression,n.unit,n.sourceSpan));break;case p.ClassProp:w.replace(n,pI(n.name,n.expression,n.sourceSpan));break;case p.StyleMap:n.expression instanceof Ce?w.replace(n,TI(n.expression.strings,n.expression.expressions,n.sourceSpan)):w.replace(n,hI(n.expression,n.sourceSpan));break;case p.ClassMap:n.expression instanceof Ce?w.replace(n,xI(n.expression.strings,n.expression.expressions,n.sourceSpan)):w.replace(n,fI(n.expression,n.sourceSpan));break;case p.I18nExpression:w.replace(n,yI(n.expression,n.sourceSpan));break;case p.I18nApply:w.replace(n,vI(n.handle.slot,n.sourceSpan));break;case p.InterpolateText:w.replace(n,gI(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case p.Attribute:n.expression instanceof Ce?w.replace(n,SI(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):w.replace(n,cI(n.name,n.expression,n.sanitizer,n.namespace));break;case p.HostProperty:if(n.expression instanceof Ce)throw new Error("not yet handled");n.isAnimationTrigger?w.replace(n,II(n.name,n.expression,n.sourceSpan)):w.replace(n,CI(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case p.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);w.replace(n,En(new We(n.variable.name,n.initializer,void 0,Ae.Final)));break;case p.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");w.replace(n,bI(n.processed,n.contextValue,n.sourceSpan));break;case p.Repeater:w.replace(n,nI(n.collection,n.sourceSpan));break;case p.DeferWhen:w.replace(n,rI(n.prefetch,n.expr,n.sourceSpan));break;case p.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${p[n.kind]}`)}}function Kd(t){if(!Sn(t))return t;switch(t.kind){case B.NextContext:return HC(t.steps);case B.Reference:return GC(t.targetSlot.slot+1+t.offset);case B.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case B.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case B.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return jC(t.view);case B.ResetView:return KC(t.expr);case B.GetCurrentView:return WC();case B.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return H(t.name);case B.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return H(t.name);case B.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return H(t.name).set(t.expr);case B.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return AI(t.varOffset,t.fn,t.args);case B.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case B.PipeBinding:return dI(t.targetSlot.slot,t.varOffset,t.args);case B.PipeBindingVariadic:return mI(t.targetSlot.slot,t.varOffset,t.args);case B.SlotLiteralExpr:return v(t.slot.slot);default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${B[t.kind]}`)}}function ff(t,e,n,r){jd(t,n);let s=[];for(let o of n){if(o.kind!==p.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${p[o.kind]}`);s.push(o.statement)}let i=[];return r&&i.push(new ke("$event")),Kr(i,s,void 0,void 0,e)}function BI(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case p.Attribute:case p.Binding:case p.ClassProp:case p.ClassMap:case p.Property:case p.StyleProp:case p.StyleMap:n.expression instanceof Gi&&w.remove(n);break}}function $I(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case p.I18nContext:w.remove(n);break;case p.I18nStart:n.context=null;break}}function UI(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case p.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case p.I18nAttributes:if(n.has(r.xref))continue;w.remove(r)}}}function VI(t){for(let e of t.units)Bc(e,e.create),Bc(e,e.update)}function Bc(t,e){let n=new Map;n.set(t.xref,H("ctx"));for(let r of e)switch(r.kind){case p.Variable:switch(r.variable.kind){case Je.Context:n.set(r.variable.view,new hr(r.xref));break}break;case p.Listener:case p.TwoWayListener:Bc(t,r.handlerOps);break}t===t.job.root&&n.set(t.xref,H("ctx"));for(let r of e)Ke(r,s=>{if(s instanceof On){if(!n.has(s.view))throw new Error(`No context found for reference to view ${s.view} from view ${t.xref}`);return n.get(s.view)}else return s},re.None)}function qI(t){for(let e of t.units)df(e.create),df(e.update)}function df(t){for(let e of t)(e.kind===p.Listener||e.kind===p.TwoWayListener)&&Ke(e,n=>n instanceof Ye&&n.name==="$event"?(e.kind===p.Listener&&(e.consumesDollarEvent=!0),new Tt(n.name)):n,re.InChildOperation)}function GI(t){let e=new Map,n=new Map;for(let r of t.units)for(let s of r.create)switch(s.kind){case p.I18nContext:e.set(s.xref,s);break;case p.ElementStart:n.set(s.xref,s);break}zn(t,t.root,e,n)}function zn(t,e,n,r,s){let i=null,o=new Map;for(let a of e.create)switch(a.kind){case p.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:a,i18nContext:n.get(a.context)};break;case p.I18nEnd:i=null;break;case p.ElementStart:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mf(a,i.i18nContext,i.i18nBlock,s),s&&a.i18nPlaceholder.closeName&&o.set(a.xref,s),s=void 0}break;case p.ElementEnd:let l=r.get(a.xref);if(l&&l.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");gf(l,i.i18nContext,i.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case p.Projection:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");mf(a,i.i18nContext,i.i18nBlock,s),gf(a,i.i18nContext,i.i18nBlock,s),s=void 0}break;case p.Template:let c=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)zn(t,c,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===dt.Structural?zn(t,c,n,r,a):(El(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),zn(t,c,n,r),Sl(t,c,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0)}break;case p.RepeaterCreate:if(s!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,h=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)zn(t,h,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");El(t,h,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),zn(t,h,n,r),Sl(t,h,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}if(a.emptyView!==null){let d=a.handle.slot+2,g=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)zn(t,g,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");El(t,g,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),zn(t,g,n,r),Sl(t,g,d,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}}break}}function mf(t,e,n,r){let{startName:s,closeName:i}=t.i18nPlaceholder,o=ae.ElementTag|ae.OpenTag,a=t.handle.slot;r!==void 0&&(o|=ae.TemplateTag,a={element:a,template:r.handle.slot}),i||(o|=ae.CloseTag),qs(e.params,s,a,n.subTemplateIndex,o)}function gf(t,e,n,r){let{closeName:s}=t.i18nPlaceholder;if(s){let i=ae.ElementTag|ae.CloseTag,o=t.handle.slot;r!==void 0&&(i|=ae.TemplateTag,o={element:o,template:r.handle.slot}),qs(e.params,s,o,n.subTemplateIndex,i)}}function El(t,e,n,r,s,i,o){let{startName:a,closeName:l}=r,c=ae.TemplateTag|ae.OpenTag;l||(c|=ae.CloseTag),o!==void 0&&qs(s.params,a,o.handle.slot,i.subTemplateIndex,c),qs(s.params,a,n,zd(t,i,e),c)}function Sl(t,e,n,r,s,i,o){let{closeName:a}=r,l=ae.TemplateTag|ae.CloseTag;a&&(qs(s.params,a,n,zd(t,i,e),l),o!==void 0&&qs(s.params,a,o.handle.slot,i.subTemplateIndex,l))}function zd(t,e,n){for(let r of n.create)if(r.kind===p.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function qs(t,e,n,r,s){let i=t.get(e)??[];i.push({value:n,subTemplateIndex:r,flags:s}),t.set(e,i)}function HI(t){let e=new Map,n=new Map,r=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case p.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case p.I18nContext:n.set(a.xref,a);break;case p.IcuPlaceholder:r.set(a.xref,a);break}let s=new Map,i=o=>o.usage===qr.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===p.I18nExpression){let l=s.get(i(a))||0,c=e.get(a.i18nOwner)??null,u={value:l,subTemplateIndex:c,flags:ae.ExpressionIndex};WI(a,u,n,r),s.set(i(a),l+1)}}function WI(t,e,n,r){if(t.i18nPlaceholder!==null){let s=n.get(t.context),i=t.resolutionTime===Ls.Creation?s.params:s.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&r.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function jI(t){for(let e of t.units)$c(e,e.create,null),$c(e,e.update,null)}function $c(t,e,n){let r=new Map;for(let s of e)switch(s.kind){case p.Variable:switch(s.variable.kind){case Je.Identifier:case Je.Alias:if(r.has(s.variable.identifier))continue;r.set(s.variable.identifier,s.xref);break;case Je.SavedView:n={view:s.variable.view,variable:s.xref};break}break;case p.Listener:case p.TwoWayListener:$c(t,s.handlerOps,n);break}for(let s of e)s.kind==p.Listener||s.kind===p.TwoWayListener||Ke(s,i=>{if(i instanceof Ye)return r.has(i.name)?new hr(r.get(i.name)):new it(new On(t.job.root.xref),i.name);if(i instanceof ra&&typeof i.view=="number"){if(n===null||n.view!==i.view)throw new Error(`AssertionError: no saved view ${i.view} from view ${t.xref}`);return i.view=new hr(n.variable),i}else return i},re.None);for(let s of e)yt(s,i=>{if(i instanceof Ye)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${i.name}`)})}var KI=new Map([[le.HTML,f.sanitizeHtml],[le.RESOURCE_URL,f.sanitizeResourceUrl],[le.SCRIPT,f.sanitizeScript],[le.STYLE,f.sanitizeStyle],[le.URL,f.sanitizeUrl]]),zI=new Map([[le.HTML,f.trustConstantHtml],[le.RESOURCE_URL,f.trustConstantResourceUrl]]);function XI(t){for(let e of t.units){let n=Tu(e);if(t.kind!==N.Host){for(let r of e.create)if(r.kind===p.ExtractedAttribute){let s=zI.get(yf(r.securityContext))??null;r.trustedValueFn=s!==null?O(s):null}}for(let r of e.update)switch(r.kind){case p.Property:case p.Attribute:case p.HostProperty:let s=null;if(Array.isArray(r.securityContext)&&r.securityContext.length===2&&r.securityContext.indexOf(le.URL)>-1&&r.securityContext.indexOf(le.RESOURCE_URL)>-1?s=f.sanitizeUrlOrResourceUrl:s=KI.get(yf(r.securityContext))??null,r.sanitizer=s!==null?O(s):null,r.sanitizer===null){let i=!1;if(t.kind===N.Host||r.kind===p.HostProperty)i=!0;else{let o=n.get(r.target);if(o===void 0||!dr(o))throw Error("Property should have an element-like owner");i=YI(o)}i&&JT(r.name)&&(r.sanitizer=O(f.validateIframeAttribute))}break}}}function YI(t){return t.kind===p.ElementStart&&t.tag?.toLowerCase()==="iframe"}function yf(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||le.NONE}return t}function QI(t){for(let e of t.units)for(let n of e.create)n.kind===p.TwoWayListener&&Ke(n,r=>{if(!(r instanceof sa))return r;let{target:s,value:i}=r;if(s instanceof it||s instanceof gn)return pf(s,i).or(s.set(i));if(s instanceof hr)return pf(s,i);throw new Error("Unsupported expression in two-way action binding.")},re.InChildOperation)}function JI(t){for(let e of t.units){e.create.prepend([ms(e.job.allocateXrefId(),{kind:Je.SavedView,name:null,view:e.xref},new pc,zt.None)]);for(let n of e.create){if(n.kind!==p.Listener&&n.kind!==p.TwoWayListener)continue;let r=e!==t.root;if(!r)for(let s of n.handlerOps)yt(s,i=>{i instanceof ea&&(r=!0)});r&&ZI(e,n)}}}function ZI(t,e){e.handlerOps.prepend([ms(t.job.allocateXrefId(),{kind:Je.Context,name:null,view:t.xref},new ra(t.xref),zt.None)]);for(let n of e.handlerOps)n.kind===p.Statement&&n.statement instanceof Qe&&(n.statement.value=new hc(n.statement.value))}function eA(t){let e=new Map;for(let n of t.units){let r=0;for(let s of n.create)Ws(s)&&(s.handle.slot=r,e.set(s.xref,s.handle.slot),r+=s.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===p.Template||r.kind===p.RepeaterCreate){let s=t.views.get(r.xref);r.decls=s.decls}}function tA(t){for(let e of t.units)for(let n of e.update)if(n.kind===p.Binding)switch(n.bindingKind){case L.ClassName:if(n.expression instanceof Ce)throw new Error("Unexpected interpolation in ClassName binding");w.replace(n,dw(n.target,n.name,n.expression,n.sourceSpan));break;case L.StyleProperty:w.replace(n,fw(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case L.Property:case L.Template:n.name==="style"?w.replace(n,mw(n.target,n.expression,n.sourceSpan)):n.name==="class"&&w.replace(n,gw(n.target,n.expression,n.sourceSpan));break}}function nA(t){for(let e of t.units)e.create.prepend(Uc(e.create)),e.update.prepend(Uc(e.update))}function Uc(t){let e=0,n=[];for(let r of t){let s=new Map;yt(r,(c,u)=>{u&re.InChildOperation||c instanceof Fn&&s.set(c.xref,c)});let i=0,o=new Set,a=new Set,l=new Map;yt(r,(c,u)=>{u&re.InChildOperation||(c instanceof nn?(o.has(c.xref)||(o.add(c.xref),l.set(c.xref,`tmp_${e}_${i++}`)),vf(l,c)):c instanceof Fn&&(s.get(c.xref)===c&&(a.add(c.xref),i--),vf(l,c)))}),n.push(...Array.from(new Set(l.values())).map(c=>En(new We(c)))),e++,(r.kind===p.Listener||r.kind===p.TwoWayListener)&&r.handlerOps.prepend(Uc(r.handlerOps))}return n}function vf(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function rA(t){for(let e of t.units)for(let n of e.create){if(n.kind!==p.RepeaterCreate||n.trackByFn!==null)continue;let r=!1;n.track=_(n.track,o=>{if(o instanceof Wr||o instanceof ia)throw new Error("Illegal State: Pipes are not allowed in this context");return o instanceof ta?(r=!0,H("this")):o},re.None);let s,i=[new ke("$index"),new ke("$item")];r?s=new Xt(i,[new Qe(n.track)]):s=en(i,n.track),n.trackByFn=t.pool.getSharedFunctionReference(s,"_forTrack")}}function sA(t){for(let e of t.units)for(let n of e.create)n.kind===p.RepeaterCreate&&(n.track instanceof Tt&&n.track.name==="$index"?n.trackByFn=O(f.repeaterTrackByIndex):n.track instanceof Tt&&n.track.name==="$item"?n.trackByFn=O(f.repeaterTrackByIdentity):iA(t.root.xref,n.track)?(n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=O(f.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn)):n.track=_(n.track,r=>r instanceof On?(n.usesComponentInstance=!0,new ta(r.view)):r,re.None))}function iA(t,e){if(!(e instanceof He)||e.args.length===0||e.args.length>2||!(e.receiver instanceof it&&e.receiver.receiver instanceof On)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof Tt)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof Tt)||r.name!=="$item")}function oA(t){for(let e of t.units)for(let n of e.create)n.kind===p.RepeaterCreate&&(n.track=_(n.track,r=>{if(r instanceof Ye){if(n.varNames.$index.has(r.name))return H("$index");if(r.name===n.varNames.$implicit)return H("$item")}return r},re.None))}function aA(t){for(let e of t.units){let n=0;for(let r of e.ops())pl(r)&&(n+=lA(r));for(let r of e.ops())yt(r,s=>{Sn(s)&&(t.compatibility===gt.TemplateDefinitionBuilder&&s instanceof Hr||(Nh(s)&&(s.varOffset=n),pl(s)&&(n+=Ef(s))))});if(t.compatibility===gt.TemplateDefinitionBuilder)for(let r of e.ops())yt(r,s=>{!Sn(s)||!(s instanceof Hr)||(Nh(s)&&(s.varOffset=n),pl(s)&&(n+=Ef(s)))});e.vars=n}if(t instanceof Wi)for(let e of t.units)for(let n of e.create){if(n.kind!==p.Template&&n.kind!==p.RepeaterCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function lA(t){let e;switch(t.kind){case p.Property:case p.HostProperty:case p.Attribute:return e=1,t.expression instanceof Ce&&!cA(t.expression)&&(e+=t.expression.expressions.length),e;case p.TwoWayProperty:return 1;case p.StyleProp:case p.ClassProp:case p.StyleMap:case p.ClassMap:return e=2,t.expression instanceof Ce&&(e+=t.expression.expressions.length),e;case p.InterpolateText:return t.interpolation.expressions.length;case p.I18nExpression:case p.Conditional:case p.DeferWhen:return 1;case p.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${p[t.kind]}`)}}function Ef(t){switch(t.kind){case B.PureFunctionExpr:return 1+t.args.length;case B.PipeBinding:return 1+t.args.length;case B.PipeBindingVariadic:return 1+t.numArgs;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function cA(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function uA(t){for(let e of t.units){wl(e.create),wl(e.update);for(let n of e.create)(n.kind===p.Listener||n.kind===p.TwoWayListener)&&wl(n.handlerOps);Tl(e.create,t.compatibility),Tl(e.update,t.compatibility);for(let n of e.create)(n.kind===p.Listener||n.kind===p.TwoWayListener)&&Tl(n.handlerOps,t.compatibility)}}var Re;(function(t){t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful"})(Re||(Re={}));function wl(t){let e=new Map;for(let n of t)n.kind===p.Variable&&n.flags&zt.AlwaysInline&&(yt(n,r=>{if(Sn(r)&&xu(r)!==Re.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),Ke(n,r=>r instanceof hr&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,re.None);for(let n of e.values())w.remove(n)}function Tl(t,e){let n=new Map,r=new Map,s=new Set,i=new Map;for(let c of t){if(c.kind===p.Variable){if(n.has(c.xref)||r.has(c.xref))throw new Error(`Should not see two declarations of the same variable: ${c.xref}`);n.set(c.xref,c),r.set(c.xref,0)}i.set(c,pA(c)),hA(c,r,s)}let o=!1;for(let c of t.reversed()){let u=i.get(c);if(c.kind===p.Variable&&r.get(c.xref)===0){if(o&&u.fences&Re.ViewContextWrite||u.fences&Re.SideEffectful){let h=En(c.initializer.toStmt());i.set(h,u),w.replace(c,h)}else fA(c,r),w.remove(c);i.delete(c),n.delete(c.xref),r.delete(c.xref);continue}u.fences&Re.ViewContextRead&&(o=!0)}let a=[];for(let[c,u]of r){let d=!!(n.get(c).flags&zt.AlwaysInline);u!==1||d||s.has(c)||a.push(c)}let l;for(;l=a.pop();){let c=n.get(l),u=i.get(c);if(!!(c.flags&zt.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let d=c.next;d.kind!==p.ListEnd;d=d.next){let g=i.get(d);if(g.variablesUsed.has(l)){if(e===gt.TemplateDefinitionBuilder&&!mA(c,d))break;if(dA(l,c.initializer,d,u.fences)){g.variablesUsed.delete(l);for(let y of u.variablesUsed)g.variablesUsed.add(y);g.fences|=u.fences,n.delete(l),r.delete(l),i.delete(c),w.remove(c)}break}if(!Xd(g.fences,u.fences))break}}}function xu(t){switch(t.kind){case B.NextContext:return Re.ViewContextRead|Re.ViewContextWrite;case B.RestoreView:return Re.ViewContextRead|Re.ViewContextWrite|Re.SideEffectful;case B.Reference:return Re.ViewContextRead;default:return Re.None}}function pA(t){let e=Re.None,n=new Set;return yt(t,r=>{if(Sn(r))switch(r.kind){case B.ReadVariable:n.add(r.xref);break;default:e|=xu(r)}}),{fences:e,variablesUsed:n}}function hA(t,e,n){yt(t,(r,s)=>{if(!Sn(r)||r.kind!==B.ReadVariable)return;let i=e.get(r.xref);i!==void 0&&(e.set(r.xref,i+1),s&re.InChildOperation&&n.add(r.xref))})}function fA(t,e){yt(t,n=>{if(!Sn(n)||n.kind!==B.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function Xd(t,e){if(t&Re.ViewContextWrite){if(e&Re.ViewContextRead)return!1}else if(t&Re.ViewContextRead&&e&Re.ViewContextWrite)return!1;return!0}function dA(t,e,n,r){let s=!1,i=!0;return Ke(n,(o,a)=>{if(!Sn(o)||s||!i)return o;if(a&re.InChildOperation&&r&Re.ViewContextRead)return o;switch(o.kind){case B.ReadVariable:if(o.xref===t)return s=!0,e;break;default:let l=xu(o);i=i&&Xd(l,r);break}return o},re.None),s}function mA(t,e){switch(t.variable.kind){case Je.Identifier:return t.initializer instanceof Tt&&t.initializer.name==="ctx";case Je.Context:return e.kind===p.Variable;default:return!0}}function gA(t){for(let e of t.units){let n=null,r=null;for(let s of e.create)switch(s.kind){case p.I18nStart:n=s;break;case p.I18nEnd:n=null;break;case p.IcuStart:n===null&&(r=t.allocateXrefId(),w.insertBefore(ka(r,s.message,void 0,null),s));break;case p.IcuEnd:r!==null&&(w.insertAfter(Pa(r,null),s),r=null);break}}}var yA=[{kind:N.Tmpl,fn:dC},{kind:N.Host,fn:LT},{kind:N.Tmpl,fn:Yx},{kind:N.Tmpl,fn:wC},{kind:N.Tmpl,fn:gA},{kind:N.Both,fn:sT},{kind:N.Both,fn:tA},{kind:N.Both,fn:Ww},{kind:N.Both,fn:qw},{kind:N.Tmpl,fn:rT},{kind:N.Both,fn:Jx},{kind:N.Tmpl,fn:BI},{kind:N.Both,fn:zw},{kind:N.Both,fn:fC},{kind:N.Tmpl,fn:Xw},{kind:N.Tmpl,fn:yC},{kind:N.Tmpl,fn:iT},{kind:N.Tmpl,fn:Kx},{kind:N.Tmpl,fn:tT},{kind:N.Tmpl,fn:UI},{kind:N.Tmpl,fn:Vw},{kind:N.Tmpl,fn:$w},{kind:N.Tmpl,fn:SC},{kind:N.Both,fn:CC},{kind:N.Tmpl,fn:_T},{kind:N.Tmpl,fn:RT},{kind:N.Tmpl,fn:JI},{kind:N.Both,fn:Fw},{kind:N.Both,fn:qI},{kind:N.Tmpl,fn:oA},{kind:N.Both,fn:jI},{kind:N.Tmpl,fn:oT},{kind:N.Tmpl,fn:QI},{kind:N.Tmpl,fn:sA},{kind:N.Both,fn:VI},{kind:N.Both,fn:XI},{kind:N.Tmpl,fn:zx},{kind:N.Both,fn:aC},{kind:N.Both,fn:uT},{kind:N.Both,fn:nA},{kind:N.Both,fn:uA},{kind:N.Tmpl,fn:eA},{kind:N.Tmpl,fn:GI},{kind:N.Tmpl,fn:HI},{kind:N.Tmpl,fn:IT},{kind:N.Tmpl,fn:rA},{kind:N.Tmpl,fn:qx},{kind:N.Tmpl,fn:PT},{kind:N.Both,fn:Zw},{kind:N.Tmpl,fn:$I},{kind:N.Both,fn:aA},{kind:N.Tmpl,fn:DT},{kind:N.Both,fn:Zx},{kind:N.Tmpl,fn:nT},{kind:N.Tmpl,fn:nC},{kind:N.Tmpl,fn:sC},{kind:N.Tmpl,fn:cT},{kind:N.Tmpl,fn:oC},{kind:N.Both,fn:xC},{kind:N.Both,fn:OI},{kind:N.Both,fn:Kw}];function Yd(t,e){for(let n of yA)(n.kind===e||n.kind===N.Both)&&n.fn(t)}function vA(t,e){let n=Jd(t.root);return Qd(t.root,e),n}function Qd(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;Qd(n,e);let r=Jd(n);e.statements.push(r.toDeclStmt(r.name))}}function Jd(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==p.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${p[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==p.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${p[i.kind]}`);n.push(i.statement)}let r=wa(1,e),s=wa(2,n);return Kr([new ke("rf"),new ke("ctx")],[...r,...s],void 0,void 0,t.fnName)}function wa(t,e){return e.length===0?[]:[Zi(new Z(I.BitwiseAnd,H("rf"),v(t)),e)]}function EA(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==p.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${p[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==p.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${p[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let r=wa(1,e),s=wa(2,n);return Kr([new ke("rf"),new ke("ctx")],[...r,...s],void 0,void 0,t.root.fnName)}var Zd=gt.TemplateDefinitionBuilder,Dr=new sn,_r="ng-template";function Vc(t){return t instanceof rt}function SA(t){return Vc(t)&&t.nodes.length===1&&t.nodes[0]instanceof Xo}function wA(t,e,n,r,s,i,o){let a=new Wi(t,n,Zd,r,s,i,o);return Bn(a.root,e),a}function TA(t,e,n){let r=new pa(t.componentName,n,Zd);for(let s of t.properties??[]){let i=L.Property;s.name.startsWith("attr.")&&(s.name=s.name.substring(5),i=L.Attribute),s.isAnimation&&(i=L.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,s.name,i===L.Attribute).filter(a=>a!==le.NONE);xA(r,s,i,o)}for(let[s,i]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,s,!0).filter(a=>a!==le.NONE);CA(r,s,i,o)}for(let s of t.events??[])IA(r,s);return r}function xA(t,e,n,r){let s,i=e.expression.ast;i instanceof kn?s=new Ce(i.strings,i.expressions.map(o=>j(o,t,e.sourceSpan)),[]):s=j(i,t,e.sourceSpan),t.root.update.push(Gr(t.root.xref,n,e.name,s,null,r,!1,!1,null,null,e.sourceSpan))}function CA(t,e,n,r){let s=Gr(t.root.xref,L.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(s)}function IA(t,e){let[n,r]=e.type!==Ge.Animation?[null,e.targetOrPhase]:[e.targetOrPhase,null],s=wu(t.root.xref,new bt,e.name,null,Cu(t.root,e.handler,e.handlerSpan),n,r,!0,e.sourceSpan);t.root.create.push(s)}function Bn(t,e){for(let n of e)if(n instanceof oe)AA(t,n);else if(n instanceof se)bA(t,n);else if(n instanceof lr)NA(t,n);else if(n instanceof jt)em(t,n,null);else if(n instanceof Pn)tm(t,n,null);else if(n instanceof Br)DA(t,n);else if(n instanceof Fr)_A(t,n);else if(n instanceof Ln)RA(t,n);else if(n instanceof Rs)kA(t,n);else if(n instanceof yn)PA(t,n);else if(!(n instanceof mt))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function AA(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof rt||e.i18n instanceof cr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,s]=tn(e.name),i=xw(s,n,Od(r),e.i18n instanceof cr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),OA(t,i,e),sm(i,e);let o=null;e.i18n instanceof rt&&(o=t.job.allocateXrefId(),t.create.push(ka(o,e.i18n,void 0,e.startSourceSpan))),Bn(t,e.children);let a=Iw(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a),o!==null&&w.insertBefore(Pa(o,e.endSourceSpan??e.startSourceSpan),a)}function bA(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof rt||e.i18n instanceof cr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,s="";e.tagName&&([s,r]=tn(e.tagName));let i=e.i18n instanceof cr?e.i18n:void 0,o=Od(s),a=r===null?"":Jw(r,o),l=LA(e)?dt.NgTemplate:dt.Structural,c=Ra(n.xref,l,r,a,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(c),FA(t,c,e,l),sm(c,e),Bn(n,e.children);for(let{name:u,value:h}of e.variables)n.contextVariables.set(u,h!==""?h:"$implicit");if(l===dt.NgTemplate&&e.i18n instanceof rt){let u=t.job.allocateXrefId();w.insertAfter(ka(u,e.i18n,void 0,e.startSourceSpan),n.create.head),w.insertBefore(Pa(u,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function NA(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof cr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(i=>!(i instanceof Ds)&&(!(i instanceof jt)||i.value.trim().length>0))&&(n=t.job.allocateView(t.xref),Bn(n,e.children));let r=t.job.allocateXrefId(),s=_w(r,e.selector,e.i18n,n?.xref??null,e.sourceSpan);for(let i of e.attributes){let o=Dr.securityContext(e.name,i.name,!0);t.update.push(Gr(s.xref,L.Attribute,i.name,v(i.value),null,o,!0,!1,null,An(i.i18n),i.sourceSpan))}t.create.push(s)}function em(t,e,n){t.create.push(Rd(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function tm(t,e,n){let r=e.value;if(r instanceof Ie&&(r=r.ast),!(r instanceof kn))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Nn))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let s=e.i18n instanceof Nn?e.i18n.children.filter(a=>a instanceof Yo).map(a=>a.name):[];if(s.length>0&&s.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(Rd(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(uw(i,new Ce(r.strings,r.expressions.map(a=>j(a,t.job,o)),s),e.sourceSpan))}function DA(t,e){let n=null,r=[];for(let s=0;s<e.branches.length;s++){let i=e.branches[s],o=t.job.allocateView(t.xref),a=Ta(t,o.xref,i);i.expressionAlias!==null&&o.contextVariables.set(i.expressionAlias.name,Ld);let l;if(i.i18n!==void 0){if(!(i.i18n instanceof ur))throw Error(`Unhandled i18n metadata type for if block: ${i.i18n?.constructor.name}`);l=i.i18n}let c=Ra(o.xref,dt.Block,a,"Conditional",qe.HTML,l,i.startSourceSpan,i.sourceSpan);t.create.push(c),n===null&&(n=o.xref);let u=i.expression?j(i.expression,t.job,null):null,h=new aa(u,c.xref,c.handle,i.expressionAlias);r.push(h),Bn(o,i.children)}t.update.push(Nd(n,null,r,e.sourceSpan))}function _A(t,e){if(e.cases.length===0)return;let n=null,r=[];for(let s of e.cases){let i=t.job.allocateView(t.xref),o=Ta(t,i.xref,s),a;if(s.i18n!==void 0){if(!(s.i18n instanceof ur))throw Error(`Unhandled i18n metadata type for switch block: ${s.i18n?.constructor.name}`);a=s.i18n}let l=Ra(i.xref,dt.Block,o,"Case",qe.HTML,a,s.startSourceSpan,s.sourceSpan);t.create.push(l),n===null&&(n=i.xref);let c=s.expression?j(s.expression,t.job,e.startSourceSpan):null,u=new aa(c,l.xref,l.handle);r.push(u),Bn(i,s.children)}t.update.push(Nd(n,j(e.expression,t.job,null),r,e.sourceSpan))}function bo(t,e,n,r,s){if(n!==void 0&&!(n instanceof ur))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let i=t.job.allocateView(t.xref);Bn(i,r);let o=Ra(i.xref,dt.Block,null,`Defer${e}`,qe.HTML,n,s,s);return t.create.push(o),o}function RA(t,e){let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=t.job.deferMeta.blocks.get(e)??null}let r=bo(t,"",e.i18n,e.children,e.sourceSpan),s=bo(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),i=bo(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=bo(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),l=Rw(a,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);l.placeholderView=i?.xref??null,l.placeholderSlot=i?.handle??null,l.loadingSlot=s?.handle??null,l.errorSlot=o?.handle??null,l.placeholderMinimumTime=e.placeholder?.minimumTime??null,l.loadingMinimumTime=e.loading?.minimumTime??null,l.loadingAfterTime=e.loading?.afterTime??null,t.create.push(l);let c=!1,u=[],h=[];for(let d of[e.triggers,e.prefetchTriggers]){if(d.idle!==void 0){let g=wr(a,{kind:pe.Idle},c,d.idle.sourceSpan);u.push(g)}if(d.immediate!==void 0){let g=wr(a,{kind:pe.Immediate},c,d.immediate.sourceSpan);u.push(g)}if(d.timer!==void 0){let g=wr(a,{kind:pe.Timer,delay:d.timer.delay},c,d.timer.sourceSpan);u.push(g)}if(d.hover!==void 0){let g=wr(a,{kind:pe.Hover,targetName:d.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.hover.sourceSpan);u.push(g)}if(d.interaction!==void 0){let g=wr(a,{kind:pe.Interaction,targetName:d.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.interaction.sourceSpan);u.push(g)}if(d.viewport!==void 0){let g=wr(a,{kind:pe.Viewport,targetName:d.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},c,d.viewport.sourceSpan);u.push(g)}if(d.when!==void 0){if(d.when.value instanceof kn)throw new Error("Unexpected interpolation in defer block when trigger");let g=Sw(a,j(d.when.value,t.job,d.when.sourceSpan),c,d.when.sourceSpan);h.push(g)}u.length===0&&h.length===0&&u.push(wr(a,{kind:pe.Idle},!1,null)),c=!0}t.create.push(u),t.update.push(h)}function kA(t,e){if(e.i18n instanceof rt&&SA(e.i18n)){let n=t.job.allocateXrefId();t.create.push(Pw(n,e.i18n,od(e.i18n).name,null));for(let[r,s]of Object.entries({...e.vars,...e.placeholders}))s instanceof Pn?tm(t,s,r):em(t,s,r);t.create.push(Mw(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function PA(t,e){let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,s=`\u0275$count_${n.xref}`,i=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let D of e.contextVariables)D.value==="$index"&&i.add(D.name),D.name==="$index"?n.contextVariables.set("$index",D.value).set(r,D.value):D.name==="$count"?n.contextVariables.set("$count",D.value).set(s,D.value):n.aliases.add({kind:Je.Alias,name:null,identifier:D.name,expression:MA(D,r,s)});let o=Ue(e.trackBy.span,e.sourceSpan),a=j(e.trackBy,t.job,o);Bn(n,e.children);let l=null,c=null;e.empty!==null&&(l=t.job.allocateView(t.xref),Bn(l,e.empty.children),c=Ta(t,l.xref,e.empty));let u={$index:i,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof ur))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof ur))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let h=e.i18n,d=e.empty?.i18n,g=Ta(t,n.xref,e),y=Cw(n.xref,l?.xref??null,g,a,u,c,h,d,e.startSourceSpan,e.sourceSpan);t.create.push(y);let C=j(e.expression,t.job,Ue(e.expression.span,e.sourceSpan)),A=Ew(y.xref,y.handle,C,e.sourceSpan);t.update.push(A)}function MA(t,e,n){switch(t.value){case"$index":return new Ye(e);case"$count":return new Ye(n);case"$first":return new Ye(e).identical(v(0));case"$last":return new Ye(e).identical(new Ye(n).minus(v(1)));case"$even":return new Ye(e).modulo(v(2)).identical(v(0));case"$odd":return new Ye(e).modulo(v(2)).notIdentical(v(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function j(t,e,n){if(t instanceof Ie)return j(t.ast,e,n);if(t instanceof be){let r=t.receiver instanceof fn,s=t.receiver instanceof Me&&!(t.receiver instanceof fn),i=t.name==="$any"||t.name==="$event";return s||r&&!i?new Ye(t.name):new it(j(t.receiver,e,n),t.name,null,Ue(t.span,n))}else{if(t instanceof Rn)return t.receiver instanceof Me?new kr(new On(e.root.xref),t.name,j(t.value,e,n),null,Ue(t.span,n)):new kr(j(t.receiver,e,n),t.name,j(t.value,e,n),void 0,Ue(t.span,n));if(t instanceof Uo)return new ws(j(t.receiver,e,n),j(t.key,e,n),j(t.value,e,n),void 0,Ue(t.span,n));if(t instanceof ir){if(t.receiver instanceof Me)throw new Error("Unexpected ImplicitReceiver");return new He(j(t.receiver,e,n),t.args.map(r=>j(r,e,n)),void 0,Ue(t.span,n))}else{if(t instanceof Pt)return v(t.value,void 0,Ue(t.span,n));if(t instanceof bi)switch(t.operator){case"+":return new nr(mn.Plus,j(t.expr,e,n),void 0,Ue(t.span,n));case"-":return new nr(mn.Minus,j(t.expr,e,n),void 0,Ue(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof pt){let r=Yw.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new Z(r,j(t.left,e,n),j(t.right,e,n),void 0,Ue(t.span,n))}else{if(t instanceof fn)return new On(e.root.xref);if(t instanceof Ns)return new gn(j(t.receiver,e,n),j(t.key,e,n),void 0,Ue(t.span,n));if(t instanceof bs)throw new Error("AssertionError: Chain in unknown context");if(t instanceof qo){let r=t.keys.map((s,i)=>{let o=t.values[i];return new Pr(s.key,j(o,e,n),s.quoted)});return new $t(r,void 0,Ue(t.span,n))}else{if(t instanceof Vo)return new ot(t.expressions.map(r=>j(r,e,n)));if(t instanceof Ai)return new Zt(j(t.condition,e,n),j(t.trueExp,e,n),j(t.falseExp,e,n),void 0,Ue(t.span,n));if(t instanceof Di)return j(t.expression,e,n);if(t instanceof Lr)return new Wr(e.allocateXrefId(),new bt,t.name,[j(t.exp,e,n),...t.args.map(r=>j(r,e,n))]);if(t instanceof sr)return new Bs(j(t.receiver,e,n),j(t.key,e,n),Ue(t.span,n));if(t instanceof Ct)return new Fs(j(t.receiver,e,n),t.name);if(t instanceof or)return new fr(j(t.receiver,e,n),t.args.map(r=>j(r,e,n)));if(t instanceof Oe)return new Gi(Ue(t.span,n));if(t instanceof Ni)return Jf(j(t.expression,e,n),Ue(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}}function qc(t,e,n,r){let s;return e instanceof kn?s=new Ce(e.strings,e.expressions.map(i=>j(i,t,r??null)),Object.keys(An(n)?.placeholders??{})):e instanceof we?s=j(e,t,r??null):s=v(e),s}var nm=new Map([[K.Property,L.Property],[K.TwoWay,L.TwoWayProperty],[K.Attribute,L.Attribute],[K.Class,L.ClassName],[K.Style,L.StyleProperty],[K.Animation,L.Animation]]);function LA(t){return tn(t.tagName??"")[1]===_r}function An(t){if(t==null)return null;if(!(t instanceof rt))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function OA(t,e,n){let r=new Array,s=new Set;for(let i of n.attributes){let o=Dr.securityContext(n.name,i.name,!0);r.push(Gr(e.xref,L.Attribute,i.name,qc(t.job,i.value,i.i18n),null,o,!0,!1,null,An(i.i18n),i.sourceSpan)),i.i18n&&s.add(i.name)}for(let i of n.inputs)s.has(i.name)&&console.error(`On component ${t.job.componentName}, the binding ${i.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(Gr(e.xref,nm.get(i.type),i.name,qc(t.job,Xi(i.value),i.i18n),i.unit,i.securityContext,!1,!1,null,An(i.i18n)??null,i.sourceSpan));t.create.push(r.filter(i=>i?.kind===p.ExtractedAttribute)),t.update.push(r.filter(i=>i?.kind===p.Binding));for(let i of n.outputs){if(i.type===Ge.Animation&&i.phase===null)throw Error("Animation listener should have a phase");i.type===Ge.TwoWay?t.create.push(kd(e.xref,e.handle,i.name,e.tag,rm(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(wu(e.xref,e.handle,i.name,e.tag,Cu(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))}r.some(i=>i?.i18nMessage)!==null&&t.create.push(Md(t.job.allocateXrefId(),new bt,e.xref))}function FA(t,e,n,r){let s=new Array;for(let i of n.templateAttrs)if(i instanceof It){let o=Dr.securityContext(_r,i.name,!0);s.push(No(t,e.xref,K.Attribute,i.name,i.value,null,o,!0,r,An(i.i18n),i.sourceSpan))}else s.push(No(t,e.xref,i.type,i.name,Xi(i.value),i.unit,i.securityContext,!0,r,An(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=Dr.securityContext(_r,i.name,!0);s.push(No(t,e.xref,K.Attribute,i.name,i.value,null,o,!1,r,An(i.i18n),i.sourceSpan))}for(let i of n.inputs)s.push(No(t,e.xref,i.type,i.name,Xi(i.value),i.unit,i.securityContext,!1,r,An(i.i18n),i.sourceSpan));t.create.push(s.filter(i=>i?.kind===p.ExtractedAttribute)),t.update.push(s.filter(i=>i?.kind===p.Binding));for(let i of n.outputs){if(i.type===Ge.Animation&&i.phase===null)throw Error("Animation listener should have a phase");if(r===dt.NgTemplate&&(i.type===Ge.TwoWay?t.create.push(kd(e.xref,e.handle,i.name,e.tag,rm(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(wu(e.xref,e.handle,i.name,e.tag,Cu(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),r===dt.Structural&&i.type!==Ge.Animation){let o=Dr.securityContext(_r,i.name,!1);t.create.push(Ot(e.xref,L.Property,null,i.name,null,null,null,o))}}s.some(i=>i?.i18nMessage)!==null&&t.create.push(Md(t.job.allocateXrefId(),new bt,e.xref))}function No(t,e,n,r,s,i,o,a,l,c,u){let h=typeof s=="string";if(l===dt.Structural){if(!a)switch(n){case K.Property:case K.Class:case K.Style:return Ot(e,L.Property,null,r,null,null,c,o);case K.TwoWay:return Ot(e,L.TwoWayProperty,null,r,null,null,c,o)}if(!h&&(n===K.Attribute||n===K.Animation))return null}let d=nm.get(n);return l===dt.NgTemplate&&(n===K.Class||n===K.Style||n===K.Attribute&&!h)&&(d=L.Property),Gr(e,d,r,qc(t.job,s,c),i,o,h,a,l,c,u)}function Cu(t,e,n){e=Xi(e);let r=new Array,s=e instanceof bs?e.expressions:[e];if(s.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=s.map(a=>j(a,t.job,n)),o=i.pop();return r.push(...i.map(a=>En(new xt(a,a.sourceSpan)))),r.push(En(new Qe(o,o.sourceSpan))),r}function rm(t,e,n){e=Xi(e);let r=new Array;if(e instanceof bs)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let s=j(e,t.job,n),i=new Ye("$event"),o=new sa(s,i);return r.push(En(new xt(o))),r.push(En(new Qe(i))),r}function Xi(t){return t instanceof Ie?t.ast:t}function sm(t,e){BA(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function BA(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Ue(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),s=e.fullStart.moveBy(t.start);return new V(n,r,s)}function Ta(t,e,n){let r=null;for(let s of n.children)if(!(s instanceof Ds)){if(r!==null)return null;(s instanceof oe||s instanceof se&&s.tagName!==null)&&(r=s)}if(r!==null){for(let i of r.attributes){let o=Dr.securityContext(_r,i.name,!0);t.update.push(Gr(e,L.Attribute,i.name,v(i.value),null,o,!0,!1,null,An(i.i18n),i.sourceSpan))}for(let i of r.inputs)if(i.type!==K.Animation&&i.type!==K.Attribute){let o=Dr.securityContext(_r,i.name,!0);t.create.push(Ot(e,L.Property,null,i.name,null,null,null,o))}let s=r instanceof oe?r.name:r.tagName;return s===_r?null:s}return null}function xa(t,e){return Zi(H(uu).bitwiseAnd(v(t),null,!1),e)}function $A(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function UA(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let s=r.split(",").map(i=>v(i.trim()));n.push(...s)}),e.getConstLiteral(ie(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return O(f.resolveForwardRef).callFn([t.predicate.expression])}}function im(t,e,n,r){let s=[];r!==void 0&&s.push(...r),t.isSignal&&s.push(new it(H(Oi),t.propertyName)),s.push(UA(t,e),v($A(t))),t.read&&s.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return O(i).callFn(s)}var Iu=Symbol("queryAdvancePlaceholder");function om(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(O(f.queryAdvance).callFn(n===1?[]:[v(n)]).toStmt()),n=0)};for(let s=t.length-1;s>=0;s--){let i=t[s];i===Iu?n++:(r(),e.unshift(i))}return r(),e}function VA(t,e,n){let r=[],s=[],i=ad(a=>s.push(a),cu);t.forEach(a=>{let l=im(a,e,{signalBased:f.viewQuerySignal,nonSignal:f.viewQuery});if(r.push(l.toStmt()),a.isSignal){s.push(Iu);return}let c=i(),u=O(f.loadQuery).callFn([]),h=O(f.queryRefresh).callFn([c.set(u)]),d=H(Oi).prop(a.propertyName).set(a.first?c.prop("first"):c);s.push(h.and(d).toStmt())});let o=n?`${n}_Query`:null;return Kr([new ke(uu,ba),new ke(Oi,null)],[xa(1,r),xa(2,om(s))],wt,null,o)}function qA(t,e,n){let r=[],s=[],i=ad(a=>s.push(a),cu);for(let a of t){if(r.push(im(a,e,{nonSignal:f.contentQuery,signalBased:f.contentQuerySignal},[H("dirIndex")]).toStmt()),a.isSignal){s.push(Iu);continue}let l=i(),c=O(f.loadQuery).callFn([]),u=O(f.queryRefresh).callFn([l.set(c)]),h=H(Oi).prop(a.propertyName).set(a.first?l.prop("first"):l);s.push(u.and(h).toStmt())}let o=n?`${n}_ContentQueries`:null;return Kr([new ke(uu,ba),new ke(Oi,null),new ke("dirIndex",null)],[xa(1,r),xa(2,om(s))],wt,null,o)}var Ca=class extends Pc{constructor(){super(Ud)}parse(e,n,r){return super.parse(e,n,r)}},am="ngPreserveWhitespaces",GA=new Set(["pre","template","textarea","script","style"]),lm=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,HA=new RegExp(`[^${lm}]`),WA=new RegExp(`[${lm}]{2,}`,"g");function jA(t){return t.some(e=>e.name===am)}function cm(t){return t.replace(new RegExp(Vd,"g")," ")}var Gc=class{visitElement(e,n){return GA.has(e.name)||jA(e.attrs)?new kt(e.name,Ee(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new kt(e.name,e.attrs,Sf(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,n){return e.name!==am?e:null}visitText(e,n){let r=e.value.match(HA),s=n&&(n.prev instanceof Vs||n.next instanceof Vs);if(r||s){let i=e.tokens.map(a=>a.type===5?KA(a):a),o=um(e.value);return new jr(o,e.sourceSpan,i,e.i18n)}return null}visitComment(e,n){return e}visitExpansion(e,n){return e}visitExpansionCase(e,n){return e}visitBlock(e,n){return new Mt(e.name,e.parameters,Sf(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan)}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}};function KA({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[um(e[0])],sourceSpan:n}}function um(t){return cm(t).replace(WA," ")}function Sf(t,e){let n=[];return e.forEach((r,s)=>{let i={prev:e[s-1],next:e[s+1]},o=r.visit(t,i);o&&n.push(o)}),n}var wf=".",zA="attr",XA="class",YA="style",QA="*",xl="animate-",Hc=class{constructor(e,n,r,s,i=!1){this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=s,this._allowInvalidAssignmentEvents=i}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parsePropertyBinding(s,i,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parseEvent(s,i,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}parseInterpolation(e,n,r){let s=n.start.toString(),i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,s,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,i)}}parseInterpolationExpression(e,n){let r=n.start.toString(),s=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,r,s);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}parseInlineTemplateBinding(e,n,r,s,i,o,a,l){let c=r.start.offset+QA.length,u=this._parseTemplateBindings(e,n,r,c,s);for(let h of u){let d=jn(r,h.sourceSpan),g=h.key.source,y=jn(r,h.key.span);if(h instanceof _i){let C=h.value?h.value.source:"$implicit",A=h.value?jn(r,h.value.span):void 0;a.push(new Hl(g,C,d,y,A))}else if(h.value){let C=l?d:r,A=jn(r,h.value.ast.sourceSpan);this._parsePropertyAst(g,h.value,!1,C,y,A,i,o)}else i.push([g,""]),this.parseLiteralAttr(g,null,y,s,void 0,i,o,y)}}_parseTemplateBindings(e,n,r,s,i){let o=r.start.toString();try{let a=this._exprParser.parseTemplateBindings(e,n,o,s,i);return this._reportExpressionParserErrors(a.errors,r),a.warnings.forEach(l=>{this._reportError(l,r,In.WARNING)}),a.templateBindings}catch(a){return this._reportError(`${a}`,r),[]}}parseLiteralAttr(e,n,r,s,i,o,a,l){Cl(e)?(e=e.substring(1),l!==void 0&&(l=jn(l,new Ve(l.start.offset+1,l.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,In.ERROR),this._parseAnimation(e,n,r,s,l,i,o,a)):a.push(new ai(e,this._exprParser.wrapLiteralPrimitive(n,"",s),Tn.LITERAL_ATTR,r,l,i))}parsePropertyBinding(e,n,r,s,i,o,a,l,c,u){e.length===0&&this._reportError("Property name is missing in binding",i);let h=!1;e.startsWith(xl)?(h=!0,e=e.substring(xl.length),u!==void 0&&(u=jn(u,new Ve(u.start.offset+xl.length,u.end.offset)))):Cl(e)&&(h=!0,e=e.substring(1),u!==void 0&&(u=jn(u,new Ve(u.start.offset+1,u.end.offset)))),h?this._parseAnimation(e,n,i,o,u,a,l,c):this._parsePropertyAst(e,this.parseBinding(n,r,a||i,o),s,i,u,a,l,c)}parsePropertyInterpolation(e,n,r,s,i,o,a,l){let c=this.parseInterpolation(n,s||r,l);return c?(this._parsePropertyAst(e,c,!1,r,a,s,i,o),!0):!1}_parsePropertyAst(e,n,r,s,i,o,a,l){a.push([e,n.source]),l.push(new ai(e,n,r?Tn.TWO_WAY:Tn.DEFAULT,s,i,o))}_parseAnimation(e,n,r,s,i,o,a,l){e.length===0&&this._reportError("Animation trigger is missing",r);let c=this.parseBinding(n||"undefined",!1,o||r,s);a.push([e,c.source]),l.push(new ai(e,c,Tn.ANIMATION,r,i,o))}parseBinding(e,n,r,s){let i=(r&&r.start||"(unknown)").toString();try{let o=n?this._exprParser.parseSimpleBinding(e,i,s,this._interpolationConfig):this._exprParser.parseBinding(e,i,s,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,r),o}catch(o){return this._reportError(`${o}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",i,s)}}createBoundElementProperty(e,n,r=!1,s=!0){if(n.isAnimation)return new Ho(n.name,K.Animation,le.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,a=null,l=n.name.split(wf),c;if(l.length>1)if(l[0]==zA){a=l.slice(1).join(wf),r||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),c=Il(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let h=a.substring(0,u),d=a.substring(u+1);a=Kl(h,d)}o=K.Attribute}else l[0]==XA?(a=l[1],o=K.Class,c=[le.NONE]):l[0]==YA&&(i=l.length>2?l[2]:null,a=l[1],o=K.Style,c=[le.STYLE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(n.name);a=s?u:n.name,c=Il(this._schemaRegistry,e,u,!1),o=n.type===Tn.TWO_WAY?K.TwoWay:K.Property,r||this._validatePropertyOrAttributeName(u,n.sourceSpan,!1)}return new Ho(a,o,c[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,s,i,o,a,l){e.length===0&&this._reportError("Event name is missing in binding",s),Cl(e)?(e=e.slice(1),l!==void 0&&(l=jn(l,new Ve(l.start.offset+1,l.end.offset))),this._parseAnimationEvent(e,n,s,i,a,l)):this._parseRegularEvent(e,n,r,s,i,o,a,l)}calcPossibleSecurityContexts(e,n,r){let s=this._schemaRegistry.getMappedPropName(n);return Il(this._schemaRegistry,e,s,r)}_parseAnimationEvent(e,n,r,s,i,o){let a=$E(e,[e,""]),l=a[0],c=a[1].toLowerCase(),u=this._parseAction(n,s);i.push(new Go(l,c,Ge.Animation,u,r,s,o)),l.length===0&&this._reportError("Animation event name is missing in binding",r),c?c!=="start"&&c!=="done"&&this._reportError(`The provided animation output phase value "${c}" for "@${l}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,s,i,o,a,l){let[c,u]=BE(e,[null,e]),h=this.errors.length,d=this._parseAction(n,i),g=this.errors.length===h;o.push([e,d.source]),r&&g&&!this._isAllowedAssignmentEvent(d)&&this._reportError("Unsupported expression in a two-way binding",s),a.push(new Go(u,c,r?Ge.TwoWay:Ge.Regular,d,s,i,l))}_parseAction(e,n){let r=(n&&n.start||"(unknown").toString(),s=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,r,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof Oe?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}_reportError(e,n,r=In.ERROR){this.errors.push(new q(n,e,r))}_reportExpressionParserErrors(e,n){for(let r of e)this._reportError(r.message,n)}_validatePropertyOrAttributeName(e,n,r){let s=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,n,In.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof Ie?this._isAllowedAssignmentEvent(e.ast):e instanceof Di?this._isAllowedAssignmentEvent(e.expression):e instanceof be||e instanceof Ns?!0:this._allowInvalidAssignmentEvents?e instanceof pt?(e.operation==="&&"||e.operation==="||"||e.operation==="??")&&(e.right instanceof be||e.right instanceof Ns):e instanceof Ai||e instanceof Ni:!1}};function Cl(t){return t[0]=="@"}function Il(t,e,n,r){let s=[];return Yt.parse(e).forEach(i=>{let o=i.element?[i.element]:t.allKnownElementNames(),a=new Set(i.notSelectors.filter(c=>c.isElementSelector()).map(c=>c.element)),l=o.filter(c=>!a.has(c));s.push(...l.map(c=>t.securityContext(c,n,r)))}),s.length===0?[le.NONE]:Array.from(new Set(s)).sort()}function jn(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new V(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function JA(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(ZA);return e===null||e[1]=="package"||e[1]=="asset"}var ZA=/^([^:/?#]+):/,eb="select",tb="link",nb="rel",rb="href",sb="stylesheet",ib="style",ob="script",ab="ngNonBindable",lb="ngProjectAs";function pm(t){let e=null,n=null,r=null,s=!1,i="";t.attrs.forEach(l=>{let c=l.name.toLowerCase();c==eb?e=l.value:c==rb?n=l.value:c==nb?r=l.value:l.name==ab?s=!0:l.name==lb&&l.value.length>0&&(i=l.value)}),e=cb(e);let o=t.name.toLowerCase(),a=ft.OTHER;return Wl(o)?a=ft.NG_CONTENT:o==ib?a=ft.STYLE:o==ob?a=ft.SCRIPT:o==tb&&r==sb&&(a=ft.STYLESHEET),new Wc(a,e,n,s,i)}var ft;(function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"})(ft||(ft={}));var Wc=class{constructor(e,n,r,s,i){this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=s,this.projectAs=i}};function cb(t){return t===null||t.length===0?"*":t}var ub=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,pb=/^track\s+([\S\s]*)/,hb=/^(as\s)+(.*)/,Au=/^else[^\S\r\n]+if/,fb=/^let\s+([\S\s]*)/,Tf=/(\s*)(\S+)(\s*)/,di=new Set(["$index","$first","$last","$even","$odd","$count"]);function xf(t){return t==="empty"}function Cf(t){return t==="else"||Au.test(t)}function db(t,e,n,r){let s=Eb(e),i=[],o=If(t,s,r);o!==null&&i.push(new bn(o.expression,Ee(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let h of e)if(Au.test(h.name)){let d=If(h,s,r);if(d!==null){let g=Ee(n,h.children,h.children);i.push(new bn(d.expression,g,d.expressionAlias,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}}else if(h.name==="else"){let d=Ee(n,h.children,h.children);i.push(new bn(null,d,null,h.sourceSpan,h.startSourceSpan,h.endSourceSpan,h.nameSpan,h.i18n))}let a=i.length>0?i[0].startSourceSpan:t.startSourceSpan,l=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,c=t.sourceSpan,u=i[i.length-1];return u!==void 0&&(c=new V(a.start,u.sourceSpan.end)),{node:new Br(i,c,t.startSourceSpan,l,t.nameSpan),errors:s}}function mb(t,e,n,r){let s=[],i=yb(t,s,r),o=null,a=null;for(let l of e)l.name==="empty"?a!==null?s.push(new q(l.sourceSpan,"@for loop can only have one @empty block")):l.parameters.length>0?s.push(new q(l.sourceSpan,"@empty block cannot have parameters")):a=new Li(Ee(n,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n):s.push(new q(l.sourceSpan,`Unrecognized @for loop block "${l.name}"`));if(i!==null)if(i.trackBy===null)s.push(new q(t.sourceSpan,'@for loop must have a "track" expression'));else{let l=a?.endSourceSpan??t.endSourceSpan,c=new V(t.sourceSpan.start,l?.end??t.sourceSpan.end);o=new yn(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,Ee(n,t.children,t.children),a,c,t.sourceSpan,t.startSourceSpan,l,t.nameSpan,t.i18n)}return{node:o,errors:s}}function gb(t,e,n){let r=Sb(t),s=t.parameters.length>0?Yi(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],a=null;for(let l of t.children){if(!(l instanceof Mt))continue;if((l.name!=="case"||l.parameters.length===0)&&l.name!=="default"){o.push(new zo(l.name,l.sourceSpan,l.nameSpan));continue}let c=l.name==="case"?Yi(l.parameters[0],n):null,u=new Mi(c,Ee(e,l.children,l.children),l.sourceSpan,l.startSourceSpan,l.endSourceSpan,l.nameSpan,l.i18n);c===null?a=u:i.push(u)}return a!==null&&i.push(a),{node:new Fr(s,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function yb(t,e,n){if(t.parameters.length===0)return e.push(new q(t.sourceSpan,"@for loop does not have an expression")),null;let[r,...s]=t.parameters,i=wb(r,e)?.match(ub);if(!i||i[2].trim().length===0)return e.push(new q(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=i;di.has(o)&&e.push(new q(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(di).join(", ")}.`));let l=r.expression.split(" ")[0],c=new V(r.sourceSpan.start,r.sourceSpan.start.moveBy(l.length)),u={itemName:new at(o,"$implicit",c,c),trackBy:null,expression:Yi(r,n,a),context:Array.from(di,h=>{let d=new V(t.startSourceSpan.end,t.startSourceSpan.end);return new at(h,h,d,d)})};for(let h of s){let d=h.expression.match(fb);if(d!==null){let y=new V(h.sourceSpan.start.moveBy(d[0].length-d[1].length),h.sourceSpan.end);vb(h.sourceSpan,d[1],y,o,u.context,e);continue}let g=h.expression.match(pb);if(g!==null){if(u.trackBy!==null)e.push(new q(h.sourceSpan,'@for loop can only have one "track" expression'));else{let y=Yi(h,n,g[1]);y.ast instanceof Oe&&e.push(new q(h.sourceSpan,'@for loop must have a "track" expression'));let C=new V(h.sourceSpan.start,h.sourceSpan.start.moveBy(5));u.trackBy={expression:y,keywordSpan:C}}continue}e.push(new q(h.sourceSpan,`Unrecognized @for loop paramater "${h.expression}"`))}return u}function vb(t,e,n,r,s,i){let o=e.split(","),a=n.start;for(let l of o){let c=l.split("="),u=c.length===2?c[0].trim():"",h=c.length===2?c[1].trim():"";if(u.length===0||h.length===0)i.push(new q(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!di.has(h))i.push(new q(t,`Unknown "let" parameter variable "${h}". The allowed variables are: ${Array.from(di).join(", ")}`));else if(u===r)i.push(new q(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(s.some(d=>d.name===u))i.push(new q(t,`Duplicate "let" parameter variable "${h}"`));else{let[,d,g]=c[0].match(Tf)??[],y=d!==void 0&&c.length===2?new V(a.moveBy(d.length),a.moveBy(d.length+g.length)):n,C;if(c.length===2){let[,D,U]=c[1].match(Tf)??[];C=D!==void 0?new V(a.moveBy(c[0].length+1+D.length),a.moveBy(c[0].length+1+D.length+U.length)):void 0}let A=new V(y.start,C?.end??y.end);s.push(new at(u,h,A,y,C))}a=a.moveBy(l.length+1)}}function Eb(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let s=t[r];s.name==="else"?(n?e.push(new q(s.sourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new q(s.sourceSpan,"@else block must be last inside the conditional")):s.parameters.length>0&&e.push(new q(s.sourceSpan,"@else block cannot have parameters")),n=!0):Au.test(s.name)||e.push(new q(s.sourceSpan,`Unrecognized conditional block @${s.name}`))}return e}function Sb(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new q(t.sourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof Ki||r instanceof jr&&r.value.trim().length===0)){if(!(r instanceof Mt)||r.name!=="case"&&r.name!=="default"){e.push(new q(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new q(r.sourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new q(r.sourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new q(r.sourceSpan,"@case block must have exactly one parameter"))}return e}function Yi(t,e,n){let r,s;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),s=r+n.length):(r=0,s=t.expression.length),e.parseBinding(t.expression.slice(r,s),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function If(t,e,n){if(t.parameters.length===0)return e.push(new q(t.sourceSpan,"Conditional block does not have an expression")),null;let r=Yi(t.parameters[0],n),s=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],a=o.expression.match(hb);if(a===null)e.push(new q(o.sourceSpan,`Unrecognized conditional paramater "${o.expression}"`));else if(t.name!=="if")e.push(new q(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(s!==null)e.push(new q(o.sourceSpan,'Conditional can only have one "as" expression'));else{let l=a[2].trim(),c=o.sourceSpan.start.moveBy(a[1].length),u=new V(c,c.moveBy(l.length));s=new at(l,l,u,u)}}return{expression:r,expressionAlias:s}}function wb(t,e){let n=t.expression,r=/^\s$/,s=0,i=0,o=n.length-1;for(let a=0;a<n.length;a++){let l=n[a];if(l==="(")i=a+1,s++;else{if(r.test(l))continue;break}}if(s===0)return n;for(let a=n.length-1;a>-1;a--){let l=n[a];if(l===")"){if(o=a,s--,s===0)break}else{if(r.test(l))continue;break}}return s!==0?(e.push(new q(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var Tb=/^\d+\.?\d*(ms|s)?$/,xb=/^\s$/,Af=new Map([[pn,ht],[Es,fs],[Dn,Kt]]),et;(function(t){t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport"})(et||(et={}));function bf({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("when"),o=new V(e.start.moveBy(i),e.start.moveBy(i+4)),a=hm(t,e);if(i===-1)s.push(new q(e,'Could not find "when" keyword in expression'));else{let l=Qi(t,i+1),c=n.parseBinding(t.slice(l),!1,e,e.start.offset+l);fm("when",r,s,new _s(c,e,a,o))}}function Nf({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("on"),o=new V(e.start.moveBy(i),e.start.moveBy(i+2)),a=hm(t,e);if(i===-1)r.push(new q(e,'Could not find "on" keyword in expression'));else{let l=Qi(t,i+1);new jc(t,l,e,n,r,s,a,o).parse()}}function hm(t,e){return t.startsWith("prefetch")?new V(e.start,e.start.moveBy(8)):null}var jc=class{constructor(e,n,r,s,i,o,a,l){this.expression=e,this.start=n,this.span=r,this.triggers=s,this.errors=i,this.placeholder=o,this.prefetchSpan=a,this.onSourceSpan=l,this.index=0,this.tokens=new ji().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(Ft))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(Dn)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),s=new V(r,r.moveBy(e.strValue.length)),i=r.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,l=o?this.prefetchSpan:null,c=new V(o?this.span.start:r,i);try{switch(e.toString()){case et.IDLE:this.trackTrigger("idle",Cb(n,s,c,l,a));break;case et.TIMER:this.trackTrigger("timer",Ib(n,s,c,this.prefetchSpan,this.onSourceSpan));break;case et.INTERACTION:this.trackTrigger("interaction",Nb(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case et.IMMEDIATE:this.trackTrigger("immediate",Ab(n,s,c,this.prefetchSpan,this.onSourceSpan));break;case et.HOVER:this.trackTrigger("hover",bb(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case et.VIEWPORT:this.trackTrigger("viewport",Db(n,s,c,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(u){this.error(e,u.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(Dn))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r="";for(;this.index<this.tokens.length;){let s=this.token();if(s.isCharacter(Kt)&&n.length===0){r.length&&e.push(r);break}if(s.type===Y.Character&&Af.has(s.numValue)&&n.push(Af.get(s.numValue)),n.length>0&&s.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&s.isCharacter(Ft)&&r.length>0){e.push(r),r="",this.advance();continue}r+=this.tokenText(),this.advance()}return(!this.token().isCharacter(Kt)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(Ft)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){fm(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),s=r.moveBy(e.end-e.index);this.errors.push(new q(new V(r,s),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function fm(t,e,n,r){e[t]?n.push(new q(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function Cb(t,e,n,r,s){if(t.length>0)throw new Error(`"${et.IDLE}" trigger cannot have parameters`);return new zl(e,n,r,s)}function Ib(t,e,n,r,s){if(t.length!==1)throw new Error(`"${et.TIMER}" trigger must have exactly one parameter`);let i=Ia(t[0]);if(i===null)throw new Error(`Could not parse time value of trigger "${et.TIMER}"`);return new Yl(i,e,n,r,s)}function Ab(t,e,n,r,s){if(t.length>0)throw new Error(`"${et.IMMEDIATE}" trigger cannot have parameters`);return new Xl(e,n,r,s)}function bb(t,e,n,r,s,i){return bu(et.HOVER,t,i),new Wo(t[0]??null,e,n,r,s)}function Nb(t,e,n,r,s,i){return bu(et.INTERACTION,t,i),new jo(t[0]??null,e,n,r,s)}function Db(t,e,n,r,s,i){return bu(et.VIEWPORT,t,i),new Ko(t[0]??null,e,n,r,s)}function bu(t,e,n){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`);if(e.length===0){if(n===null)throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(n.children.length!==1||!(n.children[0]instanceof oe))throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function Qi(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(xb.test(t[r]))n=!0;else if(n)return r;return-1}function Ia(t){let e=t.match(Tb);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var _b=/^prefetch\s+when\s/,Rb=/^prefetch\s+on\s/,dm=/^minimum\s/,kb=/^after\s/,Pb=/^when\s/,Mb=/^on\s/;function Kc(t){return t==="placeholder"||t==="loading"||t==="error"}function Lb(t,e,n,r){let s=[],{placeholder:i,loading:o,error:a}=Ob(e,s,n),{triggers:l,prefetchTriggers:c}=Ub(t.parameters,r,s,i),u=t.endSourceSpan,h=t.sourceSpan.end;if(e.length>0){let y=e[e.length-1];u=y.endSourceSpan,h=y.sourceSpan.end}let d=new V(t.sourceSpan.start,h);return{node:new Ln(Ee(n,t.children,t.children),l,c,i,o,a,t.nameSpan,d,t.sourceSpan,t.startSourceSpan,u,t.i18n),errors:s}}function Ob(t,e,n){let r=null,s=null,i=null;for(let o of t)try{if(!Kc(o.name)){e.push(new q(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new q(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=Fb(o,n);break;case"loading":s!==null?e.push(new q(o.startSourceSpan,"@defer block can only have one @loading block")):s=Bb(o,n);break;case"error":i!==null?e.push(new q(o.startSourceSpan,"@defer block can only have one @error block")):i=$b(o,n);break}}catch(a){e.push(new q(o.startSourceSpan,a.message))}return{placeholder:r,loading:s,error:i}}function Fb(t,e){let n=null;for(let r of t.parameters)if(dm.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let s=Ia(r.expression.slice(Qi(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');n=s}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new Ri(Ee(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function Bb(t,e){let n=null,r=null;for(let s of t.parameters)if(kb.test(s.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=Ia(s.expression.slice(Qi(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(dm.test(s.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=Ia(s.expression.slice(Qi(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');r=i}else throw new Error(`Unrecognized parameter in @loading block: "${s.expression}"`);return new ki(Ee(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function $b(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new Pi(Ee(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function Ub(t,e,n,r){let s={},i={};for(let o of t)Pb.test(o.expression)?bf(o,e,s,n):Mb.test(o.expression)?Nf(o,s,n,r):_b.test(o.expression)?bf(o,e,i,n):Rb.test(o.expression)?Nf(o,i,n,r):n.push(new q(o.sourceSpan,"Unrecognized trigger"));return{triggers:s,prefetchTriggers:i}}var Vb=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Df=1,_f=2,Rf=3,kf=4,Pf=5,qb=6,ni=7,Kn={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},Mf="*";function Gb(t,e,n){let r=new zc(e,n),s=Ee(r,t,t),i=e.errors.concat(r.errors),o={nodes:s,errors:i,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var zc=class{constructor(e,n){this.bindingParser=e,this.options=n,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1,this.processedNodes=new Set}visitElement(e){let n=Vc(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=pm(e);if(r.type===ft.SCRIPT)return null;if(r.type===ft.STYLE){let A=Wb(e);return A!==null&&this.styles.push(A),null}else if(r.type===ft.STYLESHEET&&JA(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let s=rS(e.name),i=[],o=[],a=[],l=[],c=[],u={},h=[],d=[],g=!1;for(let A of e.attrs){let D=!1,U=Lf(A.name),te=!1;if(A.i18n&&(u[A.name]=A.i18n),U.startsWith(Mf)){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",A.sourceSpan),te=!0,g=!0;let ve=A.value,de=U.substring(Mf.length),ln=[],Wn=A.valueSpan?A.valueSpan.start.offset:A.sourceSpan.start.offset+A.name.length;this.bindingParser.parseInlineTemplateBinding(de,ve,A.sourceSpan,Wn,[],h,ln,!0),d.push(...ln.map(Et=>new at(Et.name,Et.value,Et.sourceSpan,Et.keySpan,Et.valueSpan)))}else D=this.parseAttribute(s,A,[],i,o,a,l);!D&&!te&&c.push(this.visitAttribute(A))}let y;r.nonBindable?y=Ee(Hb,e.children).flat(1/0):y=Ee(this,e.children,e.children);let C;if(r.type===ft.NG_CONTENT){let A=r.selectAttr,D=e.attrs.map(U=>this.visitAttribute(U));C=new lr(A,D,y,e.sourceSpan,e.i18n),this.ngContentSelectors.push(A)}else if(s){let A=this.extractAttributes(e.name,i,u);C=new se(e.name,c,A.bound,o,[],y,l,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let A=this.extractAttributes(e.name,i,u);C=new oe(e.name,c,A.bound,o,y,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(g){let A=this.extractAttributes("ng-template",h,u),D=[];A.literal.forEach(de=>D.push(de)),A.bound.forEach(de=>D.push(de));let U=C instanceof oe?{attributes:C.attributes,inputs:C.inputs,outputs:C.outputs}:{attributes:[],inputs:[],outputs:[]},te=s&&n?void 0:e.i18n,ve=C instanceof se?null:C.name;C=new se(ve,U.attributes,U.inputs,U.outputs,D,[C],[],d,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,te)}return n&&(this.inI18nBlock=!1),C}visitAttribute(e){return new It(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Vc(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},s={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(oS)){let a=i.trim(),l=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[a]=new Pn(l,o.sourceSpan)}else s[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new Rs(r,s,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Ds(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof Oe&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new mt(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let s=null;switch(e.name){case"defer":s=Lb(e,this.findConnectedBlocks(r,n,Kc),this,this.bindingParser);break;case"switch":s=gb(e,this,this.bindingParser);break;case"for":s=mb(e,this.findConnectedBlocks(r,n,xf),this,this.bindingParser);break;case"if":s=db(e,this.findConnectedBlocks(r,n,Cf),this,this.bindingParser);break;default:let i;Kc(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):xf(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):Cf(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,s={node:new zo(e.name,e.sourceSpan,e.nameSpan),errors:[new q(e.sourceSpan,i)]};break}return this.errors.push(...s.errors),s.node}findConnectedBlocks(e,n,r){let s=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(!(o instanceof Ki)){if(o instanceof jr&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof Mt)||!r(o.name))break;s.push(o),this.processedNodes.add(o)}}return s}extractAttributes(e,n,r){let s=[],i=[];return n.forEach(o=>{let a=r[o.name];if(o.isLiteral)i.push(new It(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let l=this.bindingParser.createBoundElementProperty(e,o,!0,!1);s.push(At.fromBoundElementProperty(l,a))}}),{bound:s,literal:i}}parseAttribute(e,n,r,s,i,o,a){let l=Lf(n.name),c=n.value,u=n.sourceSpan,h=n.valueSpan?n.valueSpan.start.offset:u.start.offset;function d(D,U,te){let ve=n.name.length-l.length,de=D.start.moveBy(U.length+ve),ln=de.moveBy(te.length);return new V(de,ln,de,te)}let g=l.match(Vb);if(g){if(g[Df]!=null){let D=g[ni],U=d(u,g[Df],D);this.bindingParser.parsePropertyBinding(D,c,!1,!1,u,h,n.valueSpan,r,s,U)}else if(g[_f])if(e){let D=g[ni],U=d(u,g[_f],D);this.parseVariable(D,c,u,U,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(g[Rf]){let D=g[ni],U=d(u,g[Rf],D);this.parseReference(D,c,u,U,n.valueSpan,a)}else if(g[kf]){let D=[],U=g[ni],te=d(u,g[kf],U);this.bindingParser.parseEvent(U,c,!1,u,n.valueSpan||u,r,D,te),Al(D,i)}else if(g[Pf]){let D=g[ni],U=d(u,g[Pf],D);this.bindingParser.parsePropertyBinding(D,c,!1,!0,u,h,n.valueSpan,r,s,U),this.parseAssignmentEvent(D,c,u,n.valueSpan,r,i,U)}else if(g[qb]){let D=d(u,"",l);this.bindingParser.parseLiteralAttr(l,c,u,h,n.valueSpan,r,s,D)}return!0}let y=null;if(l.startsWith(Kn.BANANA_BOX.start)?y=Kn.BANANA_BOX:l.startsWith(Kn.PROPERTY.start)?y=Kn.PROPERTY:l.startsWith(Kn.EVENT.start)&&(y=Kn.EVENT),y!==null&&l.endsWith(y.end)&&l.length>y.start.length+y.end.length){let D=l.substring(y.start.length,l.length-y.end.length),U=d(u,y.start,D);if(y.start===Kn.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(D,c,!1,!0,u,h,n.valueSpan,r,s,U),this.parseAssignmentEvent(D,c,u,n.valueSpan,r,i,U);else if(y.start===Kn.PROPERTY.start)this.bindingParser.parsePropertyBinding(D,c,!1,!1,u,h,n.valueSpan,r,s,U);else{let te=[];this.bindingParser.parseEvent(D,c,!1,u,n.valueSpan||u,r,te,U),Al(te,i)}return!0}let C=d(u,"",l);return this.bindingParser.parsePropertyInterpolation(l,c,u,n.valueSpan,r,s,C,n.valueTokens??null)}_visitTextWithInterpolation(e,n,r,s){let i=cm(e),o=this.bindingParser.parseInterpolation(i,n,r);return o?new Pn(o,n,s):new jt(i,n)}parseVariable(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new at(e,n,r,s,i))}parseReference(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new vn(e,n,r,s,i))}parseAssignmentEvent(e,n,r,s,i,o,a){let l=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,s||r,i,l,a),Al(l,o)}reportError(e,n,r=In.ERROR){this.errors.push(new q(n,e,r))}},Xc=class{visitElement(e){let n=pm(e);if(n.type===ft.SCRIPT||n.type===ft.STYLE||n.type===ft.STYLESHEET)return null;let r=Ee(this,e.children,null);return new oe(e.name,Ee(this,e.attrs),[],[],r,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new It(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new jt(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new jt(e.startSourceSpan.toString(),e.startSourceSpan),...Ee(this,e.children)];return e.endSourceSpan!==null&&r.push(new jt(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new jt(`@let ${e.name} = ${e.value};`,e.sourceSpan)}},Hb=new Xc;function Lf(t){return/^data-/i.test(t)?t.substring(5):t}function Al(t,e){e.push(...t.map(n=>Or.fromParsedEvent(n)))}function Wb(t){return t.children.length!==1||!(t.children[0]instanceof jr)?null:t.children[0].value}var jb=[" ",`
`,"\r","	"];function mm(t,e,n={}){let{interpolationConfig:r,preserveWhitespaces:s,enableI18nLegacyMessageIdFormat:i,allowInvalidAssignmentEvents:o}=n,a=Gs(r,o),c=new Ca().parse(t,e,{leadingTriviaChars:jb,...n,tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0,tokenizeLet:n.enableLetSyntax??!1});if(!n.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let ve={interpolationConfig:r,preserveWhitespaces:s,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(ve.commentNodes=[]),ve}let u=c.rootNodes,h=new Ea(r,!s,i),d=h.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&d.errors&&d.errors.length>0){let ve={interpolationConfig:r,preserveWhitespaces:s,errors:d.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(ve.commentNodes=[]),ve}u=d.rootNodes,s||(u=Ee(new Gc,u),h.hasI18nMeta&&(u=Ee(new Ea(r,!1),u)));let{nodes:g,errors:y,styleUrls:C,styles:A,ngContentSelectors:D,commentNodes:U}=Gb(u,a,{collectCommentNodes:!!n.collectCommentNodes});y.push(...c.errors,...d.errors);let te={interpolationConfig:r,preserveWhitespaces:s,errors:y.length>0?y:null,nodes:g,styleUrls:C,styles:A,ngContentSelectors:D};return n.collectCommentNodes&&(te.commentNodes=U),te}var Kb=new sn;function Gs(t=Lt,e=!1){return new Hc(new ha(new ji),t,Kb,[],e)}var gm="%COMP%",zb=`_nghost-${gm}`,Xb=`_ngcontent-${gm}`;function ym(t,e,n){let r=new pr,s=ou(t.selector);return r.set("type",t.type.value),s.length>0&&r.set("selectors",ps(s)),t.queries.length>0&&r.set("contentQueries",qA(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",VA(t.viewQueries,e,t.name)),r.set("hostBindings",tN(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",gh(t.inputs,!0)),r.set("outputs",gh(t.outputs)),t.exportAs!==null&&r.set("exportAs",ie(t.exportAs.map(i=>v(i)))),t.isStandalone&&r.set("standalone",v(!0)),t.isSignal&&r.set("signals",v(!0)),r}function vm(t,e){let n=[],r=e.providers,s=e.viewProviders,i=Object.keys(e.inputs);if(r||s){let o=[r||new ot([])];s&&o.push(s),n.push(O(f.ProvidersFeature).callFn(o))}for(let o of i)if(e.inputs[o].transformFunction!==null){n.push(O(f.InputTransformsFeatureFeature));break}e.hostDirectives?.length&&n.push(O(f.HostDirectivesFeature).callFn([sN(e.hostDirectives)])),e.usesInheritance&&n.push(O(f.InheritDefinitionFeature)),e.fullInheritance&&n.push(O(f.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(O(f.NgOnChangesFeature)),e.hasOwnProperty("template")&&e.isStandalone&&n.push(O(f.StandaloneFeature)),n.length&&t.set("features",ie(n))}function Em(t,e,n){let r=ym(t,e,n);vm(r,t);let s=O(f.defineDirective).callFn([r.toLiteralMap()],void 0,!0),i=eN(t);return{expression:s,type:i,statements:[]}}function Sm(t,e,n){let r=ym(t,e,n);vm(r,t);let s=t.selector&&Yt.parse(t.selector),i=s&&s[0];if(i){let d=i.getAttrs();d.length&&r.set("attrs",e.getConstLiteral(ie(d.map(g=>g!=null?v(g):v(void 0))),!0))}let o=t.name,a=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let d=`${o}_DeferFn`;e.statements.push(new We(d,t.defer.dependenciesFn,void 0,Ae.Final)),a=H(d)}let l=wA(t.name,t.template.nodes,e,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,a);Yd(l,N.Tmpl);let c=vA(l,e);if(l.contentSelectors!==null&&r.set("ngContentSelectors",l.contentSelectors),r.set("decls",v(l.root.decls)),r.set("vars",v(l.root.vars)),l.consts.length>0&&(l.constsInitializers.length>0?r.set("consts",en([],[...l.constsInitializers,new Qe(ie(l.consts))])):r.set("consts",ie(l.consts))),r.set("template",c),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",Qb(ie(t.declarations.map(d=>d.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let d=[t.type.value];t.rawImports&&d.push(t.rawImports),r.set("dependencies",O(f.getComponentDepsFactory).callFn(d))}if(t.encapsulation===null&&(t.encapsulation=un.Emulated),t.styles&&t.styles.length){let g=(t.encapsulation==un.Emulated?rN(t.styles,Xb,zb):t.styles).reduce((y,C)=>(C.trim().length>0&&y.push(e.getConstLiteral(v(C))),y),[]);g.length>0&&r.set("styles",ie(g))}else t.encapsulation===un.Emulated&&(t.encapsulation=un.None);t.encapsulation!==un.Emulated&&r.set("encapsulation",v(t.encapsulation)),t.animations!==null&&r.set("data",je([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==Ro.Default?r.set("changeDetection",v(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let u=O(f.defineComponent).callFn([r.toLiteralMap()],void 0,!0),h=Yb(t);return{expression:u,type:h,statements:[]}}function Yb(t){let e=wm(t);return e.push(Qc(t.template.ngContentSelectors)),e.push(Pe(v(t.isStandalone))),e.push(Cm(t)),t.isSignal&&e.push(Pe(v(t.isSignal))),Pe(O(f.ComponentDeclaration,e))}function Qb(t,e){switch(e){case 0:return t;case 1:return en([],t);case 2:let n=t.prop("map").callFn([O(f.resolveForwardRef)]);return en([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function Jb(t){return Pe(v(t))}function Yc(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:v(r),quoted:!0}});return je(e)}function Qc(t){return t.length>0?Pe(ie(t.map(e=>v(e)))):Jt}function wm(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[Na(t.type.type,t.typeArgumentCount),e!==null?Jb(e):Jt,t.exportAs!==null?Qc(t.exportAs):Jt,Pe(Zb(t)),Pe(Yc(t.outputs)),Qc(t.queries.map(n=>n.propertyName))]}function Zb(t){return je(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:v(n.bindingPropertyName),quoted:!0},{key:"required",value:v(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:v(n.isSignal),quoted:!0}),{key:e,value:je(r),quoted:!0}}))}function eN(t){let e=wm(t);return e.push(Jt),e.push(Pe(v(t.isStandalone))),e.push(Cm(t)),t.isSignal&&e.push(Pe(v(t.isSignal))),Pe(O(f.DirectiveDeclaration,e))}function tN(t,e,n,r,s,i,o){let a=n.createBoundHostProperties(t.properties,e),l=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=v(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=v(t.specialAttributes.classAttr));let c=TA({componentName:i,componentSelector:s,properties:a,events:l,attributes:t.attributes},n,r);Yd(c,N.Host),o.set("hostAttrs",c.root.attributes);let u=c.root.vars;return u!==null&&u>0&&o.set("hostVars",v(u)),EA(c)}var nN=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function Tm(t){let e={},n={},r={},s={};for(let i of Object.keys(t)){let o=t[i],a=i.match(nN);if(a===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");s.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");s.styleAttr=o;break;default:typeof o=="string"?e[i]=v(o):e[i]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:s}}function xm(t,e){let n=Gs();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function rN(t,e,n){let r=new lc;return t.map(s=>r.shimCssText(s,e,n))}function Cm(t){return t.hostDirectives?.length?Pe(ie(t.hostDirectives.map(e=>je([{key:"directive",value:Ji(e.directive.type),quoted:!1},{key:"inputs",value:Yc(e.inputs||{}),quoted:!1},{key:"outputs",value:Yc(e.outputs||{}),quoted:!1}])))):Jt}function sN(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let s=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let i=Of(r.inputs);i&&s.push({key:"inputs",value:i,quoted:!1})}if(r.outputs){let i=Of(r.outputs);i&&s.push({key:"outputs",value:i,quoted:!1})}e.push(je(s))}r.isForwardReference&&(n=!0)}return n?new Xt([],[new Qe(ie(e))]):ie(e)}function Of(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(v(n),v(t[n]));return e.length>0?ie(e):null}var Aa=class{constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Binding without a template not yet supported");let n=Jc.apply(e.template),r=iN(n),{directives:s,eagerDirectives:i,bindings:o,references:a}=Zc.apply(e.template,this.directiveMatcher),{expressions:l,symbols:c,nestingLevel:u,usedPipes:h,eagerPipes:d,deferBlocks:g}=eu.applyWithScope(e.template,n);return new tu(e,s,i,o,a,l,c,u,r,h,d,g)}},Jc=class t{constructor(e,n){this.parentScope=e,this.rootNode=n,this.namedEntities=new Map,this.elementsInScope=new Set,this.childScopes=new Map,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof Ln}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof se?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof bn?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof yn?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Mi||e instanceof Li||e instanceof Ln||e instanceof Pi||e instanceof Ri||e instanceof ki||e instanceof lr?e.children.forEach(n=>n.visit(this)):e.forEach(n=>n.visit(this))}visitElement(e){e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},Zc=class t{constructor(e,n,r,s,i){this.matcher=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i,this.isInDeferBlock=!1}static apply(e,n){let r=new Map,s=new Map,i=new Map,o=[];return new t(n,r,o,s,i).ingest(e),{directives:r,eagerDirectives:o,bindings:s,references:i}}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let n=pu(e),r=[];this.matcher.match(n,(i,o)=>r.push(...o)),r.length>0&&(this.directives.set(e,r),this.isInDeferBlock||this.eagerDirectives.push(...r)),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=r.find(a=>a.isComponent)||null;else if(o=r.find(a=>a.exportAs!==null&&a.exportAs.some(l=>l===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let s=(i,o)=>{let a=r.find(c=>c[o].hasBindingPropertyName(i.name)),l=a!==void 0?a:e;this.bindings.set(i,l)};e.inputs.forEach(i=>s(i,"inputs")),e.attributes.forEach(i=>s(i,"inputs")),e instanceof se&&e.templateAttrs.forEach(i=>s(i,"inputs")),e.outputs.forEach(i=>s(i,"outputs")),e.children.forEach(i=>i.visit(this))}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(r=>r.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),e.contextVariables.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},eu=class t extends ar{constructor(e,n,r,s,i,o,a,l,c){super(),this.bindings=e,this.symbols=n,this.usedPipes=r,this.eagerPipes=s,this.deferBlocks=i,this.nestingLevel=o,this.scope=a,this.rootNode=l,this.level=c,this.visitNode=u=>u.visit(this)}visit(e,n){e instanceof we?e.visit(this,n):e.visit(this)}static applyWithScope(e,n){let r=new Map,s=new Map,i=new Map,o=new Set,a=new Set,l=e instanceof se?e:null,c=[];return new t(r,s,o,a,c,i,n,l,0).ingest(e),{expressions:r,symbols:s,nestingLevel:i,usedPipes:o,eagerPipes:a,deferBlocks:c}}ingest(e){if(e instanceof se)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof bn)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof yn)this.visitNode(e.item),e.contextVariables.forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Ln){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.push([e,this.scope]),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof Mi||e instanceof Li||e instanceof Pi||e instanceof Ri||e instanceof ki||e instanceof lr?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(n=>e.vars[n].visit(this)),Object.keys(e.placeholders).forEach(n=>e.placeholders[n].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitLetDeclaration(e){e.value.visit(this),this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}visitPropertyWrite(e,n){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof Me))return;let r=this.scope.lookup(n);r instanceof mt&&e.receiver instanceof fn||r!==null&&this.bindings.set(e,r)}},tu=class{constructor(e,n,r,s,i,o,a,l,c,u,h,d){this.target=e,this.directives=n,this.eagerDirectives=r,this.bindings=s,this.references=i,this.exprTargets=o,this.symbols=a,this.nestingLevel=l,this.scopedNodeEntities=c,this.usedPipes=u,this.eagerPipes=h,this.deferredBlocks=d.map(g=>g[0]),this.deferredScopes=new Map(d)}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof jo)&&!(n instanceof Ko)&&!(n instanceof Wo))return null;let r=n.reference;if(r===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof Ds)){if(i!==null)return null;o instanceof oe&&(i=o)}}return i}let s=this.findEntityInScope(e,r);if(s instanceof vn&&this.getDefinitionNodeOfSymbol(s)!==e){let i=this.getReferenceTarget(s);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,r),o=i instanceof vn?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let s=r.pop();if(s.elementsInScope.has(e))return!0;r.push(...s.childScopes.values())}}return!1}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let s of r)if(s.name===n)return s;return null}referenceTargetToElement(e){return e instanceof oe?e:e instanceof se?null:this.referenceTargetToElement(e.node)}};function iN(t){let e=new Map;function n(i){if(e.has(i.rootNode))return e.get(i.rootNode);let o=i.namedEntities,a;return i.parentScope!==null?a=new Map([...n(i.parentScope),...o]):a=new Map(o),e.set(i.rootNode,a),a}let r=[t];for(;r.length>0;){let i=r.pop();for(let o of i.childScopes.values())r.push(o);n(i)}let s=new Map;for(let[i,o]of e)s.set(i,new Set(o.values()));return s}var nu=class{},ru=class{constructor(e=new rc){this.jitEvaluator=e,this.FactoryTarget=tt,this.ResourceLoader=nu,this.elementSchemaRegistry=new sn}compilePipe(e,n,r){let s={name:r.name,type:Le(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},i=ac(s);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,r){let s=TN(r),i=ac(s);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,r){let{expression:s,statements:i}=ec({name:r.name,type:Le(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:Vf(r.providedIn),useClass:os(r,"useClass"),useFactory:Uf(r,"useFactory"),useValue:os(r,"useValue"),useExisting:os(r,"useExisting"),deps:r.deps?.map(Dm)},!0);return this.jitExpression(s,e,n,i)}compileInjectableDeclaration(e,n,r){let{expression:s,statements:i}=ec({name:r.type.name,type:Le(r.type),typeArgumentCount:0,providedIn:Vf(r.providedIn),useClass:os(r,"useClass"),useFactory:Uf(r,"useFactory"),useValue:os(r,"useValue"),useExisting:os(r,"useExisting"),deps:r.deps?.map(qf)},!0);return this.jitExpression(s,e,n,i)}compileInjector(e,n,r){let s={name:r.name,type:Le(r.type),providers:r.providers&&r.providers.length>0?new $(r.providers):null,imports:r.imports.map(o=>new $(o))},i=ic(s);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let s=xN(r),i=ic(s);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,r){let s={kind:hn.Global,type:Le(r.type),bootstrap:r.bootstrap.map(Le),declarations:r.declarations.map(Le),publicDeclarationTypes:null,imports:r.imports.map(Le),includeImportTypes:!0,exports:r.exports.map(Le),selectorScopeMode:Ps.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(Le):null,id:r.id?new $(r.id):null},i=Td(s);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let s=PS(r);return this.jitExpression(s,e,n,[])}compileDirective(e,n,r){let s=$f(r);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveDeclaration(e,n,r){let s=this.createParseSourceSpan("Directive",r.type.name,n),i=Am(r,s);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,r){let s=new Ti,i=Gs(),o=Em(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileComponent(e,n,r){let{template:s,interpolation:i,defer:o}=Nm(r.template,r.name,n,r.preserveWhitespaces,r.interpolation,void 0),a={...r,...$f(r),selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,declarations:r.declarations.map(cN),declarationListEmitMode:0,defer:o,styles:[...r.styles,...s.styles],encapsulation:r.encapsulation,interpolation:i,changeDetection:r.changeDetection??null,animations:r.animations!=null?new $(r.animations):null,viewProviders:r.viewProviders!=null?new $(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0},l=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,l,a)}compileComponentDeclaration(e,n,r){let s=this.createParseSourceSpan("Component",r.type.name,n),i=lN(r,s,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,r){let s=new Ti,i=Gs(r.interpolation),o=Sm(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileFactory(e,n,r){let s=Yn({name:r.name,type:Le(r.type),typeArgumentCount:r.typeArgumentCount,deps:hN(r.deps),target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}compileFactoryDeclaration(e,n,r){let s=Yn({name:r.type.name,type:Le(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(qf):r.deps,target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}createParseSourceSpan(e,n,r){return AS(e,n,r)}jitExpression(e,n,r,s){let i=[...s,new We("$def",e,void 0,Ae.Exported)];return this.jitEvaluator.evaluateStatements(r,i,new oc(n),!0).$def}};function Ff(t){return{...t,isSignal:t.isSignal,predicate:Im(t.predicate),read:t.read?new $(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly}}function Bf(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:Im(t.predicate),descendants:t.descendants??!1,read:t.read?new $(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function Im(t){return Array.isArray(t)?t:zr(new $(t),1)}function $f(t){let e=wN(t.inputs||[]),n=su(t.outputs||[]),r=t.propMetadata,s={},i={};for(let o in r)r.hasOwnProperty(o)&&r[o].forEach(a=>{yN(a)?s[o]={bindingPropertyName:a.alias||o,classPropertyName:o,required:a.required||!1,isSignal:!!a.isSignal,transformFunction:a.transform!=null?new $(a.transform):null}:vN(a)&&(i[o]=a.alias||o)});return{...t,typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Le(t.type),deps:null,host:{...dN(t.propMetadata,t.typeSourceSpan,t.host)},inputs:{...e,...s},outputs:{...n,...i},queries:t.queries.map(Ff),providers:t.providers!=null?new $(t.providers):null,viewQueries:t.viewQueries.map(Ff),fullInheritance:!1,hostDirectives:bm(t)}}function Am(t,e){return{name:t.type.name,type:Le(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?EN(t.inputs):{},outputs:t.outputs??{},host:oN(t.host),queries:(t.queries??[]).map(Bf),viewQueries:(t.viewQueries??[]).map(Bf),providers:t.providers!==void 0?new $(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:t.isStandalone??!1,isSignal:t.isSignal??!1,hostDirectives:bm(t)}}function oN(t={}){return{attributes:aN(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function bm(t){return t.hostDirectives?.length?t.hostDirectives.map(e=>typeof e=="function"?{directive:Le(e),inputs:null,outputs:null,isForwardReference:!1}:{directive:Le(e.directive),isForwardReference:!1,inputs:e.inputs?su(e.inputs):null,outputs:e.outputs?su(e.outputs):null}):null}function aN(t){let e={};for(let n of Object.keys(t))e[n]=new $(t[n]);return e}function lN(t,e,n){let{template:r,interpolation:s,defer:i}=Nm(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.interpolation,t.deferBlockDependencies),o=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":o.push(bl(a));break;case"pipe":o.push(pN(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(a=>bl(a,!0))),t.directives&&o.push(...t.directives.map(a=>bl(a))),t.pipes&&o.push(...uN(t.pipes)));return{...Am(t,e),template:r,styles:t.styles??[],declarations:o,viewProviders:t.viewProviders!==void 0?new $(t.viewProviders):null,animations:t.animations!==void 0?new $(t.animations):null,defer:i,changeDetection:t.changeDetection??Ro.Default,encapsulation:t.encapsulation??un.Emulated,interpolation:s,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0}}function cN(t){return{...t,type:new $(t.type)}}function bl(t,e=null){return{kind:Ms.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new $(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function uN(t){return t?Object.keys(t).map(e=>({kind:Ms.Pipe,name:e,type:new $(t[e])})):[]}function pN(t){return{kind:Ms.Pipe,name:t.name,type:new $(t.type)}}function Nm(t,e,n,r,s,i){let o=s?Fi.fromArray(s):Lt,a=mm(t,n,{preserveWhitespaces:r,interpolationConfig:o});if(a.errors!==null){let u=a.errors.map(h=>h.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${u}`)}let c=new Aa(new er).bind({template:a.nodes});return{template:a,interpolation:o,defer:fN(c,i)}}function os(t,e){if(t.hasOwnProperty(e))return zr(new $(t[e]),0)}function Uf(t,e){if(t.hasOwnProperty(e))return new $(t[e])}function Vf(t){let e=typeof t=="function"?new $(t):new Te(t??null);return zr(e,0)}function hN(t){return t==null?null:t.map(Dm)}function Dm(t){let e=t.attribute!=null,n=t.token===null?null:new $(t.token),r=e?new $(t.attribute):n;return _m(r,e,t.host,t.optional,t.self,t.skipSelf)}function qf(t){let e=t.attribute??!1,n=t.token===null?null:new $(t.token);return _m(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function _m(t,e,n,r,s,i){let o=e?v("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:s,skipSelf:i}}function fN(t,e){let n=t.getDeferBlocks(),r=new Map;for(let s=0;s<n.length;s++){let i=e?.[s];r.set(n[s],i?new $(i):null)}return{mode:0,blocks:r}}function dN(t,e,n){let r=Tm(n||{}),s=xm(r,e);if(s.length)throw new Error(s.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{mN(o)?r.properties[o.hostPropertyName||i]=rd("this",i):gN(o)&&(r.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return r}function mN(t){return t.ngMetadataName==="HostBinding"}function gN(t){return t.ngMetadataName==="HostListener"}function yN(t){return t.ngMetadataName==="Input"}function vN(t){return t.ngMetadataName==="Output"}function EN(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=SN(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new $(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function SN(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new $(t[2]):null,required:!1,isSignal:!1}}function wN(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,s]=Rm(n);e[s]={bindingPropertyName:r,classPropertyName:s,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new $(n.transform):null};return e},{})}function su(t){return t.reduce((e,n)=>{let[r,s]=Rm(n);return e[s]=r,e},{})}function Rm(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n??e,e]}function TN(t){return{name:t.type.name,type:Le(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??!1}}function xN(t){return{name:t.type.name,type:Le(t.type),providers:t.providers!==void 0&&t.providers.length>0?new $(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new $(e)):[]}}function CN(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new ru}var nM=new xi("18.0.3");var Gf;(function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"})(Gf||(Gf={}));var iu=class{constructor(){this.closedByParent=!1,this.implicitNamespacePrefix=null,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Wt.PARSABLE_DATA}},rM=new iu;var Hf;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(Hf||(Hf={}));CN(oi);var qN=T(require("typescript"),1),Oa=T(require("typescript"),1),HN=T(require("typescript"),1),Fa=T(require("typescript"),1),WN=T(require("typescript"),1),Ne=T(require("typescript"),1),Ru=T(require("typescript"),1),Un=T(require("typescript"),1),Ym=T(require("typescript"),1),Xr=T(require("typescript"),1);var me=T(require("typescript"),1);var QN=T(require("typescript"),1),JN=T(require("typescript"),1),ge=T(require("typescript"),1),oM=(0,jm.createRequire)(R),ee;(function(t){t[t.DECORATOR_ARG_NOT_LITERAL=1001]="DECORATOR_ARG_NOT_LITERAL",t[t.DECORATOR_ARITY_WRONG=1002]="DECORATOR_ARITY_WRONG",t[t.DECORATOR_NOT_CALLED=1003]="DECORATOR_NOT_CALLED",t[t.DECORATOR_UNEXPECTED=1005]="DECORATOR_UNEXPECTED",t[t.DECORATOR_COLLISION=1006]="DECORATOR_COLLISION",t[t.VALUE_HAS_WRONG_TYPE=1010]="VALUE_HAS_WRONG_TYPE",t[t.VALUE_NOT_LITERAL=1011]="VALUE_NOT_LITERAL",t[t.INITIALIZER_API_WITH_DISALLOWED_DECORATOR=1050]="INITIALIZER_API_WITH_DISALLOWED_DECORATOR",t[t.INITIALIZER_API_DECORATOR_METADATA_COLLISION=1051]="INITIALIZER_API_DECORATOR_METADATA_COLLISION",t[t.INITIALIZER_API_NO_REQUIRED_FUNCTION=1052]="INITIALIZER_API_NO_REQUIRED_FUNCTION",t[t.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY=1053]="INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY",t[t.INCORRECTLY_DECLARED_ON_STATIC_MEMBER=1100]="INCORRECTLY_DECLARED_ON_STATIC_MEMBER",t[t.COMPONENT_MISSING_TEMPLATE=2001]="COMPONENT_MISSING_TEMPLATE",t[t.PIPE_MISSING_NAME=2002]="PIPE_MISSING_NAME",t[t.PARAM_MISSING_TOKEN=2003]="PARAM_MISSING_TOKEN",t[t.DIRECTIVE_MISSING_SELECTOR=2004]="DIRECTIVE_MISSING_SELECTOR",t[t.UNDECORATED_PROVIDER=2005]="UNDECORATED_PROVIDER",t[t.DIRECTIVE_INHERITS_UNDECORATED_CTOR=2006]="DIRECTIVE_INHERITS_UNDECORATED_CTOR",t[t.UNDECORATED_CLASS_USING_ANGULAR_FEATURES=2007]="UNDECORATED_CLASS_USING_ANGULAR_FEATURES",t[t.COMPONENT_RESOURCE_NOT_FOUND=2008]="COMPONENT_RESOURCE_NOT_FOUND",t[t.COMPONENT_INVALID_SHADOW_DOM_SELECTOR=2009]="COMPONENT_INVALID_SHADOW_DOM_SELECTOR",t[t.COMPONENT_NOT_STANDALONE=2010]="COMPONENT_NOT_STANDALONE",t[t.COMPONENT_IMPORT_NOT_STANDALONE=2011]="COMPONENT_IMPORT_NOT_STANDALONE",t[t.COMPONENT_UNKNOWN_IMPORT=2012]="COMPONENT_UNKNOWN_IMPORT",t[t.HOST_DIRECTIVE_INVALID=2013]="HOST_DIRECTIVE_INVALID",t[t.HOST_DIRECTIVE_NOT_STANDALONE=2014]="HOST_DIRECTIVE_NOT_STANDALONE",t[t.HOST_DIRECTIVE_COMPONENT=2015]="HOST_DIRECTIVE_COMPONENT",t[t.INJECTABLE_INHERITS_INVALID_CONSTRUCTOR=2016]="INJECTABLE_INHERITS_INVALID_CONSTRUCTOR",t[t.HOST_DIRECTIVE_UNDEFINED_BINDING=2017]="HOST_DIRECTIVE_UNDEFINED_BINDING",t[t.HOST_DIRECTIVE_CONFLICTING_ALIAS=2018]="HOST_DIRECTIVE_CONFLICTING_ALIAS",t[t.HOST_DIRECTIVE_MISSING_REQUIRED_BINDING=2019]="HOST_DIRECTIVE_MISSING_REQUIRED_BINDING",t[t.CONFLICTING_INPUT_TRANSFORM=2020]="CONFLICTING_INPUT_TRANSFORM",t[t.COMPONENT_INVALID_STYLE_URLS=2021]="COMPONENT_INVALID_STYLE_URLS",t[t.COMPONENT_UNKNOWN_DEFERRED_IMPORT=2022]="COMPONENT_UNKNOWN_DEFERRED_IMPORT",t[t.SYMBOL_NOT_EXPORTED=3001]="SYMBOL_NOT_EXPORTED",t[t.IMPORT_CYCLE_DETECTED=3003]="IMPORT_CYCLE_DETECTED",t[t.IMPORT_GENERATION_FAILURE=3004]="IMPORT_GENERATION_FAILURE",t[t.CONFIG_FLAT_MODULE_NO_INDEX=4001]="CONFIG_FLAT_MODULE_NO_INDEX",t[t.CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK=4002]="CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK",t[t.CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES=4003]="CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL=4004]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK=4005]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK",t[t.HOST_BINDING_PARSE_ERROR=5001]="HOST_BINDING_PARSE_ERROR",t[t.TEMPLATE_PARSE_ERROR=5002]="TEMPLATE_PARSE_ERROR",t[t.NGMODULE_INVALID_DECLARATION=6001]="NGMODULE_INVALID_DECLARATION",t[t.NGMODULE_INVALID_IMPORT=6002]="NGMODULE_INVALID_IMPORT",t[t.NGMODULE_INVALID_EXPORT=6003]="NGMODULE_INVALID_EXPORT",t[t.NGMODULE_INVALID_REEXPORT=6004]="NGMODULE_INVALID_REEXPORT",t[t.NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC=6005]="NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC",t[t.NGMODULE_REEXPORT_NAME_COLLISION=6006]="NGMODULE_REEXPORT_NAME_COLLISION",t[t.NGMODULE_DECLARATION_NOT_UNIQUE=6007]="NGMODULE_DECLARATION_NOT_UNIQUE",t[t.NGMODULE_DECLARATION_IS_STANDALONE=6008]="NGMODULE_DECLARATION_IS_STANDALONE",t[t.NGMODULE_BOOTSTRAP_IS_STANDALONE=6009]="NGMODULE_BOOTSTRAP_IS_STANDALONE",t[t.WARN_NGMODULE_ID_UNNECESSARY=6100]="WARN_NGMODULE_ID_UNNECESSARY",t[t.SCHEMA_INVALID_ELEMENT=8001]="SCHEMA_INVALID_ELEMENT",t[t.SCHEMA_INVALID_ATTRIBUTE=8002]="SCHEMA_INVALID_ATTRIBUTE",t[t.MISSING_REFERENCE_TARGET=8003]="MISSING_REFERENCE_TARGET",t[t.MISSING_PIPE=8004]="MISSING_PIPE",t[t.WRITE_TO_READ_ONLY_VARIABLE=8005]="WRITE_TO_READ_ONLY_VARIABLE",t[t.DUPLICATE_VARIABLE_DECLARATION=8006]="DUPLICATE_VARIABLE_DECLARATION",t[t.SPLIT_TWO_WAY_BINDING=8007]="SPLIT_TWO_WAY_BINDING",t[t.MISSING_REQUIRED_INPUTS=8008]="MISSING_REQUIRED_INPUTS",t[t.ILLEGAL_FOR_LOOP_TRACK_ACCESS=8009]="ILLEGAL_FOR_LOOP_TRACK_ACCESS",t[t.INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT=8010]="INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT",t[t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION=8011]="CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION",t[t.DEFERRED_PIPE_USED_EAGERLY=8012]="DEFERRED_PIPE_USED_EAGERLY",t[t.DEFERRED_DIRECTIVE_USED_EAGERLY=8013]="DEFERRED_DIRECTIVE_USED_EAGERLY",t[t.DEFERRED_DEPENDENCY_IMPORTED_EAGERLY=8014]="DEFERRED_DEPENDENCY_IMPORTED_EAGERLY",t[t.ILLEGAL_LET_WRITE=8015]="ILLEGAL_LET_WRITE",t[t.LET_USED_BEFORE_DEFINITION=8016]="LET_USED_BEFORE_DEFINITION",t[t.DUPLICATE_LET_DECLARATION=8017]="DUPLICATE_LET_DECLARATION",t[t.INVALID_BANANA_IN_BOX=8101]="INVALID_BANANA_IN_BOX",t[t.NULLISH_COALESCING_NOT_NULLABLE=8102]="NULLISH_COALESCING_NOT_NULLABLE",t[t.MISSING_CONTROL_FLOW_DIRECTIVE=8103]="MISSING_CONTROL_FLOW_DIRECTIVE",t[t.TEXT_ATTRIBUTE_NOT_BINDING=8104]="TEXT_ATTRIBUTE_NOT_BINDING",t[t.MISSING_NGFOROF_LET=8105]="MISSING_NGFOROF_LET",t[t.SUFFIX_NOT_SUPPORTED=8106]="SUFFIX_NOT_SUPPORTED",t[t.OPTIONAL_CHAIN_NOT_NULLABLE=8107]="OPTIONAL_CHAIN_NOT_NULLABLE",t[t.SKIP_HYDRATION_NOT_STATIC=8108]="SKIP_HYDRATION_NOT_STATIC",t[t.INTERPOLATED_SIGNAL_NOT_INVOKED=8109]="INTERPOLATED_SIGNAL_NOT_INVOKED",t[t.UNSUPPORTED_INITIALIZER_API_USAGE=8110]="UNSUPPORTED_INITIALIZER_API_USAGE",t[t.INLINE_TCB_REQUIRED=8900]="INLINE_TCB_REQUIRED",t[t.INLINE_TYPE_CTOR_REQUIRED=8901]="INLINE_TYPE_CTOR_REQUIRED",t[t.INJECTABLE_DUPLICATE_PROV=9001]="INJECTABLE_DUPLICATE_PROV",t[t.SUGGEST_STRICT_TEMPLATES=10001]="SUGGEST_STRICT_TEMPLATES",t[t.SUGGEST_SUBOPTIMAL_TYPE_INFERENCE=10002]="SUGGEST_SUBOPTIMAL_TYPE_INFERENCE",t[t.LOCAL_COMPILATION_UNRESOLVED_CONST=11001]="LOCAL_COMPILATION_UNRESOLVED_CONST",t[t.LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION=11003]="LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION"})(ee||(ee={}));function Km(t){return parseInt("-99"+t)}var Vn=class extends Error{constructor(t,e,n,r){super(`FatalDiagnosticError: Code: ${t}, Message: ${zs.default.flattenDiagnosticMessageText(n,`
`)}`),this.code=t,this.node=e,this.diagnosticMessage=n,this.relatedInformation=r,this._isFatalDiagnosticError=!0,Object.setPrototypeOf(this,new.target.prototype)}toDiagnostic(){return Mu(this.code,this.node,this.diagnosticMessage,this.relatedInformation)}};function Mu(t,e,n,r){return e=zs.default.getOriginalNode(e),{category:zs.default.DiagnosticCategory.Error,code:Km(t),file:zs.default.getOriginalNode(e).getSourceFile(),start:e.getStart(void 0,!1),length:e.getWidth(),messageText:n,relatedInformation:r}}function $a(t,e){return{category:zs.default.DiagnosticCategory.Message,code:0,messageText:t,next:e}}var bN=new Set([ee.DECORATOR_ARG_NOT_LITERAL,ee.IMPORT_CYCLE_DETECTED,ee.PARAM_MISSING_TOKEN,ee.SCHEMA_INVALID_ELEMENT,ee.SCHEMA_INVALID_ATTRIBUTE,ee.MISSING_REFERENCE_TARGET,ee.COMPONENT_INVALID_SHADOW_DOM_SELECTOR,ee.WARN_NGMODULE_ID_UNNECESSARY]);var qt;(function(t){t.INVALID_BANANA_IN_BOX="invalidBananaInBox",t.NULLISH_COALESCING_NOT_NULLABLE="nullishCoalescingNotNullable",t.OPTIONAL_CHAIN_NOT_NULLABLE="optionalChainNotNullable",t.MISSING_CONTROL_FLOW_DIRECTIVE="missingControlFlowDirective",t.TEXT_ATTRIBUTE_NOT_BINDING="textAttributeNotBinding",t.MISSING_NGFOROF_LET="missingNgForOfLet",t.SUFFIX_NOT_SUPPORTED="suffixNotSupported",t.SKIP_HYDRATION_NOT_STATIC="skipHydrationNotStatic",t.INTERPOLATED_SIGNAL_NOT_INVOKED="interpolatedSignalNotInvoked",t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION="controlFlowPreventingContentProjection"})(qt||(qt={}));function NN(t){return io.default.isIdentifier(t)||io.default.isPropertyAccessExpression(t)&&io.default.isIdentifier(t.expression)&&io.default.isIdentifier(t.name)}var yr;(function(t){t[t.Constructor=0]="Constructor",t[t.Getter=1]="Getter",t[t.Setter=2]="Setter",t[t.Property=3]="Property",t[t.Method=4]="Method"})(yr||(yr={}));var he;(function(t){t[t.PublicWritable=0]="PublicWritable",t[t.PublicReadonly=1]="PublicReadonly",t[t.Protected=2]="Protected",t[t.Private=3]="Private",t[t.EcmaScriptPrivate=4]="EcmaScriptPrivate"})(he||(he={}));var vr={};function DN(t,e,n){var r,s;if(t===null)return PN();if(!Be.default.isTypeReferenceNode(t))return Pm(t);let i=MN(t,e);if(i===null)return RN(t);let{local:o,decl:a}=i;if(a.valueDeclaration===void 0||a.flags&Be.default.SymbolFlags.ConstEnum){let u=null;if(a.declarations!==void 0&&a.declarations.length>0&&(u=a.declarations[0]),!n||u&&[Be.default.SyntaxKind.TypeParameter,Be.default.SyntaxKind.TypeAliasDeclaration,Be.default.SyntaxKind.InterfaceDeclaration].includes(u.kind))return _N(t,u)}let l=o.declarations&&o.declarations[0];if(l!==void 0){if(Be.default.isImportClause(l)&&l.name!==void 0)return l.isTypeOnly?La(t,l):{kind:0,expression:l.name,defaultImportStatement:l.parent};if(Be.default.isImportSpecifier(l)){if(l.isTypeOnly)return La(t,l);if(l.parent.parent.isTypeOnly)return La(t,l.parent.parent);let u=(l.propertyName||l.name).text,[h,...d]=i.symbolNames,g=Mm(l.parent.parent.parent);return{kind:1,valueDeclaration:(r=a.valueDeclaration)!=null?r:null,moduleName:g,importedName:u,nestedPath:d}}else if(Be.default.isNamespaceImport(l)){if(l.parent.isTypeOnly)return La(t,l.parent);if(i.symbolNames.length===1)return kN(t,l.parent);let[u,h,...d]=i.symbolNames,g=Mm(l.parent.parent);return{kind:1,valueDeclaration:(s=a.valueDeclaration)!=null?s:null,moduleName:g,importedName:h,nestedPath:d}}}let c=zm(t);return c!==null?{kind:0,expression:c,defaultImportStatement:null}:Pm(t)}function Pm(t){return{kind:2,reason:{kind:5,typeNode:t}}}function _N(t,e){return{kind:2,reason:{kind:1,typeNode:t,decl:e}}}function La(t,e){return{kind:2,reason:{kind:2,typeNode:t,node:e}}}function RN(t){return{kind:2,reason:{kind:3,typeNode:t}}}function kN(t,e){return{kind:2,reason:{kind:4,typeNode:t,importClause:e}}}function PN(){return{kind:2,reason:{kind:0}}}function zm(t){return Be.default.isTypeReferenceNode(t)?Lu(t.typeName):null}function MN(t,e){let n=t.typeName,r=e.getSymbolAtLocation(n);if(r===void 0)return null;let s=r,i=n,o=[];for(;Be.default.isQualifiedName(i);)o.unshift(i.right.text),i=i.left;if(o.unshift(i.text),i!==n){let l=e.getSymbolAtLocation(i);l!==void 0&&(s=l)}let a=r;return r.flags&Be.default.SymbolFlags.Alias&&(a=e.getAliasedSymbol(r)),{local:s,decl:a,symbolNames:o}}function Lu(t){if(Be.default.isQualifiedName(t)){let e=Lu(t.left);return e!==null?Be.default.factory.createPropertyAccessExpression(e,t.right):null}else if(Be.default.isIdentifier(t)){let e=Be.default.setOriginalNode(Be.default.factory.createIdentifier(t.text),t);return e.parent=t.parent,e}else return null}function Mm(t){if(!Be.default.isStringLiteral(t.moduleSpecifier))throw new Error("not a module specifier");return t.moduleSpecifier.text}function Fu(t){return Ou.default.isClassDeclaration(t)&&LN(t.name)}function LN(t){return t!==void 0&&Ou.default.isIdentifier(t)}function Bu(t){switch(t){case he.EcmaScriptPrivate:return"ES private";case he.Private:return"private";case he.Protected:return"protected";case he.PublicReadonly:return"public readonly";case he.PublicWritable:default:return"public"}}var $u=class{constructor(t,e=!1){this.checker=t,this.isLocalCompilation=e}getDecoratorsOfDeclaration(t){let e=M.default.canHaveDecorators(t)?M.default.getDecorators(t):void 0;return e!==void 0&&e.length?e.map(n=>this._reflectDecorator(n)).filter(n=>n!==null):null}getMembersOfClass(t){return Lm(t).members.map(n=>{let r=Uu(n);return r===null?null:{...r,decorators:this.getDecoratorsOfDeclaration(n)}}).filter(n=>n!==null)}getConstructorParameters(t){let e=Lm(t),n=e.getSourceFile().isDeclarationFile,r=e.members.find(s=>M.default.isConstructorDeclaration(s)&&(n||s.body!==void 0));return r===void 0?null:r.parameters.map(s=>{let i=Om(s.name),o=this.getDecoratorsOfDeclaration(s),a=s.type||null,l=a;if(l&&M.default.isUnionTypeNode(l)){let u=l.types.filter(h=>!(M.default.isLiteralTypeNode(h)&&h.literal.kind===M.default.SyntaxKind.NullKeyword));u.length===1&&(l=u[0])}let c=DN(l,this.checker,this.isLocalCompilation);return{name:i,nameNode:s.name,typeValueReference:c,typeNode:a,decorators:o}})}getImportOfIdentifier(t){let e=this.getDirectImportOfIdentifier(t);return e!==null?e:M.default.isQualifiedName(t.parent)&&t.parent.right===t?this.getImportOfNamespacedIdentifier(t,BN(t.parent)):M.default.isPropertyAccessExpression(t.parent)&&t.parent.name===t?this.getImportOfNamespacedIdentifier(t,$N(t.parent)):null}getExportsOfModule(t){if(!M.default.isSourceFile(t))throw new Error("getExportsOfModule() called on non-SourceFile in TS code");let e=this.checker.getSymbolAtLocation(t);if(e===void 0)return null;let n=new Map;return this.checker.getExportsOfModule(e).forEach(r=>{let s=this.getDeclarationOfSymbol(r,null);s!==null&&n.set(r.name,s)}),n}isClass(t){return Fu(t)}hasBaseClass(t){return this.getBaseClassExpression(t)!==null}getBaseClassExpression(t){if(!(M.default.isClassDeclaration(t)||M.default.isClassExpression(t))||t.heritageClauses===void 0)return null;let e=t.heritageClauses.find(r=>r.token===M.default.SyntaxKind.ExtendsKeyword);if(e===void 0)return null;let n=e.types[0];return n===void 0?null:n.expression}getDeclarationOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);return e===void 0?null:this.getDeclarationOfSymbol(e,t)}getDefinitionOfFunction(t){if(!M.default.isFunctionDeclaration(t)&&!M.default.isMethodDeclaration(t)&&!M.default.isFunctionExpression(t)&&!M.default.isArrowFunction(t))return null;let e=null;t.body!==void 0&&(e=M.default.isBlock(t.body)?Array.from(t.body.statements):[M.default.factory.createReturnStatement(t.body)]);let n=this.checker.getTypeAtLocation(t),r=this.checker.getSignaturesOfType(n,M.default.SignatureKind.Call);return{node:t,body:e,signatureCount:r.length,typeParameters:t.typeParameters===void 0?null:Array.from(t.typeParameters),parameters:t.parameters.map(s=>{let i=Om(s.name),o=s.initializer||null;return{name:i,node:s,initializer:o,type:s.type||null}})}}getGenericArityOfClass(t){return M.default.isClassDeclaration(t)?t.typeParameters!==void 0?t.typeParameters.length:0:null}getVariableValue(t){return t.initializer||null}isStaticallyExported(t){let e=t;M.default.isVariableDeclaration(t)&&M.default.isVariableDeclarationList(t.parent)&&(e=t.parent.parent);let n=M.default.canHaveModifiers(e)?M.default.getModifiers(e):void 0;return n!==void 0&&n.some(s=>s.kind===M.default.SyntaxKind.ExportKeyword)?!0:e.parent===void 0||!M.default.isSourceFile(e.parent)?!1:this.getLocalExportedDeclarationsOfSourceFile(t.getSourceFile()).has(t)}getDirectImportOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);if(e===void 0||e.declarations===void 0||e.declarations.length!==1)return null;let n=e.declarations[0],r=UN(n);return r===null||!M.default.isStringLiteral(r.moduleSpecifier)?null:{from:r.moduleSpecifier.text,name:VN(n,t),node:r}}getImportOfNamespacedIdentifier(t,e){if(e===null)return null;let n=this.checker.getSymbolAtLocation(e);if(!n||n.declarations===void 0)return null;let r=n.declarations.length===1?n.declarations[0]:null;if(!r)return null;let s=M.default.isNamespaceImport(r)?r:null;if(!s)return null;let i=s.parent.parent;return M.default.isStringLiteral(i.moduleSpecifier)?{from:i.moduleSpecifier.text,name:t.text,node:s.parent.parent}:null}getDeclarationOfSymbol(t,e){let n;if(t.valueDeclaration!==void 0?n=t.valueDeclaration:t.declarations!==void 0&&t.declarations.length>0&&(n=t.declarations[0]),n!==void 0&&M.default.isShorthandPropertyAssignment(n)){let s=this.checker.getShorthandAssignmentValueSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}else if(n!==void 0&&M.default.isExportSpecifier(n)){let s=this.checker.getExportSpecifierLocalTargetSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}let r=e&&this.getImportOfIdentifier(e);for(;t.flags&M.default.SymbolFlags.Alias;)t=this.checker.getAliasedSymbol(t);return t.valueDeclaration!==void 0?{node:t.valueDeclaration,viaModule:this._viaModule(t.valueDeclaration,e,r)}:t.declarations!==void 0&&t.declarations.length>0?{node:t.declarations[0],viaModule:this._viaModule(t.declarations[0],e,r)}:null}_reflectDecorator(t){let e=t.expression,n=null;if(M.default.isCallExpression(e)&&(n=Array.from(e.arguments),e=e.expression),!NN(e))return null;let r=M.default.isIdentifier(e)?e:e.name,s=this.getImportOfIdentifier(r);return{name:r.text,identifier:e,import:s,node:t,args:n}}getLocalExportedDeclarationsOfSourceFile(t){let e=t;if(e[Nu]!==void 0)return e[Nu];let n=new Set;e[Nu]=n;let r=this.checker.getSymbolAtLocation(e);if(r===void 0||r.exports===void 0)return n;let s=r.exports.values(),i=s.next();for(;i.done!==!0;){let o=i.value;o.flags&M.default.SymbolFlags.Alias&&(o=this.checker.getAliasedSymbol(o)),o.valueDeclaration!==void 0&&o.valueDeclaration.getSourceFile()===t&&n.add(o.valueDeclaration),i=s.next()}return n}_viaModule(t,e,n){return n===null&&e!==null&&t.getSourceFile()!==e.getSourceFile()?vr:n!==null&&n.from!==null&&!n.from.startsWith(".")?n.from:null}};function ON(t){let e=M.default.getModifiers(t),n=!1,r=!1,s=he.PublicWritable;if(e!==void 0)for(let i of e)switch(i.kind){case M.default.SyntaxKind.StaticKeyword:n=!0;break;case M.default.SyntaxKind.PrivateKeyword:s=he.Private;break;case M.default.SyntaxKind.ProtectedKeyword:s=he.Protected;break;case M.default.SyntaxKind.ReadonlyKeyword:r=!0;break}return r&&s===he.PublicWritable&&(s=he.PublicReadonly),t.name!==void 0&&M.default.isPrivateIdentifier(t.name)&&(s=he.EcmaScriptPrivate),{accessLevel:s,isStatic:n}}function Uu(t){let e=null,n=null,r=null,s=null;if(M.default.isPropertyDeclaration(t))e=yr.Property,n=t.initializer||null;else if(M.default.isGetAccessorDeclaration(t))e=yr.Getter;else if(M.default.isSetAccessorDeclaration(t))e=yr.Setter;else if(M.default.isMethodDeclaration(t))e=yr.Method;else if(M.default.isConstructorDeclaration(t))e=yr.Constructor;else return null;if(M.default.isConstructorDeclaration(t))r="constructor";else if(M.default.isIdentifier(t.name))r=t.name.text,s=t.name;else if(M.default.isStringLiteral(t.name))r=t.name.text,s=t.name;else if(M.default.isPrivateIdentifier(t.name))r=t.name.text,s=t.name;else return null;let{accessLevel:i,isStatic:o}=ON(t);return{node:t,implementation:t,kind:e,type:t.type||null,accessLevel:i,name:r,nameNode:s,value:n,isStatic:o}}function Vu(t){let e=new Map;return t.properties.forEach(n=>{if(M.default.isPropertyAssignment(n)){let r=FN(n.name);if(r===null)return;e.set(r,n.initializer)}else if(M.default.isShorthandPropertyAssignment(n))e.set(n.name.text,n.name);else return}),e}function Lm(t){if(!M.default.isClassDeclaration(t))throw new Error(`Reflecting on a ${M.default.SyntaxKind[t.kind]} instead of a ClassDeclaration.`);return t}function Om(t){return M.default.isIdentifier(t)?t.text:null}function FN(t){return M.default.isIdentifier(t)||M.default.isStringLiteral(t)||M.default.isNumericLiteral(t)?t.text:null}function BN(t){for(;M.default.isQualifiedName(t.left);)t=t.left;return M.default.isIdentifier(t.left)?t.left:null}function $N(t){for(;M.default.isPropertyAccessExpression(t.expression);)t=t.expression;return M.default.isIdentifier(t.expression)?t.expression:null}function UN(t){let e=t.parent;for(;e&&!M.default.isSourceFile(e);){if(M.default.isImportDeclaration(e))return e;e=e.parent}return null}function VN(t,e){return M.default.isImportSpecifier(t)?(t.propertyName!==void 0?t.propertyName:t.name).text:e.text}var Nu=Symbol("LocalExportedDeclarations");function _u(t){return t.name!==void 0&&Xm.default.isIdentifier(t.name)?t.name:null}var Yr=class{constructor(t,e=null){this.node=t,this.identifiers=[],this.synthetic=!1,this._alias=null,e===vr?(this.isAmbient=!0,this.bestGuessOwningModule=null):(this.isAmbient=!1,this.bestGuessOwningModule=e);let n=_u(t);n!==null&&this.identifiers.push(n)}get ownedByModuleGuess(){return this.bestGuessOwningModule!==null?this.bestGuessOwningModule.specifier:null}get hasOwningModuleGuess(){return this.bestGuessOwningModule!==null}get debugName(){let t=_u(this.node);return t!==null?t.text:null}get alias(){return this._alias}addIdentifier(t){this.identifiers.push(t)}getIdentityIn(t){return this.identifiers.find(e=>e.getSourceFile()===t)||null}getIdentityInExpression(t){let e=t.getSourceFile();return this.identifiers.find(n=>n.getSourceFile()!==e?!1:n.pos>=t.pos&&n.end<=t.end)||null}getOriginForDiagnostics(t,e=t){let n=this.getIdentityInExpression(t);return n!==null?n:e}cloneWithAlias(t){let e=new Yr(this.node,this.isAmbient?vr:this.bestGuessOwningModule);return e.identifiers=[...this.identifiers],e._alias=t,e}cloneWithNoIdentifiers(){let t=new Yr(this.node,this.isAmbient?vr:this.bestGuessOwningModule);return t._alias=this._alias,t.identifiers=[],t}};var Ba;(function(t){t[t.None=0]="None",t[t.ForceNewImport=1]="ForceNewImport",t[t.NoAliasing=2]="NoAliasing",t[t.AllowTypeImports=4]="AllowTypeImports",t[t.AllowRelativeDtsImports=8]="AllowRelativeDtsImports",t[t.AllowAmbientReferences=16]="AllowAmbientReferences"})(Ba||(Ba={}));var Fm=Symbol("patchedReferencedAliases");function qu(t){GN(t)||Bm();let e=t.getEmitResolver(),n=e[Fm];if(n!==void 0)return n;let r=e.isReferencedAliasDeclaration;r===void 0&&Bm();let s=new Set;return e.isReferencedAliasDeclaration=function(i,...o){return Gu(i)&&s.has(i)?!0:r.call(e,i,...o)},e[Fm]=s}function Gu(t){return Oa.default.isImportSpecifier(t)||Oa.default.isNamespaceImport(t)||Oa.default.isImportClause(t)}function GN(t){return t.getEmitResolver!==void 0}function Bm(){throw Error(`Angular compiler is incompatible with this version of the TypeScript compiler.

If you recently updated TypeScript and this issue surfaces now, consider downgrading.

Please report an issue on the Angular repositories when this issue surfaces and you are using a supposedly compatible TypeScript version.`)}var uM=Symbol("DefaultImportDeclaration");var Hu=class{constructor(){this.fileToNamedImports=new WeakMap,this.fileToNamespaceImports=new WeakMap}isPotentialReferenceToNamedImport(t,e,n){let r=t.getSourceFile();this.scanImports(r);let i=this.fileToNamedImports.get(r).get(n),o=i?.get(e);return o!==void 0&&o.has(t.text)}isPotentialReferenceToNamespaceImport(t,e){var n,r;let s=t.getSourceFile();return this.scanImports(s),(r=(n=this.fileToNamespaceImports.get(s).get(e))==null?void 0:n.has(t.text))!=null?r:!1}hasNamedImport(t,e,n){this.scanImports(t);let s=this.fileToNamedImports.get(t).get(n);return s!==void 0&&s.has(e)}hasNamespaceImport(t,e){return this.scanImports(t),this.fileToNamespaceImports.get(t).has(e)}scanImports(t){var e,n;if(this.fileToNamedImports.has(t)&&this.fileToNamespaceImports.has(t))return;let r=new Map,s=new Map;this.fileToNamedImports.set(t,r),this.fileToNamespaceImports.set(t,s);for(let i of t.statements){if(!Fa.default.isImportDeclaration(i)||!Fa.default.isStringLiteralLike(i.moduleSpecifier)||((e=i.importClause)==null?void 0:e.namedBindings)===void 0)continue;let o=i.moduleSpecifier.text;if(Fa.default.isNamespaceImport(i.importClause.namedBindings))s.has(o)||s.set(o,new Set),s.get(o).add(i.importClause.namedBindings.name.text);else for(let a of i.importClause.namedBindings.elements){let l=a.name.text,c=a.propertyName===void 0?l:a.propertyName.text;r.has(o)||r.set(o,new Map);let u=r.get(o);u.has(c)||u.set(c,new Set),(n=u.get(c))==null||n.add(l)}}}};function jN(){let t=new Set;return(e,n)=>{let r=e;if(r.identifiers===void 0)throw new Error("Source file unexpectedly lacks map of parsed `identifiers`.");let s=a=>!r.identifiers.has(a)&&!t.has(a);if(s(n))return t.add(n),null;let i=null,o=1;do i=`${n}_${o++}`;while(!s(i));return t.add(i),Ru.default.factory.createUniqueName(i,Ru.default.GeneratedIdentifierFlags.Optimistic)}}function KN(t,e){return n=>{let{affectedFiles:r,newImports:s,updatedImports:i,reusedOriginalAliasDeclarations:o}=t.finalize();if(o.size>0){let l=qu(n);o.forEach(c=>l.add(c))}if(e!==void 0)for(let[l,c]of e.entries())c.length>0&&r.add(l);let a=l=>{if(!Un.default.isImportDeclaration(l)||l.importClause===void 0||!Un.default.isImportClause(l.importClause))return l;let c=l.importClause;if(c.namedBindings===void 0||!Un.default.isNamedImports(c.namedBindings)||!i.has(c.namedBindings))return l;let u=n.factory.updateImportClause(c,c.isTypeOnly,c.name,i.get(c.namedBindings)),h=n.factory.updateImportDeclaration(l,l.modifiers,u,l.moduleSpecifier,l.attributes);return Un.default.setOriginalNode(h,{importClause:u,kind:h.kind}),h};return l=>{var c,u;if(!r.has(l.fileName))return l;l=Un.default.visitEachChild(l,a,n);let h=(c=e?.get(l.fileName))!=null?c:[],d=[],g=[];for(let y of l.statements)zN(y)?d.push(y):g.push(y);return n.factory.updateSourceFile(l,[...d,...(u=s.get(l.fileName))!=null?u:[],...h,...g],l.isDeclarationFile,l.referencedFiles,l.typeReferenceDirectives,l.hasNoDefaultLib,l.libReferenceDirectives)}}}function zN(t){return Un.default.isImportDeclaration(t)||Un.default.isImportEqualsDeclaration(t)||Un.default.isNamespaceImport(t)}function XN(t,e){let n=Qm(e),r=t.directReuseCache.get(n);if(r!==void 0)return r;let s=t.namespaceImportReuseCache.get(e.exportModuleSpecifier);return s===void 0?null:e.exportSymbolName===null?s:[s,Ym.default.factory.createIdentifier(e.exportSymbolName)]}function $m(t,e,n){e.directReuseCache.set(Qm(t),n),t.exportSymbolName===null&&!Array.isArray(n)&&e.namespaceImportReuseCache.set(t.exportModuleSpecifier,n)}function Qm(t){return`${t.requestedFile.fileName}:${t.exportModuleSpecifier}:${t.exportSymbolName}`}function YN(t,e,n){let r=null;for(let a=e.statements.length-1;a>=0;a--){let l=e.statements[a];if(!(!Xr.default.isImportDeclaration(l)||!Xr.default.isStringLiteral(l.moduleSpecifier)||!l.importClause||l.importClause.isTypeOnly||l.moduleSpecifier.text!==n.exportModuleSpecifier)&&l.importClause.namedBindings){let u=l.importClause.namedBindings;if(Xr.default.isNamespaceImport(u))return t.reusedAliasDeclarations.add(u),n.exportSymbolName===null?u.name:[u.name,Xr.default.factory.createIdentifier(n.exportSymbolName)];if(Xr.default.isNamedImports(u)&&n.exportSymbolName!==null){let h=u.elements.find(d=>!d.isTypeOnly&&(d.propertyName?d.propertyName.text===n.exportSymbolName:d.name.text===n.exportSymbolName));if(h!==void 0)return t.reusedAliasDeclarations.add(h),h.name;r=l}}}if(r===null||n.exportSymbolName===null)return null;t.updatedImports.has(r)||t.updatedImports.set(r,[]);let s=t.updatedImports.get(r),i=Xr.default.factory.createIdentifier(n.exportSymbolName),o=t.generateUniqueIdentifier(e,n.exportSymbolName);return s.push({propertyName:i,fileUniqueAlias:o}),o??i}var Ua=class{constructor(t={}){var e;this._config=t,this.newImports=new Map,this.nextUniqueIndex=0,this.reuseGeneratedImportsTracker={directReuseCache:new Map,namespaceImportReuseCache:new Map},this.config={shouldUseSingleQuotes:()=>!1,rewriter:null,disableOriginalSourceFileReuse:!1,forceGenerateNamespacesForNewImports:!1,namespaceImportPrefix:"i",generateUniqueIdentifier:(e=this._config.generateUniqueIdentifier)!=null?e:jN(),...this._config},this.reuseSourceFileImportsTracker={generateUniqueIdentifier:this.config.generateUniqueIdentifier,reusedAliasDeclarations:new Set,updatedImports:new Map}}addSideEffectImport(t,e){this.config.rewriter!==null&&(e=this.config.rewriter.rewriteSpecifier(e,t.fileName)),this._getNewImportsTrackerForFile(t).sideEffectImports.add(e)}addImport(t){this.config.rewriter!==null&&(t.exportSymbolName!==null&&(t.exportSymbolName=this.config.rewriter.rewriteSymbol(t.exportSymbolName,t.exportModuleSpecifier)),t.exportModuleSpecifier=this.config.rewriter.rewriteSpecifier(t.exportModuleSpecifier,t.requestedFile.fileName));let e=XN(this.reuseGeneratedImportsTracker,t);if(e!==null)return Um(!!t.asTypeReference,e);let n=this._generateNewImport(t);return $m(t,this.reuseGeneratedImportsTracker,n),Um(!!t.asTypeReference,n)}_generateNewImport(t){var e;let{requestedFile:n}=t,r=this.config.disableOriginalSourceFileReuse,s=this.config.forceGenerateNamespacesForNewImports;if(!r){let h=YN(this.reuseSourceFileImportsTracker,n,t);if(h!==null)return h}let{namedImports:i,namespaceImports:o}=this._getNewImportsTrackerForFile(n);if(t.exportSymbolName===null||s){let h=`${this.config.namespaceImportPrefix}${this.nextUniqueIndex++}`,d=Ne.default.factory.createNamespaceImport((e=this.config.generateUniqueIdentifier(n,h))!=null?e:Ne.default.factory.createIdentifier(h));return o.set(t.exportModuleSpecifier,d),$m({...t,exportSymbolName:null},this.reuseGeneratedImportsTracker,d.name),t.exportSymbolName!==null?[d.name,Ne.default.factory.createIdentifier(t.exportSymbolName)]:d.name}i.has(t.exportModuleSpecifier)||i.set(t.exportModuleSpecifier,[]);let a=Ne.default.factory.createIdentifier(t.exportSymbolName),l=this.config.generateUniqueIdentifier(n,t.exportSymbolName),c=l!==null,u=c?l:a;return i.get(t.exportModuleSpecifier).push(Ne.default.factory.createImportSpecifier(!1,c?a:void 0,u)),u}finalize(){let t=new Set,e=new Map,n=new Map,r=(s,i)=>{t.add(s),n.has(s)?n.get(s).push(i):n.set(s,[i])};return this.reuseSourceFileImportsTracker.updatedImports.forEach((s,i)=>{let o=i.importClause.namedBindings,a=Ne.default.factory.updateNamedImports(o,o.elements.concat(s.map(({propertyName:l,fileUniqueAlias:c})=>Ne.default.factory.createImportSpecifier(!1,c!==null?l:void 0,c??l))));t.add(i.getSourceFile().fileName),e.set(o,a)}),this.newImports.forEach(({namedImports:s,namespaceImports:i,sideEffectImports:o},a)=>{let l=this.config.shouldUseSingleQuotes(a),c=a.fileName;o.forEach(u=>{r(c,Ne.default.factory.createImportDeclaration(void 0,void 0,Ne.default.factory.createStringLiteral(u)))}),i.forEach((u,h)=>{let d=Ne.default.factory.createImportDeclaration(void 0,Ne.default.factory.createImportClause(!1,void 0,u),Ne.default.factory.createStringLiteral(h,l));Ne.default.setOriginalNode(u.name,d),r(c,d)}),s.forEach((u,h)=>{let d=Ne.default.factory.createImportDeclaration(void 0,Ne.default.factory.createImportClause(!1,void 0,Ne.default.factory.createNamedImports(u)),Ne.default.factory.createStringLiteral(h,l));r(c,d)})}),{affectedFiles:t,newImports:n,updatedImports:e,reusedOriginalAliasDeclarations:this.reuseSourceFileImportsTracker.reusedAliasDeclarations}}toTsTransform(t){return KN(this,t)}transformTsFile(t,e,n){let r=n?new Map([[e.fileName,n]]):void 0;return this.toTsTransform(r)(t)(e)}_getNewImportsTrackerForFile(t){return this.newImports.has(t)||this.newImports.set(t,{namespaceImports:new Map,namedImports:new Map,sideEffectImports:new Set}),this.newImports.get(t)}};function Um(t,e){return t?Array.isArray(e)?Ne.default.factory.createQualifiedName(e[0],e[1]):e:Array.isArray(e)?Ne.default.factory.createPropertyAccessExpression(e[0],e[1]):e}var pM=new Map([[mn.Minus,"-"],[mn.Plus,"+"]]),hM=new Map([[I.And,"&&"],[I.Bigger,">"],[I.BiggerEquals,">="],[I.BitwiseAnd,"&"],[I.BitwiseOr,"|"],[I.Divide,"/"],[I.Equals,"=="],[I.Identical,"==="],[I.Lower,"<"],[I.LowerEquals,"<="],[I.Minus,"-"],[I.Modulo,"%"],[I.Multiply,"*"],[I.NotEquals,"!="],[I.NotIdentical,"!=="],[I.Or,"||"],[I.Plus,"+"],[I.NullishCoalesce,"??"]]);var Du={};function Jm(t,e){return n(t);function n(i){return r(i)!==Du}function r(i){return me.default.isImportTypeNode(i)||me.default.isTypeReferenceNode(i)&&!s(i)?Du:me.default.forEachChild(i,r)}function s(i){return e(i)?i.typeArguments===void 0||i.typeArguments.every(n):!1}}var Zm=class{constructor(t){this.translator=t}emitType(t){let e=n=>{let r=s=>{if(me.default.isImportTypeNode(s))throw new Error("Unable to emit import type");if(me.default.isTypeReferenceNode(s))return this.emitTypeReference(s);if(me.default.isLiteralExpression(s)){let i;if(me.default.isStringLiteral(s))i=me.default.factory.createStringLiteral(s.text);else if(me.default.isNumericLiteral(s))i=me.default.factory.createNumericLiteral(s.text);else if(me.default.isBigIntLiteral(s))i=me.default.factory.createBigIntLiteral(s.text);else if(me.default.isNoSubstitutionTemplateLiteral(s))i=me.default.factory.createNoSubstitutionTemplateLiteral(s.text,s.rawText);else if(me.default.isRegularExpressionLiteral(s))i=me.default.factory.createRegularExpressionLiteral(s.text);else throw new Error(`Unsupported literal kind ${me.default.SyntaxKind[s.kind]}`);return me.default.setTextRange(i,{pos:-1,end:-1}),i}else return me.default.visitEachChild(s,r,n)};return s=>me.default.visitNode(s,r,me.default.isTypeNode)};return me.default.transform(t,[e]).transformed[0]}emitTypeReference(t){let e=this.translator(t);if(e===null)throw new Error("Unable to emit an unresolved reference");let n;return t.typeArguments!==void 0&&(n=me.default.factory.createNodeArray(t.typeArguments.map(r=>this.emitType(r)))),me.default.factory.updateTypeReferenceNode(t,e.typeName,n)}};var Vm;(function(t){t.CLOSURE="* @pureOrBreakMyCode ",t.TERSER="@__PURE__"})(Vm||(Vm={}));var fM={"+":ge.default.SyntaxKind.PlusToken,"-":ge.default.SyntaxKind.MinusToken,"!":ge.default.SyntaxKind.ExclamationToken},dM={"&&":ge.default.SyntaxKind.AmpersandAmpersandToken,">":ge.default.SyntaxKind.GreaterThanToken,">=":ge.default.SyntaxKind.GreaterThanEqualsToken,"&":ge.default.SyntaxKind.AmpersandToken,"|":ge.default.SyntaxKind.BarToken,"/":ge.default.SyntaxKind.SlashToken,"==":ge.default.SyntaxKind.EqualsEqualsToken,"===":ge.default.SyntaxKind.EqualsEqualsEqualsToken,"<":ge.default.SyntaxKind.LessThanToken,"<=":ge.default.SyntaxKind.LessThanEqualsToken,"-":ge.default.SyntaxKind.MinusToken,"%":ge.default.SyntaxKind.PercentToken,"*":ge.default.SyntaxKind.AsteriskToken,"!=":ge.default.SyntaxKind.ExclamationEqualsToken,"!==":ge.default.SyntaxKind.ExclamationEqualsEqualsToken,"||":ge.default.SyntaxKind.BarBarToken,"+":ge.default.SyntaxKind.PlusToken,"??":ge.default.SyntaxKind.QuestionQuestionToken},mM={const:ge.default.NodeFlags.Const,let:ge.default.NodeFlags.Let,var:ge.default.NodeFlags.None};S();var eg=require("module"),CM=(0,eg.createRequire)(R),Xs;(function(t){t[t.Unaccounted=0]="Unaccounted",t[t.Setup=1]="Setup",t[t.TypeScriptProgramCreate=2]="TypeScriptProgramCreate",t[t.Reconciliation=3]="Reconciliation",t[t.ResourceUpdate=4]="ResourceUpdate",t[t.TypeScriptDiagnostics=5]="TypeScriptDiagnostics",t[t.Analysis=6]="Analysis",t[t.Resolve=7]="Resolve",t[t.CycleDetection=8]="CycleDetection",t[t.TcbGeneration=9]="TcbGeneration",t[t.TcbUpdateProgram=10]="TcbUpdateProgram",t[t.TypeScriptEmit=11]="TypeScriptEmit",t[t.Compile=12]="Compile",t[t.TtcAutocompletion=13]="TtcAutocompletion",t[t.TtcDiagnostics=14]="TtcDiagnostics",t[t.TtcSymbol=15]="TtcSymbol",t[t.LsReferencesAndRenames=16]="LsReferencesAndRenames",t[t.LsQuickInfo=17]="LsQuickInfo",t[t.LsDefinition=18]="LsDefinition",t[t.LsCompletions=19]="LsCompletions",t[t.LsTcb=20]="LsTcb",t[t.LsDiagnostics=21]="LsDiagnostics",t[t.LsComponentLocations=22]="LsComponentLocations",t[t.LsSignatureHelp=23]="LsSignatureHelp",t[t.OutliningSpans=24]="OutliningSpans",t[t.LAST=25]="LAST",t[t.LsCodeFixes=26]="LsCodeFixes",t[t.LsCodeFixesAll=27]="LsCodeFixesAll"})(Xs||(Xs={}));var Va;(function(t){t[t.InputDtsFile=0]="InputDtsFile",t[t.InputTsFile=1]="InputTsFile",t[t.AnalyzeComponent=2]="AnalyzeComponent",t[t.AnalyzeDirective=3]="AnalyzeDirective",t[t.AnalyzeInjectable=4]="AnalyzeInjectable",t[t.AnalyzeNgModule=5]="AnalyzeNgModule",t[t.AnalyzePipe=6]="AnalyzePipe",t[t.TraitAnalyze=7]="TraitAnalyze",t[t.TraitReuseAnalysis=8]="TraitReuseAnalysis",t[t.SourceFilePhysicalChange=9]="SourceFilePhysicalChange",t[t.SourceFileLogicalChange=10]="SourceFileLogicalChange",t[t.SourceFileReuseAnalysis=11]="SourceFileReuseAnalysis",t[t.GenerateTcb=12]="GenerateTcb",t[t.SkipGenerateTcbNoInline=13]="SkipGenerateTcbNoInline",t[t.ReuseTypeCheckFile=14]="ReuseTypeCheckFile",t[t.UpdateTypeCheckProgram=15]="UpdateTypeCheckProgram",t[t.EmitSkipSourceFile=16]="EmitSkipSourceFile",t[t.EmitSourceFile=17]="EmitSourceFile",t[t.LAST=18]="LAST"})(Va||(Va={}));var Wu;(function(t){t[t.Initial=0]="Initial",t[t.TypeScriptProgramCreate=1]="TypeScriptProgramCreate",t[t.PreAnalysis=2]="PreAnalysis",t[t.Analysis=3]="Analysis",t[t.Resolve=4]="Resolve",t[t.TtcGeneration=5]="TtcGeneration",t[t.TtcUpdateProgram=6]="TtcUpdateProgram",t[t.PreEmit=7]="PreEmit",t[t.Emit=8]="Emit",t[t.LAST=9]="LAST"})(Wu||(Wu={}));var ZN=class{eventCount(){}memory(){}phase(){return Xs.Unaccounted}inPhase(t,e){return e()}reset(){}},IM=new ZN;var wn=T(require("typescript"),1),fe=T(require("typescript"),1),aD=T(require("typescript"),1);var lD=T(require("typescript"),1),cD=T(require("typescript"),1),uD=T(require("typescript"),1),pD=T(require("typescript"),1),hD=T(require("typescript"),1),fD=T(require("typescript"),1),dD=T(require("typescript"),1);var mD=T(require("typescript"),1),gD=T(require("typescript"),1);var yD=T(require("typescript"),1);var vD=T(require("typescript"),1);var ED=T(require("typescript"),1),SD=T(require("typescript"),1);var wD=T(require("typescript"),1);var TD=T(require("typescript"),1);var xD=T(require("typescript"),1);var CD=T(require("typescript"),1),on=T(require("typescript"),1),Xu=T(require("typescript"),1);var an=T(require("typescript"),1);var kD=T(require("typescript"),1),PD=T(require("typescript"),1);var MD=T(require("typescript"),1);var LD=T(require("typescript"),1);var OD=T(require("typescript"),1),JM=(0,og.createRequire)(R),sD="@angular/core";function ag(t){return t.import!==null&&t.import.from===sD}function Ys(t,e,n){return n?t.name===e:ag(t)?t.import.name===e:!1}function lg(t,e,n){return t.filter(r=>{var s;let i=n?r.name:(s=r.import)==null?void 0:s.name;return i===void 0||!e.includes(i)?!1:n||ag(r)})}function cg(t){for(;wn.default.isAsExpression(t)||wn.default.isParenthesizedExpression(t);)t=t.expression;return t}function iD(t){if(t=cg(t),!wn.default.isArrowFunction(t)&&!wn.default.isFunctionExpression(t))return null;let e=t.body;if(wn.default.isBlock(e)){if(e.statements.length!==1)return null;let n=e.statements[0];return!wn.default.isReturnStatement(n)||n.expression===void 0?null:n.expression}else return e}function oD(t,e){if(t=cg(t),!wn.default.isCallExpression(t)||t.arguments.length!==1)return null;let n=wn.default.isPropertyAccessExpression(t.expression)?t.expression.name:t.expression;if(!wn.default.isIdentifier(n))return null;let r=iD(t.arguments[0]);if(r===null)return null;let s=e.getImportOfIdentifier(n);return s===null||s.from!=="@angular/core"||s.name!=="forwardRef"?null:r}function De(t){return{op:t,literal:!0}}function tg(t){return{op:t,literal:!1}}var rL=new Map([[fe.default.SyntaxKind.PlusToken,De((t,e)=>t+e)],[fe.default.SyntaxKind.MinusToken,De((t,e)=>t-e)],[fe.default.SyntaxKind.AsteriskToken,De((t,e)=>t*e)],[fe.default.SyntaxKind.SlashToken,De((t,e)=>t/e)],[fe.default.SyntaxKind.PercentToken,De((t,e)=>t%e)],[fe.default.SyntaxKind.AmpersandToken,De((t,e)=>t&e)],[fe.default.SyntaxKind.BarToken,De((t,e)=>t|e)],[fe.default.SyntaxKind.CaretToken,De((t,e)=>t^e)],[fe.default.SyntaxKind.LessThanToken,De((t,e)=>t<e)],[fe.default.SyntaxKind.LessThanEqualsToken,De((t,e)=>t<=e)],[fe.default.SyntaxKind.GreaterThanToken,De((t,e)=>t>e)],[fe.default.SyntaxKind.GreaterThanEqualsToken,De((t,e)=>t>=e)],[fe.default.SyntaxKind.EqualsEqualsToken,De((t,e)=>t==e)],[fe.default.SyntaxKind.EqualsEqualsEqualsToken,De((t,e)=>t===e)],[fe.default.SyntaxKind.ExclamationEqualsToken,De((t,e)=>t!=e)],[fe.default.SyntaxKind.ExclamationEqualsEqualsToken,De((t,e)=>t!==e)],[fe.default.SyntaxKind.LessThanLessThanToken,De((t,e)=>t<<e)],[fe.default.SyntaxKind.GreaterThanGreaterThanToken,De((t,e)=>t>>e)],[fe.default.SyntaxKind.GreaterThanGreaterThanGreaterThanToken,De((t,e)=>t>>>e)],[fe.default.SyntaxKind.AsteriskAsteriskToken,De((t,e)=>Math.pow(t,e))],[fe.default.SyntaxKind.AmpersandAmpersandToken,tg((t,e)=>t&&e)],[fe.default.SyntaxKind.BarBarToken,tg((t,e)=>t||e)]]),sL=new Map([[fe.default.SyntaxKind.TildeToken,t=>~t],[fe.default.SyntaxKind.MinusToken,t=>-t],[fe.default.SyntaxKind.PlusToken,t=>+t],[fe.default.SyntaxKind.ExclamationToken,t=>!t]]);var ju;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(ju||(ju={}));var ng;(function(t){t[t.Selector=0]="Selector",t[t.HostDirective=1]="HostDirective"})(ng||(ng={}));var Ku;(function(t){t[t.FULL=0]="FULL",t[t.PARTIAL=1]="PARTIAL",t[t.LOCAL=2]="LOCAL"})(Ku||(Ku={}));var rg;(function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SHARED=1]="SHARED",t[t.WEAK=2]="WEAK"})(rg||(rg={}));var sg;(function(t){t[t.Pending=0]="Pending",t[t.Analyzed=1]="Analyzed",t[t.Resolved=2]="Resolved",t[t.Skipped=3]="Skipped"})(sg||(sg={}));var zu;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(zu||(zu={}));function qa({api:t,call:e},n){if(!t.allowedAccessLevels.includes(n.accessLevel))throw new Vn(ee.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY,e,$a(`Cannot use "${t.functionName}" on a class member that is declared as ${Bu(n.accessLevel)}.`,[$a("Update the class field to be either: "+t.allowedAccessLevels.map(r=>Bu(r)).join(", "))]))}function oo(t,e,n,r){if(!on.default.isCallExpression(e))return null;let s=ID(e,t,r)||AD(e,t,r)||bD(e,t,r);if(s===null)return null;let{api:i,apiReference:o,isRequired:a}=s,l=n.getImportOfIdentifier(o);return l===null||i.functionName!==l.name||i.owningModule!==l.from?null:{api:i,call:e,isRequired:a}}function ID(t,e,n){let r=t.expression;if(!on.default.isIdentifier(r))return null;let s=e.find(i=>n.isPotentialReferenceToNamedImport(r,i.functionName,i.owningModule));return s===void 0?null:{api:s,apiReference:r,isRequired:!1}}function AD(t,e,n){let r=t.expression;if(!on.default.isPropertyAccessExpression(r)||!on.default.isIdentifier(r.expression)||r.name.text!=="required")return null;let s=r.expression,i=e.find(o=>n.isPotentialReferenceToNamedImport(s,o.functionName,o.owningModule));return i===void 0?null:{api:i,apiReference:s,isRequired:!0}}function bD(t,e,n){let r=t.expression;if(!on.default.isPropertyAccessExpression(r))return null;let s=null,i,o=!1;if(on.default.isIdentifier(r.expression)&&on.default.isIdentifier(r.name)){let a=r.expression;s=r.name,i=e.find(l=>r.name.text===l.functionName&&n.isPotentialReferenceToNamespaceImport(a,l.owningModule))}else if(on.default.isPropertyAccessExpression(r.expression)&&on.default.isIdentifier(r.expression.expression)&&on.default.isIdentifier(r.expression.name)&&r.name.text==="required"){let a=r.expression.name.text,l=r.expression.expression;s=r.expression.name,i=e.find(c=>c.functionName===a&&n.isPotentialReferenceToNamespaceImport(l,c.owningModule)),o=!0}return i===void 0||s===null?null:{api:i,apiReference:s,isRequired:o}}function Ju(t){if(!Xu.default.isObjectLiteralExpression(t))throw new Vn(ee.VALUE_HAS_WRONG_TYPE,t,"Argument needs to be an object literal that is statically analyzable.");let e=Vu(t),n;if(e.has("alias")){let r=e.get("alias");if(!Xu.default.isStringLiteralLike(r))throw new Vn(ee.VALUE_HAS_WRONG_TYPE,r,"Alias needs to be a string that is statically analyzable.");n=r.text}return{alias:n}}var Zu={functionName:"input",owningModule:"@angular/core",allowedAccessLevels:[he.PublicWritable,he.PublicReadonly,he.Protected]};function ug(t,e,n){var r;if(t.value===null)return null;let s=oo([Zu],t.value,e,n);if(s===null)return null;qa(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Ju(i):null,a=t.name;return{isSignal:!0,classPropertyName:a,bindingPropertyName:(r=o?.alias)!=null?r:a,required:s.isRequired,transform:null}}var ep={functionName:"model",owningModule:"@angular/core",allowedAccessLevels:[he.PublicWritable,he.PublicReadonly,he.Protected]};function pg(t,e,n){var r;if(t.value===null)return null;let s=oo([ep],t.value,e,n);if(s===null)return null;qa(s,t);let i=s.isRequired?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Ju(i):null,a=t.name,l=(r=o?.alias)!=null?r:a;return{call:s.call,input:{isSignal:!0,transform:null,classPropertyName:a,bindingPropertyName:l,required:s.isRequired},output:{isSignal:!1,classPropertyName:a,bindingPropertyName:l+"Change"}}}var ig=[he.PublicWritable,he.PublicReadonly,he.Protected],tp=[{functionName:"output",owningModule:"@angular/core",allowedAccessLevels:ig},{functionName:"outputFromObservable",owningModule:"@angular/core/rxjs-interop",allowedAccessLevels:ig}];function hg(t,e,n){var r;if(t.value===null)return null;let s=oo(tp,t.value,e,n);if(s===null)return null;if(s.isRequired)throw new Vn(ee.INITIALIZER_API_NO_REQUIRED_FUNCTION,s.call,'Output does not support ".required()".');qa(s,t);let i=s.api.functionName==="output"?s.call.arguments[0]:s.call.arguments[1],o=i!==void 0?Ju(i):null,a=t.name;return{call:s.call,metadata:{isSignal:!1,classPropertyName:a,bindingPropertyName:(r=o?.alias)!=null?r:a}}}var ND=["viewChild","viewChildren","contentChild","contentChildren"],np=ND.map(t=>({functionName:t,owningModule:"@angular/core",allowedAccessLevels:[he.PublicWritable,he.PublicReadonly,he.Protected,he.Private]})),DD=t=>t!=="contentChildren";function fg(t,e,n){if(t.value===null)return null;let r=oo(np,t.value,e,n);if(r===null)return null;qa(r,t);let{functionName:s}=r.api,i=s==="viewChild"||s==="contentChild",o=r.call.arguments[0];if(o===void 0)throw new Vn(ee.VALUE_HAS_WRONG_TYPE,r.call,"No locator specified.");let a=r.call.arguments[1];if(a!==void 0&&!an.default.isObjectLiteralExpression(a))throw new Vn(ee.VALUE_HAS_WRONG_TYPE,a,"Argument needs to be an object literal.");let l=a&&Vu(a),c=l?.has("read")?dg(l.get("read")):null,u=l?.has("descendants")?RD(l.get("descendants")):DD(s);return{name:s,call:r.call,metadata:{isSignal:!0,propertyName:t.name,static:!1,emitDistinctChangesOnly:!0,predicate:_D(o,e),first:i,read:c,descendants:u}}}function _D(t,e){let n=oD(t,e);return n!==null&&(t=n),an.default.isStringLiteralLike(t)?[t.text]:zr(new eo.WrappedNodeExpr(t),n!==null?2:0)}function dg(t){if(an.default.isExpressionWithTypeArguments(t)||an.default.isParenthesizedExpression(t)||an.default.isAsExpression(t))return dg(t.expression);if(an.default.isPropertyAccessExpression(t)&&an.default.isIdentifier(t.expression)||an.default.isIdentifier(t))return new eo.WrappedNodeExpr(t);throw new Vn(ee.VALUE_NOT_LITERAL,t,'Query "read" option expected a literal class reference.')}function RD(t){if(t.kind===an.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===an.default.SyntaxKind.FalseKeyword)return!1;throw new Vn(ee.VALUE_HAS_WRONG_TYPE,t,'Expected "descendants" option to be a boolean literal.')}var rp=["ViewChild","ViewChildren","ContentChild","ContentChildren"],SL=new Set(rp);var x=T(require("typescript"),1),Qs=T(require("typescript"),1),Ga=T(require("typescript"),1),Tg=T(require("typescript"),1),bL=(0,gg.createRequire)(R);function sp(t,e){return e||t.import!==null&&t.import.from==="@angular/core"}var yg="!Array<{type: !Function, args: (undefined|!Array<?>)}>";function vg(t,e){let n=[],r=t.expression;switch(r.kind){case x.default.SyntaxKind.Identifier:n.push(x.default.factory.createPropertyAssignment("type",r));break;case x.default.SyntaxKind.CallExpression:let s=r;if(n.push(x.default.factory.createPropertyAssignment("type",s.expression)),s.arguments.length){let i=[];for(let a of s.arguments)i.push(a);let o=x.default.factory.createArrayLiteralExpression(x.default.factory.createNodeArray(i,!0));n.push(x.default.factory.createPropertyAssignment("args",o))}break;default:e.push({file:t.getSourceFile(),start:t.getStart(),length:t.getEnd()-t.getStart(),messageText:`${x.default.SyntaxKind[t.kind]} not implemented in gathering decorator metadata.`,category:x.default.DiagnosticCategory.Error,code:0});break}return x.default.factory.createObjectLiteralExpression(n)}function FD(t,e,n,r){let s=[];for(let a of n){if(!a.type&&a.decorators.length===0){s.push(x.default.factory.createNull());continue}let l=a.type?Eg(e,a.type):void 0,c=[x.default.factory.createPropertyAssignment("type",l||x.default.factory.createIdentifier("undefined"))],u=[];for(let h of a.decorators)u.push(vg(h,t));u.length&&c.push(x.default.factory.createPropertyAssignment("decorators",x.default.factory.createArrayLiteralExpression(u))),s.push(x.default.factory.createObjectLiteralExpression(c))}let i=x.default.factory.createArrowFunction(void 0,void 0,[],void 0,x.default.factory.createToken(x.default.SyntaxKind.EqualsGreaterThanToken),x.default.factory.createArrayLiteralExpression(s,!0)),o=x.default.factory.createPropertyDeclaration([x.default.factory.createToken(x.default.SyntaxKind.StaticKeyword)],"ctorParameters",void 0,void 0,i);return r&&x.default.setSyntheticLeadingComments(o,[{kind:x.default.SyntaxKind.MultiLineCommentTrivia,text:["*"," * @type {function(): !Array<(null|{"," *   type: ?,",` *   decorators: (undefined|${yg}),`," * })>}"," * @nocollapse"," "].join(`
`),pos:-1,end:-1,hasTrailingNewLine:!0}]),o}function Eg(t,e){let n=e.kind;switch(x.default.isLiteralTypeNode(e)&&(n=e.literal.kind),n){case x.default.SyntaxKind.FunctionType:case x.default.SyntaxKind.ConstructorType:return x.default.factory.createIdentifier("Function");case x.default.SyntaxKind.ArrayType:case x.default.SyntaxKind.TupleType:return x.default.factory.createIdentifier("Array");case x.default.SyntaxKind.TypePredicate:case x.default.SyntaxKind.TrueKeyword:case x.default.SyntaxKind.FalseKeyword:case x.default.SyntaxKind.BooleanKeyword:return x.default.factory.createIdentifier("Boolean");case x.default.SyntaxKind.StringLiteral:case x.default.SyntaxKind.StringKeyword:return x.default.factory.createIdentifier("String");case x.default.SyntaxKind.ObjectKeyword:return x.default.factory.createIdentifier("Object");case x.default.SyntaxKind.NumberKeyword:case x.default.SyntaxKind.NumericLiteral:return x.default.factory.createIdentifier("Number");case x.default.SyntaxKind.TypeReference:return t(e.typeName);case x.default.SyntaxKind.UnionType:let s=e.types.filter(i=>!(x.default.isLiteralTypeNode(i)&&i.literal.kind===x.default.SyntaxKind.NullKeyword));return s.length===1?Eg(t,s[0]):void 0;default:return}}function BD(t,e){return e.flags&x.default.SymbolFlags.Alias&&(e=t.getAliasedSymbol(e)),(e.flags&x.default.SymbolFlags.Value&x.default.SymbolFlags.ConstEnumExcludes)!==0}function Sg(t,e,n,r,s){function i(a,l){s&&x.default.setSyntheticLeadingComments(a,[{kind:x.default.SyntaxKind.MultiLineCommentTrivia,text:`* @type {${l}} `,pos:-1,end:-1,hasTrailingNewLine:!0}])}function o(a,l){let c=[];for(let[d,g]of l.entries())c.push(x.default.factory.createPropertyAssignment(d,x.default.factory.createArrayLiteralExpression(g.map(y=>vg(y,a)))));let u=x.default.factory.createObjectLiteralExpression(c,!0),h=x.default.factory.createPropertyDeclaration([x.default.factory.createToken(x.default.SyntaxKind.StaticKeyword)],"propDecorators",void 0,void 0,u);return i(h,`!Object<string, ${yg}>`),h}return a=>{let l=qu(a);function c(y){let C=t.getSymbolAtLocation(y);if(!C||!BD(t,C)||!C.declarations||C.declarations.length===0)return;if(x.default.isQualifiedName(y)){let D=c(y.left);return D===void 0?void 0:x.default.factory.createPropertyAccessExpression(D,y.right)}let A=C.declarations[0];return Gu(A)&&(l.add(A),A.name!==void 0)?x.default.setOriginalNode(x.default.factory.createIdentifier(A.name.text),A.name):x.default.setOriginalNode(x.default.factory.createIdentifier(y.text),y)}function u(y){y=x.default.visitEachChild(y,g,a);let C=[],A=[],D=e.getDecoratorsOfDeclaration(y)||[];for(let ve of D){let de=ve.node;if(!sp(ve,r)){C.push(de);continue}A.push(de)}if(!A.length)return[void 0,y,[]];if(!y.name||!x.default.isIdentifier(y.name))return n.push({file:y.getSourceFile(),start:y.getStart(),length:y.getEnd()-y.getStart(),messageText:"Cannot process decorators for class element with non-analyzable name.",category:x.default.DiagnosticCategory.Error,code:0}),[void 0,y,[]];let U=x.default.canHaveModifiers(y)?x.default.getModifiers(y):void 0,te;return(C.length||U?.length)&&(te=x.default.setTextRange(x.default.factory.createNodeArray([...C,...U||[]]),y.modifiers)),[y.name.text,$D(y,te),A]}function h(y){y=x.default.visitEachChild(y,g,a);let C=[],A=y.parameters,D=[];for(let te of A){let ve=[],de={decorators:[],type:null},ln=e.getDecoratorsOfDeclaration(te)||[];for(let Hp of ln){let Wp=Hp.node;if(!sp(Hp,r)){ve.push(Wp);continue}de.decorators.push(Wp)}te.type&&(de.type=te.type),D.push(de);let Wn,Et=x.default.getModifiers(te);(ve.length||Et?.length)&&(Wn=[...ve,...Et||[]]);let jv=x.default.factory.updateParameterDeclaration(te,Wn,te.dotDotDotToken,te.name,te.questionToken,te.type,te.initializer);C.push(jv)}return[x.default.factory.updateConstructorDeclaration(y,x.default.getModifiers(y),C,y.body),D]}function d(y){let C=[],A=new Map,D=null;for(let de of y.members){switch(de.kind){case x.default.SyntaxKind.PropertyDeclaration:case x.default.SyntaxKind.GetAccessor:case x.default.SyntaxKind.SetAccessor:case x.default.SyntaxKind.MethodDeclaration:{let[ln,Wn,Et]=u(de);C.push(Wn),ln&&A.set(ln,Et);continue}case x.default.SyntaxKind.Constructor:{if(!de.body)break;let[Wn,Et]=h(de);D=Et,C.push(Wn);continue}default:break}C.push(x.default.visitEachChild(de,g,a))}let te=(e.getDecoratorsOfDeclaration(y)||[]).some(de=>sp(de,r));D&&(te||D.some(de=>!!de.decorators.length))&&C.push(FD(n,c,D,s)),A.size&&C.push(o(n,A));let ve=x.default.setTextRange(x.default.factory.createNodeArray(C,y.members.hasTrailingComma),y.members);return x.default.factory.updateClassDeclaration(y,y.modifiers,y.name,y.typeParameters,y.heritageClauses,ve)}function g(y){return x.default.isClassDeclaration(y)?d(y):x.default.visitEachChild(y,g,a)}return y=>x.default.visitEachChild(y,g,a)}}function $D(t,e){let n;if(x.default.isMethodDeclaration(t))n=x.default.factory.createMethodDeclaration(e,t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);else if(x.default.isPropertyDeclaration(t))n=x.default.factory.createPropertyDeclaration(e,t.name,t.questionToken,t.type,t.initializer);else if(x.default.isGetAccessor(t))n=x.default.factory.createGetAccessorDeclaration(e,t.name,t.parameters,t.type,t.body);else if(x.default.isSetAccessor(t))n=x.default.factory.createSetAccessorDeclaration(e,t.name,t.parameters,t.body);else throw new Error(`Unsupported decorated member with kind ${x.default.SyntaxKind[t.kind]}`);return x.default.setOriginalNode(n,t)}function Ha(t,e,n,r,s){let i=Ga.default.isIdentifier(n.identifier)?n.identifier:n.identifier.expression;return t.createPropertyAccessExpression(e.addImport({exportModuleSpecifier:"@angular/core",exportSymbolName:null,requestedFile:r}),Ga.default.setOriginalNode(t.createIdentifier(s),i))}function wg(t,e){return t.createAsExpression(e,t.createKeywordTypeNode(Ga.default.SyntaxKind.AnyKeyword))}var UD=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(g=>Ys(g,"Input",o)))return t.node;let c=ug(t,e,r);if(c===null)return t.node;let u={isSignal:n.createTrue(),alias:n.createStringLiteral(c.bindingPropertyName),required:c.required?n.createTrue():n.createFalse(),transform:n.createIdentifier("undefined")},h=t.node.getSourceFile(),d=n.createDecorator(n.createCallExpression(Ha(n,s,i,h,"Input"),void 0,[wg(n,n.createObjectLiteralExpression(Object.entries(u).map(([g,y])=>n.createPropertyAssignment(g,y))))]));return n.updatePropertyDeclaration(t.node,[d,...(l=t.node.modifiers)!=null?l:[]],t.name,t.node.questionToken,t.node.type,t.node.initializer)},VD=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(y=>Ys(y,"Input",o)||Ys(y,"Output",o)))return t.node;let c=pg(t,e,r);if(c===null)return t.node;let u=n.createObjectLiteralExpression([n.createPropertyAssignment("isSignal",c.input.isSignal?n.createTrue():n.createFalse()),n.createPropertyAssignment("alias",n.createStringLiteral(c.input.bindingPropertyName)),n.createPropertyAssignment("required",c.input.required?n.createTrue():n.createFalse())]),h=t.node.getSourceFile(),d=mg("Input",n.createAsExpression(u,n.createKeywordTypeNode(Tg.default.SyntaxKind.AnyKeyword)),i,n,h,s),g=mg("Output",n.createStringLiteral(c.output.bindingPropertyName),i,n,h,s);return n.updatePropertyDeclaration(t.node,[d,g,...(l=t.node.modifiers)!=null?l:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)};function mg(t,e,n,r,s,i){let o=Ha(r,i,n,s,t);return r.createDecorator(r.createCallExpression(o,void 0,[e]))}var qD=(t,e,n,r,s,i,o)=>{var a,l;if((a=e.getDecoratorsOfDeclaration(t.node))!=null&&a.some(d=>Ys(d,"Output",o)))return t.node;let c=hg(t,e,r);if(c===null)return t.node;let u=t.node.getSourceFile(),h=n.createDecorator(n.createCallExpression(Ha(n,s,i,u,"Output"),void 0,[n.createStringLiteral(c.metadata.bindingPropertyName)]));return n.updatePropertyDeclaration(t.node,[h,...(l=t.node.modifiers)!=null?l:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},GD={viewChild:"ViewChild",viewChildren:"ViewChildren",contentChild:"ContentChild",contentChildren:"ContentChildren"},HD=(t,e,n,r,s,i,o)=>{var a;let l=e.getDecoratorsOfDeclaration(t.node),c=l&&lg(l,rp,o);if(c!==null&&c.length>0)return t.node;let u=fg(t,e,r);if(u===null)return t.node;let h=t.node.getSourceFile(),d=u.call.arguments,g=n.createDecorator(n.createCallExpression(Ha(n,s,i,h,GD[u.name]),void 0,[u.call.arguments[0],wg(n,n.createObjectLiteralExpression([...d.length>1?[n.createSpreadAssignment(d[1])]:[],n.createPropertyAssignment("isSignal",n.createTrue())]))]));return n.updatePropertyDeclaration(t.node,[g,...(a=t.node.modifiers)!=null?a:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},WD=["Directive","Component"],jD=[UD,qD,HD,VD];function xg(t,e,n){return r=>s=>{let i=new Ua;return s=Qs.default.visitNode(s,KD(r,t,i,e,n),Qs.default.isSourceFile),i.transformTsFile(r,s)}}function KD(t,e,n,r,s){let i=o=>{var a;if(Qs.default.isClassDeclaration(o)&&o.name!==void 0){let l=(a=e.getDecoratorsOfDeclaration(o))==null?void 0:a.find(c=>WD.some(u=>Ys(c,u,s)));if(l!==void 0){let c=!1,u=o.members.map(h=>{if(!Qs.default.isPropertyDeclaration(h))return h;let d=Uu(h);if(d===null)return h;for(let g of jD){let y=g({...d,node:h},e,t.factory,r,n,l,s);if(y!==d.node)return c=!0,y}return h});if(c)return t.factory.updateClassDeclaration(o,o.modifiers,o.name,o.typeParameters,o.heritageClauses,u)}}return Qs.default.visitEachChild(o,i,t)};return i}function ip(t,e=!1){let n=t.getTypeChecker(),r=new $u(n),s=new Hu,i=Sg(n,r,[],e,!1),o=xg(r,s,e);return a=>l=>(l=o(a)(l),l=i(a)(l),l)}var Cg={ngDevMode:!1,ngI18nClosureMode:!1},zD={...Cg,ngJitMode:!1};S();var Ov=require("module");S();var Ig=require("module"),kL=(0,Ig.createRequire)(R),Wa;(function(t){t[t.SingleFile=0]="SingleFile",t[t.WholeProgram=1]="WholeProgram"})(Wa||(Wa={}));var op;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(op||(op={}));var ap;(function(t){t[t.Normal=0]="Normal",t[t.ForceDirect=1]="ForceDirect"})(ap||(ap={}));var lp;(function(t){t[t.Reference=0]="Reference",t[t.Variable=1]="Variable",t[t.LetDeclaration=2]="LetDeclaration"})(lp||(lp={}));var Dt;(function(t){t[t.Input=0]="Input",t[t.Output=1]="Output",t[t.Binding=2]="Binding",t[t.Reference=3]="Reference",t[t.Variable=4]="Variable",t[t.Directive=5]="Directive",t[t.Element=6]="Element",t[t.Template=7]="Template",t[t.Expression=8]="Expression",t[t.DomBinding=9]="DomBinding",t[t.Pipe=10]="Pipe",t[t.LetDeclaration=11]="LetDeclaration"})(Dt||(Dt={}));var XR=T(require("typescript"),1),YR=T(require("typescript"),1),QR=T(require("typescript"),1),JR=T(require("typescript"),1),ZR=T(require("typescript"),1),ek=T(require("typescript"),1),tk=T(require("typescript"),1),nk=T(require("typescript"),1),rk=T(require("typescript"),1),sk=T(require("typescript"),1);var ik=T(require("typescript"),1);var Fv=T(require("typescript"),1);var ok=T(require("typescript"),1),ak=T(require("typescript"),1),lk=T(require("typescript"),1),ck=T(require("typescript"),1),uk=T(require("typescript"),1),pk=T(require("typescript"),1);var hk=T(require("typescript"),1);var dk=T(require("typescript"),1);var mk=T(require("typescript"),1);var yo=T(require("typescript"),1);S();var Ag="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XD=new Uint8Array(64),YD=new Uint8Array(128);for(let t=0;t<Ag.length;t++){let e=Ag.charCodeAt(t);XD[t]=e,YD[e]=t}var yk=T(require("typescript"),1);var vk=T(require("typescript"),1),Ek=T(require("typescript"),1);var Q=T(require("typescript"),1);var Ck=T(require("typescript"),1);var Ik=T(require("typescript"),1),mo=T(require("typescript"),1);var Dk=T(require("typescript"),1),_k=T(require("typescript"),1);var E=T(require("typescript"),1);var Eo=T(require("typescript"),1);var b=T(require("typescript"),1),iP=T(require("typescript"),1);var oP=T(require("typescript"),1);var Op=T(require("typescript"),1);var Fp=T(require("typescript"),1);var Bp=T(require("typescript"),1);var DP=T(require("typescript"),1);var RP=T(require("typescript"),1),kP=T(require("typescript"),1),PP=T(yv(),1),MP=T(require("typescript"),1),LP=T(require("typescript"),1),OP=T(require("typescript"),1),IF=(0,Ov.createRequire)(R);var _p;(function(t){t[t.DTS=1]="DTS",t[t.JS=2]="JS",t[t.Metadata=4]="Metadata",t[t.I18nBundle=8]="I18nBundle",t[t.Codegen=16]="Codegen",t[t.Default=19]="Default",t[t.All=31]="All"})(_p||(_p={}));var Rp;(function(t){t.Block="block",t.Component="component",t.Constant="constant",t.Decorator="decorator",t.Directive="directive",t.Element="element",t.Enum="enum",t.Function="function",t.Interface="interface",t.NgModule="ng_module",t.Pipe="pipe",t.TypeAlias="type_alias",t.UndecoratedClass="undecorated_class",t.InitializerApiFunction="initializer_api_function"})(Rp||(Rp={}));var kp;(function(t){t.Property="property",t.Method="method",t.Getter="getter",t.Setter="setter",t.EnumItem="enum_item"})(kp||(kp={}));var Pp;(function(t){t.Class="class",t.Member="member",t.Parameter="parameter"})(Pp||(Pp={}));var Mp;(function(t){t.Abstract="abstract",t.Static="static",t.Readonly="readonly",t.Protected="protected",t.Optional="optional",t.Input="input",t.Output="output",t.Inherited="override"})(Mp||(Mp={}));var PF=Fv.default.version;var LF=Symbol("NgCyclicResult");var OF=Symbol("NgOriginalFile"),vv;(function(t){t[t.Complete=0]="Complete",t[t.Incremental=1]="Incremental"})(vv||(vv={}));var FF=Symbol("NgExtension");var Ev;(function(t){t[t.Fresh=0]="Fresh",t[t.Delta=1]="Delta",t[t.Analyzed=2]="Analyzed"})(Ev||(Ev={}));var Sv;(function(t){t[t.Analysis=0]="Analysis",t[t.TypeCheckAndEmit=1]="TypeCheckAndEmit"})(Sv||(Sv={}));var BF=Symbol("NgIncrementalState"),wv;(function(t){t[t.Property=0]="Property",t[t.Method=1]="Method",t[t.Element=2]="Element",t[t.Template=3]="Template",t[t.Attribute=4]="Attribute",t[t.Reference=5]="Reference",t[t.Variable=6]="Variable",t[t.LetDeclaration=7]="LetDeclaration"})(wv||(wv={}));var fk=".$ngresource$",VF=fk+".ts";var GF=Symbol("TemplateSourceFile");var HF=Symbol("ngTemplateId"),WF=Symbol("ngNextTemplateId");var rl;(function(t){t.DIAGNOSTIC="D",t.EXPRESSION_TYPE_IDENTIFIER="T"})(rl||(rl={}));var es;(function(t){t.DIRECTIVE="DIR",t.COMPONENT_COMPLETION="COMPCOMP",t.EVENT_PARAMETER="EP",t.VARIABLE_AS_EXPRESSION="VAE"})(es||(es={}));function wo(t,e){yo.default.addSyntheticTrailingComment(t,yo.default.SyntaxKind.MultiLineCommentTrivia,`${rl.EXPRESSION_TYPE_IDENTIFIER}:${e}`,!1)}var gk=`${rl.DIAGNOSTIC}:ignore`;function Er(t){yo.default.addSyntheticTrailingComment(t,yo.default.SyntaxKind.MultiLineCommentTrivia,gk,!1)}var YF=new sn;var Sk=new Set([Q.default.SyntaxKind.ParenthesizedExpression,Q.default.SyntaxKind.Identifier,Q.default.SyntaxKind.CallExpression,Q.default.SyntaxKind.NonNullExpression,Q.default.SyntaxKind.ElementAccessExpression,Q.default.SyntaxKind.PropertyAccessExpression,Q.default.SyntaxKind.ArrayLiteralExpression,Q.default.SyntaxKind.ObjectLiteralExpression,Q.default.SyntaxKind.StringLiteral,Q.default.SyntaxKind.NumericLiteral,Q.default.SyntaxKind.TrueKeyword,Q.default.SyntaxKind.FalseKeyword,Q.default.SyntaxKind.NullKeyword,Q.default.SyntaxKind.UndefinedKeyword]);function Gn(t){return Sk.has(t.kind)||(t=Q.default.factory.createParenthesizedExpression(t)),Q.default.factory.createParenthesizedExpression(Q.default.factory.createAsExpression(t,Q.default.factory.createKeywordTypeNode(Q.default.SyntaxKind.AnyKeyword)))}function wk(t){let e=Q.default.factory.createPropertyAccessExpression(Q.default.factory.createIdentifier("document"),"createElement");return Q.default.factory.createCallExpression(e,void 0,[Q.default.factory.createStringLiteral(t)])}function vo(t,e){wo(e,es.VARIABLE_AS_EXPRESSION);let n=Q.default.factory.createAsExpression(Q.default.factory.createNonNullExpression(Q.default.factory.createNull()),e),r=Q.default.factory.createVariableDeclaration(t,void 0,void 0,n);return Q.default.factory.createVariableStatement(void 0,[r])}function Tk(t,e){return Q.default.factory.createTypeQueryNode(Q.default.factory.createQualifiedName(t,`ngAcceptInputType_${e}`))}function Hn(t,e,n=null){let r=Q.default.factory.createVariableDeclaration(t,void 0,void 0,e);return Q.default.factory.createVariableStatement(void 0,n===null?[r]:Q.default.factory.createVariableDeclarationList([r],n))}function Tv(t,e,n=[]){let r=Q.default.factory.createPropertyAccessExpression(t,e);return Q.default.factory.createCallExpression(r,void 0,n)}function xk(t){if(t<0){let e=Q.default.factory.createNumericLiteral(Math.abs(t));return Q.default.factory.createPrefixUnaryExpression(Q.default.SyntaxKind.MinusToken,e)}return Q.default.factory.createNumericLiteral(t)}var Ak=class{constructor(t,e){this.typeParameters=t,this.reflector=e}canEmit(t){return this.typeParameters===void 0?!0:this.typeParameters.every(e=>this.canEmitType(e.constraint,t)&&this.canEmitType(e.default,t))}canEmitType(t,e){return t===void 0?!0:Jm(t,n=>{let r=this.resolveTypeReference(n);return r===null?!1:r instanceof Yr?e(r):!0})}emit(t){if(this.typeParameters===void 0)return;let e=new Zm(n=>this.translateTypeReference(n,t));return this.typeParameters.map(n=>{let r=n.constraint!==void 0?e.emitType(n.constraint):void 0,s=n.default!==void 0?e.emitType(n.default):void 0;return mo.default.factory.updateTypeParameterDeclaration(n,n.modifiers,n.name,r,s)})}resolveTypeReference(t){let e=mo.default.isIdentifier(t.typeName)?t.typeName:t.typeName.right,n=this.reflector.getDeclarationOfIdentifier(e);if(n===null||n.node===null)return null;if(this.isLocalTypeParameter(n.node))return t;let r=null;return typeof n.viaModule=="string"&&(r={specifier:n.viaModule,resolutionContext:t.getSourceFile().fileName}),new Yr(n.node,n.viaModule===vr?vr:r)}translateTypeReference(t,e){let n=this.resolveTypeReference(t);if(!(n instanceof Yr))return n;let r=e(n);if(r===null)return null;if(!mo.default.isTypeReferenceNode(r))throw new Error(`Expected TypeReferenceNode for emitted reference, got ${mo.default.SyntaxKind[r.kind]}.`);return r}isLocalTypeParameter(t){return this.typeParameters.some(e=>e===t)}},e1=[f.InputSignalBrandWriteType],xv;(function(t){t[t.MustInline=0]="MustInline",t[t.ShouldInlineForGenericBounds=1]="ShouldInlineForGenericBounds",t[t.None=2]="None"})(xv||(xv={}));function bk(t,e,n){return new Ak(t.typeParameters,e).canEmit(s=>n.canReferenceType(s))}function Nk(t,e,n){return!bk(t,e,n)}function xe(t){return Eo.default.factory.createParenthesizedExpression(t)}function Jr(t){return Eo.default.factory.createParenthesizedExpression(t)}function F(t,e){let n;e instanceof Ve?n=`${e.start},${e.end}`:n=`${e.start.offset},${e.end.offset}`,Eo.default.addSyntheticTrailingComment(t,Eo.default.SyntaxKind.MultiLineCommentTrivia,n,!1)}var Zr=b.default.factory.createAsExpression(b.default.factory.createNull(),b.default.factory.createKeywordTypeNode(b.default.SyntaxKind.AnyKeyword)),bp=b.default.factory.createIdentifier("undefined"),Rk=new Map([["+",b.default.SyntaxKind.PlusToken],["-",b.default.SyntaxKind.MinusToken]]),kk=new Map([["+",b.default.SyntaxKind.PlusToken],["-",b.default.SyntaxKind.MinusToken],["<",b.default.SyntaxKind.LessThanToken],[">",b.default.SyntaxKind.GreaterThanToken],["<=",b.default.SyntaxKind.LessThanEqualsToken],[">=",b.default.SyntaxKind.GreaterThanEqualsToken],["==",b.default.SyntaxKind.EqualsEqualsToken],["===",b.default.SyntaxKind.EqualsEqualsEqualsToken],["*",b.default.SyntaxKind.AsteriskToken],["/",b.default.SyntaxKind.SlashToken],["%",b.default.SyntaxKind.PercentToken],["!=",b.default.SyntaxKind.ExclamationEqualsToken],["!==",b.default.SyntaxKind.ExclamationEqualsEqualsToken],["||",b.default.SyntaxKind.BarBarToken],["&&",b.default.SyntaxKind.AmpersandAmpersandToken],["&",b.default.SyntaxKind.AmpersandToken],["|",b.default.SyntaxKind.BarToken],["??",b.default.SyntaxKind.QuestionQuestionToken]]);function Pk(t,e,n){return new Mk(e,n).translate(t)}var Mk=class{constructor(t,e){this.maybeResolve=t,this.config=e}translate(t){if(t instanceof Ie&&(t=t.ast),t instanceof Oe){let n=b.default.factory.createIdentifier("undefined");return F(n,t.sourceSpan),n}let e=this.maybeResolve(t);return e!==null?e:t.visit(this)}visitUnary(t){let e=this.translate(t.expr),n=Rk.get(t.operator);if(n===void 0)throw new Error(`Unsupported Unary.operator: ${t.operator}`);let r=xe(b.default.factory.createPrefixUnaryExpression(n,e));return F(r,t.sourceSpan),r}visitBinary(t){let e=xe(this.translate(t.left)),n=xe(this.translate(t.right)),r=kk.get(t.operation);if(r===void 0)throw new Error(`Unsupported Binary.operation: ${t.operation}`);let s=b.default.factory.createBinaryExpression(e,r,n);return F(s,t.sourceSpan),s}visitChain(t){let e=t.expressions.map(r=>this.translate(r)),n=xe(b.default.factory.createCommaListExpression(e));return F(n,t.sourceSpan),n}visitConditional(t){let e=this.translate(t.condition),n=this.translate(t.trueExp),r=Jr(this.translate(t.falseExp)),s=b.default.factory.createParenthesizedExpression(b.default.factory.createConditionalExpression(e,void 0,n,void 0,r));return F(s,t.sourceSpan),s}visitImplicitReceiver(t){throw new Error("Method not implemented.")}visitThisReceiver(t){throw new Error("Method not implemented.")}visitInterpolation(t){return t.expressions.reduce((e,n)=>b.default.factory.createBinaryExpression(e,b.default.SyntaxKind.PlusToken,Jr(this.translate(n))),b.default.factory.createStringLiteral(""))}visitKeyedRead(t){let e=xe(this.translate(t.receiver)),n=this.translate(t.key),r=b.default.factory.createElementAccessExpression(e,n);return F(r,t.sourceSpan),r}visitKeyedWrite(t){let e=xe(this.translate(t.receiver)),n=b.default.factory.createElementAccessExpression(e,this.translate(t.key)),r=Jr(this.translate(t.value)),s=xe(b.default.factory.createBinaryExpression(n,b.default.SyntaxKind.EqualsToken,r));return F(s,t.sourceSpan),s}visitLiteralArray(t){let e=t.expressions.map(s=>this.translate(s)),n=b.default.factory.createArrayLiteralExpression(e),r=this.config.strictLiteralTypes?n:Gn(n);return F(r,t.sourceSpan),r}visitLiteralMap(t){let e=t.keys.map(({key:s},i)=>{let o=this.translate(t.values[i]);return b.default.factory.createPropertyAssignment(b.default.factory.createStringLiteral(s),o)}),n=b.default.factory.createObjectLiteralExpression(e,!0),r=this.config.strictLiteralTypes?n:Gn(n);return F(r,t.sourceSpan),r}visitLiteralPrimitive(t){let e;if(t.value===void 0)e=b.default.factory.createIdentifier("undefined");else if(t.value===null)e=b.default.factory.createNull();else if(typeof t.value=="string")e=b.default.factory.createStringLiteral(t.value);else if(typeof t.value=="number")e=xk(t.value);else if(typeof t.value=="boolean")e=t.value?b.default.factory.createTrue():b.default.factory.createFalse();else throw Error(`Unsupported AST value of type ${typeof t.value}`);return F(e,t.sourceSpan),e}visitNonNullAssert(t){let e=xe(this.translate(t.expression)),n=b.default.factory.createNonNullExpression(e);return F(n,t.sourceSpan),n}visitPipe(t){throw new Error("Method not implemented.")}visitPrefixNot(t){let e=xe(this.translate(t.expression)),n=b.default.factory.createLogicalNot(e);return F(n,t.sourceSpan),n}visitPropertyRead(t){let e=xe(this.translate(t.receiver)),n=b.default.factory.createPropertyAccessExpression(e,t.name);F(n,t.nameSpan);let r=xe(n);return F(r,t.sourceSpan),r}visitPropertyWrite(t){let e=xe(this.translate(t.receiver)),n=b.default.factory.createPropertyAccessExpression(e,t.name);F(n,t.nameSpan);let r=xe(n);F(r,t.sourceSpan);let s=Jr(this.translate(t.value)),i=xe(b.default.factory.createBinaryExpression(r,b.default.SyntaxKind.EqualsToken,s));return F(i,t.sourceSpan),i}visitSafePropertyRead(t){let e,n=xe(this.translate(t.receiver));if(this.config.strictSafeNavigationTypes){let r=b.default.factory.createPropertyAccessExpression(b.default.factory.createNonNullExpression(n),t.name);F(r,t.nameSpan),e=b.default.factory.createParenthesizedExpression(b.default.factory.createConditionalExpression(Zr,void 0,r,void 0,bp))}else if(Np.veWillInferAnyFor(t))e=b.default.factory.createPropertyAccessExpression(Gn(n),t.name);else{let r=b.default.factory.createPropertyAccessExpression(b.default.factory.createNonNullExpression(n),t.name);F(r,t.nameSpan),e=Gn(r)}return F(e,t.sourceSpan),e}visitSafeKeyedRead(t){let e=xe(this.translate(t.receiver)),n=this.translate(t.key),r;if(this.config.strictSafeNavigationTypes){let s=b.default.factory.createElementAccessExpression(b.default.factory.createNonNullExpression(e),n);F(s,t.sourceSpan),r=b.default.factory.createParenthesizedExpression(b.default.factory.createConditionalExpression(Zr,void 0,s,void 0,bp))}else if(Np.veWillInferAnyFor(t))r=b.default.factory.createElementAccessExpression(Gn(e),n);else{let s=b.default.factory.createElementAccessExpression(b.default.factory.createNonNullExpression(e),n);F(s,t.sourceSpan),r=Gn(s)}return F(r,t.sourceSpan),r}visitCall(t){let e=t.args.map(i=>this.translate(i)),n,r=t.receiver;if(r instanceof be){let i=this.maybeResolve(r);if(i!==null)n=i;else{let o=xe(this.translate(r.receiver));n=b.default.factory.createPropertyAccessExpression(o,r.name),F(n,r.nameSpan)}}else n=this.translate(r);let s;return t.receiver instanceof Ct||t.receiver instanceof sr?s=this.convertToSafeCall(t,n,e):s=b.default.factory.createCallExpression(n,void 0,e),F(s,t.sourceSpan),s}visitSafeCall(t){let e=t.args.map(s=>this.translate(s)),n=xe(this.translate(t.receiver)),r=this.convertToSafeCall(t,n,e);return F(r,t.sourceSpan),r}convertToSafeCall(t,e,n){if(this.config.strictSafeNavigationTypes){let r=b.default.factory.createCallExpression(b.default.factory.createNonNullExpression(e),void 0,n);return b.default.factory.createParenthesizedExpression(b.default.factory.createConditionalExpression(Zr,void 0,r,void 0,bp))}return Np.veWillInferAnyFor(t)?b.default.factory.createCallExpression(Gn(e),void 0,n):Gn(b.default.factory.createCallExpression(b.default.factory.createNonNullExpression(e),void 0,n))}},sl=class{static veWillInferAnyFor(t){let e=sl.SINGLETON;return t instanceof ir?t.visit(e):t.receiver.visit(e)}visitUnary(t){return t.expr.visit(this)}visitBinary(t){return t.left.visit(this)||t.right.visit(this)}visitChain(t){return!1}visitConditional(t){return t.condition.visit(this)||t.trueExp.visit(this)||t.falseExp.visit(this)}visitCall(t){return!0}visitSafeCall(t){return!1}visitImplicitReceiver(t){return!1}visitThisReceiver(t){return!1}visitInterpolation(t){return t.expressions.some(e=>e.visit(this))}visitKeyedRead(t){return!1}visitKeyedWrite(t){return!1}visitLiteralArray(t){return!0}visitLiteralMap(t){return!0}visitLiteralPrimitive(t){return!1}visitPipe(t){return!0}visitPrefixNot(t){return t.expression.visit(this)}visitNonNullAssert(t){return t.expression.visit(this)}visitPropertyRead(t){return!1}visitPropertyWrite(t){return!1}visitSafePropertyRead(t){return!1}visitSafeKeyedRead(t){return!1}},Np=sl;sl.SINGLETON=new sl;var Cv;(function(t){t[t.UseEmitter=0]="UseEmitter",t[t.CopyClassNodes=1]="CopyClassNodes",t[t.FallbackToAny=2]="FallbackToAny"})(Cv||(Cv={}));var Se=class{circularFallback(){return eP}},Lk=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.element=n}get optional(){return!0}execute(){let t=this.tcb.allocateId(),e=wk(this.element.name);return F(e,this.element.startSourceSpan||this.element.sourceSpan),this.scope.addStatement(Hn(t,e)),t}},Ok=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.template=n,this.variable=r}get optional(){return!1}execute(){let t=this.scope.resolve(this.template),e=this.tcb.allocateId(),n=E.default.factory.createPropertyAccessExpression(t,this.variable.value||"$implicit");F(e,this.variable.keySpan);let r;return this.variable.valueSpan!==void 0?(F(n,this.variable.valueSpan),r=Hn(e,Jr(n))):r=Hn(e,n),F(r.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(r),e}},Fk=class extends Se{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword);return this.scope.addStatement(vo(t,e)),t}},Bk=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.node=n,this.optional=!1}execute(){let t=this.tcb.allocateId();F(t,this.node.nameSpan);let e=_t(this.node.value,this.tcb,this.scope),n=Hn(t,Jr(e),E.default.NodeFlags.Const);return F(n.declarationList.declarations[0],this.node.sourceSpan),this.scope.addStatement(n),t}},$k=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.template=n}get optional(){return!1}execute(){let t=[],e=this.tcb.boundTarget.getDirectivesOfNode(this.template);if(e!==null)for(let o of e){let a=this.scope.resolve(this.template,o),l=this.tcb.env.reference(o.ref);if(o.ngTemplateGuards.forEach(c=>{let u=this.template.inputs.find(h=>h.name===c.inputName)||this.template.templateAttrs.find(h=>h instanceof At&&h.name===c.inputName);if(u!==void 0){let h=_t(u.value,this.tcb,this.scope);if(Er(h),c.type==="binding")t.push(h);else{let d=Tv(l,`ngTemplateGuard_${c.inputName}`,[a,h]);F(d,u.value.sourceSpan),t.push(d)}}}),o.hasNgTemplateContextGuard)if(this.tcb.env.config.applyTemplateContextGuards){let c=this.scope.resolve(this.template),u=Tv(l,"ngTemplateContextGuard",[a,c]);F(u,this.template.sourceSpan),t.push(u)}else this.template.variables.length>0&&this.tcb.env.config.suggestionsForSuboptimalTypeInference&&this.tcb.oobRecorder.suboptimalTypeInference(this.tcb.id,this.template.variables)}let n=null;t.length>0&&(n=t.reduce((o,a)=>E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.AmpersandAmpersandToken,a),t.pop()));let s=So.forNodes(this.tcb,this.scope,this.template,this.template.children,n).render();if(s.length===0)return null;let i=E.default.factory.createBlock(s);return n!==null&&(i=E.default.factory.createIfStatement(n,i)),this.scope.addStatement(i),null}},nl=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.expression=n}get optional(){return!1}execute(){let t=_t(this.expression,this.tcb,this.scope);return this.scope.addStatement(E.default.factory.createExpressionStatement(t)),null}},Bv=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!0}execute(){let t=this.dir.ref,e=this.tcb.env.referenceType(this.dir.ref),n;if(this.dir.isGeneric===!1||t.node.typeParameters===void 0)n=e;else{if(!E.default.isTypeReferenceNode(e))throw new Error(`Expected TypeReferenceNode when referencing the type for ${this.dir.ref.debugName}`);let s=t.node.typeParameters.map(()=>E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword));n=E.default.factory.createTypeReferenceNode(e.typeName,s)}let r=this.tcb.allocateId();return wo(r,es.DIRECTIVE),F(r,this.node.startSourceSpan||this.node.sourceSpan),this.scope.addStatement(vo(r,n)),r}},Uk=class extends Bv{execute(){let t=this.dir.ref;if(this.dir.isGeneric)throw new Error(`Assertion Error: expected ${t.debugName} not to be generic.`);return super.execute()}},Vk=class extends Bv{execute(){let t=this.dir.ref;if(t.node.typeParameters===void 0)throw new Error(`Assertion Error: expected typeParameters when creating a declaration for ${t.debugName}`);return super.execute()}},Iv=class extends Se{constructor(t,e,n,r,s){super(),this.tcb=t,this.scope=e,this.node=n,this.host=r,this.target=s,this.optional=!0}execute(){let t=this.tcb.allocateId(),e=this.target instanceof se||this.target instanceof oe?this.scope.resolve(this.target):this.scope.resolve(this.host,this.target);return this.target instanceof oe&&!this.tcb.env.config.checkTypeOfDomReferences||!this.tcb.env.config.checkTypeOfNonDomReferences?e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)):this.target instanceof se&&(e=E.default.factory.createAsExpression(e,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),e=E.default.factory.createAsExpression(e,this.tcb.env.referenceExternalType("@angular/core","TemplateRef",[gr])),e=E.default.factory.createParenthesizedExpression(e)),F(e,this.node.sourceSpan),F(t,this.node.keySpan),this.scope.addStatement(Hn(t,e)),t}},qk=class extends Se{constructor(t,e){super(),this.tcb=t,this.scope=e,this.optional=!0}execute(){let t=this.tcb.allocateId();return this.scope.addStatement(Hn(t,Zr)),t}},Gk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!0}execute(){let t=this.tcb.allocateId();wo(t,es.DIRECTIVE),F(t,this.node.startSourceSpan||this.node.sourceSpan);let e=new Map,n=Uv(this.dir,this.node);for(let s of n)if(!(!this.tcb.env.config.checkTypeOfAttributes&&s.attribute instanceof It))for(let{fieldName:i,isTwoWayBinding:o}of s.inputs){if(e.has(i))continue;let a=Vv(s.attribute,this.tcb,this.scope);e.set(i,{type:"binding",field:i,expression:a,sourceSpan:s.attribute.sourceSpan,isTwoWayBinding:o})}for(let{classPropertyName:s}of this.dir.inputs)e.has(s)||e.set(s,{type:"unset",field:s});let r=tP(this.dir,this.tcb,Array.from(e.values()));return Er(r),this.scope.addStatement(Hn(t,r)),t}circularFallback(){return new Wk(this.tcb,this.scope,this.node,this.dir)}},Hk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=null,e=Uv(this.dir,this.node),n=new Set;for(let r of e){let s=Vp(Vv(r.attribute,this.tcb,this.scope),this.tcb),i=xe(s);for(let{fieldName:o,required:a,transformType:l,isSignal:c,isTwoWayBinding:u}of r.inputs){let h;if(a&&n.add(o),this.dir.coercedInputFields.has(o)){let d;if(l!==null)d=this.tcb.env.referenceTransplantedType(new Ss(l));else{let y=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(y))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);d=Tk(y.typeName,o)}let g=this.tcb.allocateId();this.scope.addStatement(vo(g,d)),h=g}else{if(this.dir.undeclaredInputFields.has(o))continue;if(!this.tcb.env.config.honorAccessModifiersForInputBindings&&this.dir.restrictedInputFields.has(o)){t===null&&(t=this.scope.resolve(this.node,this.dir));let d=this.tcb.allocateId(),g=this.tcb.env.referenceType(this.dir.ref);if(!E.default.isTypeReferenceNode(g))throw new Error(`Expected TypeReferenceNode from reference to ${this.dir.ref.debugName}`);let y=E.default.factory.createIndexedAccessTypeNode(E.default.factory.createTypeQueryNode(t),E.default.factory.createLiteralTypeNode(E.default.factory.createStringLiteral(o))),C=vo(d,y);this.scope.addStatement(C),h=d}else t===null&&(t=this.scope.resolve(this.node,this.dir)),h=this.dir.stringLiteralInputFields.has(o)?E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(o)):E.default.factory.createPropertyAccessExpression(t,E.default.factory.createIdentifier(o))}if(c){let d=this.tcb.env.referenceExternalSymbol(f.InputSignalBrandWriteType.moduleName,f.InputSignalBrandWriteType.name);if(!E.default.isIdentifier(d)&&!E.default.isPropertyAccessExpression(d))throw new Error(`Expected identifier or property access for reference to ${f.InputSignalBrandWriteType.name}`);h=E.default.factory.createElementAccessExpression(h,d)}r.attribute.keySpan!==void 0&&F(h,r.attribute.keySpan),u&&this.tcb.env.config.allowSignalsInTwoWayBindings&&(i=qv(i,this.tcb)),i=E.default.factory.createBinaryExpression(h,E.default.SyntaxKind.EqualsToken,i)}F(i,r.attribute.sourceSpan),!this.tcb.env.config.checkTypeOfAttributes&&r.attribute instanceof It&&Er(i),this.scope.addStatement(E.default.factory.createExpressionStatement(i))}return this.checkRequiredInputs(n),null}checkRequiredInputs(t){let e=[];for(let n of this.dir.inputs)n.required&&!t.has(n.classPropertyName)&&e.push(n.bindingPropertyName);e.length>0&&this.tcb.oobRecorder.missingRequiredInputs(this.tcb.id,this.node,this.dir.name,this.dir.isComponent,e)}},Wk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=this.tcb.allocateId(),e=this.tcb.env.typeCtorFor(this.dir),n=E.default.factory.createCallExpression(e,void 0,[E.default.factory.createNonNullExpression(E.default.factory.createNull())]);return this.scope.addStatement(Hn(t,n)),t}},Dp=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.element=e,this.checkElement=n,this.claimedInputs=r}get optional(){return!1}execute(){var t;this.checkElement&&this.tcb.domSchemaChecker.checkElement(this.tcb.id,this.element,this.tcb.schemas,this.tcb.hostIsStandalone);for(let e of this.element.inputs){let n=e.type===K.Property||e.type===K.TwoWay;if(!(n&&this.claimedInputs.has(e.name))&&n&&e.name!=="style"&&e.name!=="class"){let r=(t=$v.get(e.name))!=null?t:e.name;this.tcb.domSchemaChecker.checkProperty(this.tcb.id,this.element,r,e.sourceSpan,this.tcb.schemas,this.tcb.hostIsStandalone)}}return null}},jk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.element=e,this.ngContentSelectors=n,this.componentName=r,this.optional=!1,this.category=t.env.config.controlFlowPreventingContentProjection==="error"?E.default.DiagnosticCategory.Error:E.default.DiagnosticCategory.Warning}execute(){let t=this.findPotentialControlFlowNodes();if(t.length>0){let e=new er;for(let n of this.ngContentSelectors)n!=="*"&&e.addSelectables(Yt.parse(n),n);for(let n of t)for(let r of n.children)(r instanceof oe||r instanceof se)&&e.match(pu(r),(s,i)=>{this.tcb.oobRecorder.controlFlowPreventingContentProjection(this.tcb.id,this.category,r,this.componentName,i,n,this.tcb.hostPreserveWhitespaces)})}return null}findPotentialControlFlowNodes(){let t=[];for(let e of this.element.children)if(e instanceof yn)this.shouldCheck(e)&&t.push(e),e.empty!==null&&this.shouldCheck(e.empty)&&t.push(e.empty);else if(e instanceof Br)for(let n of e.branches)this.shouldCheck(n)&&t.push(n);else if(e instanceof Fr)for(let n of e.cases)this.shouldCheck(n)&&t.push(n);return t}shouldCheck(t){if(t.children.length<2)return!1;let e=!1;for(let n of t.children)if(!(n instanceof jt)||this.tcb.hostPreserveWhitespaces||n.value.trim().length>0){if(e)return!0;e=!0}return!1}},$v=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),Av=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedInputs=r}get optional(){return!1}execute(){var t;let e=null;for(let n of this.element.inputs){let r=n.type===K.Property||n.type===K.TwoWay;if(r&&this.claimedInputs.has(n.name))continue;let s=Vp(_t(n.value,this.tcb,this.scope),this.tcb);if(this.tcb.env.config.checkTypeOfDomBindings&&r)if(n.name!=="style"&&n.name!=="class"){e===null&&(e=this.scope.resolve(this.element));let i=(t=$v.get(n.name))!=null?t:n.name,o=E.default.factory.createElementAccessExpression(e,E.default.factory.createStringLiteral(i)),a=E.default.factory.createBinaryExpression(o,E.default.SyntaxKind.EqualsToken,xe(s));F(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else this.scope.addStatement(E.default.factory.createExpressionStatement(s));else this.scope.addStatement(E.default.factory.createExpressionStatement(s))}return null}},Kk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.node=n,this.dir=r}get optional(){return!1}execute(){let t=null,e=this.dir.outputs;for(let n of this.node.outputs){if(n.type===Ge.Animation||!e.hasBindingPropertyName(n.name))continue;if(this.tcb.env.config.checkTypeOfOutputEvents&&n.name.endsWith("Change")){let i=n.name.slice(0,-6);Gv(i,n,this.node.inputs,this.tcb)}let r=e.getByBindingPropertyName(n.name)[0].classPropertyName;t===null&&(t=this.scope.resolve(this.node,this.dir));let s=E.default.factory.createElementAccessExpression(t,E.default.factory.createStringLiteral(r));if(F(s,n.keySpan),this.tcb.env.config.checkTypeOfOutputEvents){let i=go(n,this.tcb,this.scope,0),o=E.default.factory.createPropertyAccessExpression(s,"subscribe"),a=E.default.factory.createCallExpression(o,void 0,[i]);F(a,n.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(a))}else{this.scope.addStatement(E.default.factory.createExpressionStatement(s));let i=go(n,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(i))}}return null}},bv=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.element=n,this.claimedOutputs=r}get optional(){return!1}execute(){let t=null;for(let e of this.element.outputs)if(!this.claimedOutputs.has(e.name)){if(this.tcb.env.config.checkTypeOfOutputEvents&&e.name.endsWith("Change")){let n=e.name.slice(0,-6);if(Gv(n,e,this.element.inputs,this.tcb))continue}if(e.type===Ge.Animation){let n=this.tcb.env.config.checkTypeOfAnimationEvents?this.tcb.env.referenceExternalType("@angular/animations","AnimationEvent"):1,r=go(e,this.tcb,this.scope,n);this.scope.addStatement(E.default.factory.createExpressionStatement(r))}else if(this.tcb.env.config.checkTypeOfDomEvents){let n=go(e,this.tcb,this.scope,0);t===null&&(t=this.scope.resolve(this.element));let r=E.default.factory.createPropertyAccessExpression(t,"addEventListener");F(r,e.keySpan);let s=E.default.factory.createCallExpression(r,void 0,[E.default.factory.createStringLiteral(e.name),n]);F(s,e.sourceSpan),this.scope.addStatement(E.default.factory.createExpressionStatement(s))}else{let n=go(e,this.tcb,this.scope,1);this.scope.addStatement(E.default.factory.createExpressionStatement(n))}}return null}},zk=class extends Se{constructor(t){super(),this.scope=t,this.optional=!1}execute(){let t=E.default.factory.createThis(),e=E.default.factory.createPropertyAccessExpression(t,"");return Er(e),wo(e,es.COMPONENT_COMPLETION),this.scope.addStatement(E.default.factory.createExpressionStatement(e)),null}},Xk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.initializer=n,this.variable=r}get optional(){return!1}execute(){let t=this.tcb.allocateId();F(t,this.variable.keySpan);let e=Hn(t,Jr(this.initializer));return F(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},Yk=class extends Se{constructor(t,e,n,r){super(),this.tcb=t,this.scope=e,this.type=n,this.variable=r,this.optional=!0}execute(){let t=this.tcb.allocateId();F(t,this.variable.keySpan);let e=vo(t,this.type);return F(e.declarationList.declarations[0],this.variable.sourceSpan),this.scope.addStatement(e),t}},Qk=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n,this.expressionScopes=new Map}get optional(){return!1}execute(){let t=this.generateBranch(0);return t&&this.scope.addStatement(t),null}generateBranch(t){let e=this.block.branches[t];if(!e)return;if(e.expression===null){let i=this.getBranchScope(this.scope,e,t);return E.default.factory.createBlock(i.render())}let n=So.forNodes(this.tcb,this.scope,e,[],null);n.render().forEach(i=>this.scope.addStatement(i)),this.expressionScopes.set(e,n);let r=_t(e.expression,this.tcb,n);e.expressionAlias!==null&&(r=E.default.factory.createBinaryExpression(E.default.factory.createParenthesizedExpression(r),E.default.SyntaxKind.AmpersandAmpersandToken,n.resolve(e.expressionAlias)));let s=this.getBranchScope(n,e,t);return E.default.factory.createIfStatement(r,E.default.factory.createBlock(s.render()),this.generateBranch(t+1))}getBranchScope(t,e,n){let r=this.tcb.env.config.checkControlFlowBodies;return So.forNodes(this.tcb,t,null,r?e.children:[],r?this.generateBranchGuard(n):null)}generateBranchGuard(t){let e=null;for(let n=0;n<=t;n++){let r=this.block.branches[n];if(r.expression===null)continue;if(!this.expressionScopes.has(r))throw new Error(`Could not determine expression scope of branch at index ${n}`);let s=this.expressionScopes.get(r),i;i=_t(r.expression,this.tcb,s),r.expressionAlias!==null&&(i=E.default.factory.createBinaryExpression(E.default.factory.createParenthesizedExpression(i),E.default.SyntaxKind.AmpersandAmpersandToken,s.resolve(r.expressionAlias))),Er(i);let o=n===t?i:E.default.factory.createPrefixUnaryExpression(E.default.SyntaxKind.ExclamationToken,E.default.factory.createParenthesizedExpression(i));e=e===null?o:E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.AmpersandAmpersandToken,o)}return e}},Jk=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=_t(this.block.expression,this.tcb,this.scope),e=this.block.cases.map(n=>{let r=this.tcb.env.config.checkControlFlowBodies,s=So.forNodes(this.tcb,this.scope,null,r?n.children:[],r?this.generateGuard(n,t):null),i=[...s.render(),E.default.factory.createBreakStatement()];return n.expression===null?E.default.factory.createDefaultClause(i):E.default.factory.createCaseClause(_t(n.expression,this.tcb,s),i)});return this.scope.addStatement(E.default.factory.createSwitchStatement(t,E.default.factory.createCaseBlock(e))),null}generateGuard(t,e){if(t.expression!==null){let r=_t(t.expression,this.tcb,this.scope);return Er(r),E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.EqualsEqualsEqualsToken,r)}let n=null;for(let r of this.block.cases){if(r.expression===null)continue;let s=_t(r.expression,this.tcb,this.scope);Er(s);let i=E.default.factory.createBinaryExpression(e,E.default.SyntaxKind.ExclamationEqualsEqualsToken,s);n===null?n=i:n=E.default.factory.createBinaryExpression(n,E.default.SyntaxKind.AmpersandAmpersandToken,i)}return n}},Zk=class extends Se{constructor(t,e,n){super(),this.tcb=t,this.scope=e,this.block=n}get optional(){return!1}execute(){let t=So.forNodes(this.tcb,this.scope,this.block,this.tcb.env.config.checkControlFlowBodies?this.block.children:[],null),e=t.resolve(this.block.item);if(!E.default.isIdentifier(e))throw new Error(`Could not resolve for loop variable ${this.block.item.name} to an identifier`);let n=E.default.factory.createVariableDeclarationList([E.default.factory.createVariableDeclaration(e)],E.default.NodeFlags.Const);F(n,this.block.item.keySpan);let r=E.default.factory.createNonNullExpression(_t(this.block.expression,this.tcb,t)),i=new sP(this.tcb,t,this.block).translate(this.block.trackBy),o=[...t.render(),E.default.factory.createExpressionStatement(i)];return this.scope.addStatement(E.default.factory.createForOfStatement(void 0,n,r,E.default.factory.createBlock(o))),null}},eP=E.default.factory.createNonNullExpression(E.default.factory.createNull());var $p=class{constructor(t,e=null,n=null){this.tcb=t,this.parent=e,this.guard=n,this.opQueue=[],this.elementOpMap=new Map,this.directiveOpMap=new Map,this.referenceOpMap=new Map,this.templateCtxOpMap=new Map,this.varMap=new Map,this.letDeclOpMap=new Map,this.statements=[]}static forNodes(t,e,n,r,s){let i=new $p(t,e,s);if(e===null&&t.env.config.enableTemplateTypeChecker&&i.opQueue.push(new zk(i)),n instanceof se){let o=new Map;for(let a of n.variables){if(!o.has(a.name))o.set(a.name,a);else{let l=o.get(a.name);t.oobRecorder.duplicateTemplateVar(t.id,a,l)}this.registerVariable(i,a,new Ok(t,i,n,a))}}else if(n instanceof bn){let{expression:o,expressionAlias:a}=n;o!==null&&a!==null&&this.registerVariable(i,a,new Xk(t,i,_t(o,t,i),a))}else if(n instanceof yn){let o=t.allocateId();F(o,n.item.sourceSpan),i.varMap.set(n.item,o);for(let a of n.contextVariables){if(!this.forLoopContextVariableTypes.has(a.value))throw new Error(`Unrecognized for loop context variable ${a.name}`);let l=E.default.factory.createKeywordTypeNode(this.forLoopContextVariableTypes.get(a.value));this.registerVariable(i,a,new Yk(t,i,l,a))}}for(let o of r)if(i.appendNode(o),o instanceof mt){let a=i.opQueue.push(new Bk(t,i,o))-1;i.letDeclOpMap.has(o.name)?t.oobRecorder.duplicateLetDeclaration(t.id,o):i.letDeclOpMap.set(o.name,a)}return i}static registerVariable(t,e,n){let r=t.opQueue.push(n)-1;t.varMap.set(e,r)}resolve(t,e){let n=this.resolveLocal(t,e);if(n!==null){let r;if(E.default.isIdentifier(n))r=E.default.factory.createIdentifier(n.text);else if(E.default.isNonNullExpression(n))r=E.default.factory.createNonNullExpression(n.expression);else throw new Error(`Could not resolve ${t} to an Identifier or a NonNullExpression`);return E.default.setOriginalNode(r,n),r.parent=r.parent,E.default.setSyntheticTrailingComments(r,[])}else{if(this.parent!==null)return this.parent.resolve(t,e);throw new Error(`Could not resolve ${t} / ${e}`)}}addStatement(t){this.statements.push(t)}render(){for(let t=0;t<this.opQueue.length;t++){let e=!this.tcb.env.config.enableTemplateTypeChecker;this.executeOp(t,e)}return this.statements}guards(){let t=null;return this.parent!==null&&(t=this.parent.guards()),this.guard===null?t:t===null?this.guard:E.default.factory.createBinaryExpression(t,E.default.SyntaxKind.AmpersandAmpersandToken,this.guard)}isLocal(t){return t instanceof at?this.varMap.has(t):t instanceof mt?this.letDeclOpMap.has(t.name):this.referenceOpMap.has(t)}resolveLocal(t,e){if(t instanceof vn&&this.referenceOpMap.has(t))return this.resolveOp(this.referenceOpMap.get(t));if(t instanceof mt&&this.letDeclOpMap.has(t.name))return this.resolveOp(this.letDeclOpMap.get(t.name));if(t instanceof at&&this.varMap.has(t)){let n=this.varMap.get(t);return typeof n=="number"?this.resolveOp(n):n}else{if(t instanceof se&&e===void 0&&this.templateCtxOpMap.has(t))return this.resolveOp(this.templateCtxOpMap.get(t));if((t instanceof oe||t instanceof se)&&e!==void 0&&this.directiveOpMap.has(t)){let n=this.directiveOpMap.get(t);return n.has(e)?this.resolveOp(n.get(e)):null}else return t instanceof oe&&this.elementOpMap.has(t)?this.resolveOp(this.elementOpMap.get(t)):null}}resolveOp(t){let e=this.executeOp(t,!1);if(e===null)throw new Error("Error resolving operation, got null");return e}executeOp(t,e){let n=this.opQueue[t];if(!(n instanceof Se))return n;if(e&&n.optional)return null;this.opQueue[t]=n.circularFallback();let r=n.execute();return this.opQueue[t]=r,r}appendNode(t){if(t instanceof oe){let e=this.opQueue.push(new Lk(this.tcb,this,t))-1;this.elementOpMap.set(t,e),this.tcb.env.config.controlFlowPreventingContentProjection!=="suppress"&&this.appendContentProjectionCheckOp(t),this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t),this.appendChildren(t),this.checkAndAppendReferencesOfNode(t)}else if(t instanceof se){this.appendDirectivesAndInputsOfNode(t),this.appendOutputsOfNode(t);let e=this.opQueue.push(new Fk(this.tcb,this))-1;this.templateCtxOpMap.set(t,e),this.tcb.env.config.checkTemplateBodies?this.opQueue.push(new $k(this.tcb,this,t)):this.tcb.env.config.alwaysCheckSchemaInTemplateBodies&&this.appendDeepSchemaChecks(t.children),this.checkAndAppendReferencesOfNode(t)}else t instanceof Ln?this.appendDeferredBlock(t):t instanceof Br?this.opQueue.push(new Qk(this.tcb,this,t)):t instanceof Fr?this.opQueue.push(new Jk(this.tcb,this,t)):t instanceof yn?(this.opQueue.push(new Zk(this.tcb,this,t)),t.empty&&this.tcb.env.config.checkControlFlowBodies&&this.appendChildren(t.empty)):t instanceof Pn?this.opQueue.push(new nl(this.tcb,this,t.value)):t instanceof Rs?this.appendIcuExpressions(t):t instanceof lr&&this.appendChildren(t)}appendChildren(t){for(let e of t.children)this.appendNode(e)}checkAndAppendReferencesOfNode(t){for(let e of t.references){let n=this.tcb.boundTarget.getReferenceTarget(e),r;n===null?(this.tcb.oobRecorder.missingReferenceTarget(this.tcb.id,e),r=this.opQueue.push(new qk(this.tcb,this))-1):n instanceof se||n instanceof oe?r=this.opQueue.push(new Iv(this.tcb,this,e,t,n))-1:r=this.opQueue.push(new Iv(this.tcb,this,e,t,n.directive))-1,this.referenceOpMap.set(e,r)}}appendDirectivesAndInputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof oe&&(this.opQueue.push(new Av(this.tcb,this,t,e)),this.opQueue.push(new Dp(this.tcb,t,!0,e)));return}else t instanceof oe&&!this.tcb.boundTarget.isDeferred(t)&&n.some(i=>i.isExplicitlyDeferred)&&this.tcb.oobRecorder.deferredComponentUsedEagerly(this.tcb.id,t);let r=new Map;for(let s of n){let i,o=this.tcb.env.reflector,a=s.ref;s.isGeneric?!Nk(a.node,o,this.tcb.env)||this.tcb.env.config.useInlineTypeConstructors?i=new Gk(this.tcb,this,t,s):i=new Vk(this.tcb,this,t,s):i=new Uk(this.tcb,this,t,s);let l=this.opQueue.push(i)-1;r.set(s,l),this.opQueue.push(new Hk(this.tcb,this,t,s))}if(this.directiveOpMap.set(t,r),t instanceof oe){for(let i of n)for(let o of i.inputs.propertyNames)e.add(o);this.opQueue.push(new Av(this.tcb,this,t,e));let s=n.length===0;this.opQueue.push(new Dp(this.tcb,t,s,e))}}appendOutputsOfNode(t){let e=new Set,n=this.tcb.boundTarget.getDirectivesOfNode(t);if(n===null||n.length===0){t instanceof oe&&this.opQueue.push(new bv(this.tcb,this,t,e));return}for(let r of n)this.opQueue.push(new Kk(this.tcb,this,t,r));if(t instanceof oe){for(let r of n)for(let s of r.outputs.propertyNames)e.add(s);this.opQueue.push(new bv(this.tcb,this,t,e))}}appendDeepSchemaChecks(t){for(let e of t)if(e instanceof oe||e instanceof se){if(e instanceof oe){let n=new Set,r=this.tcb.boundTarget.getDirectivesOfNode(e),s;if(r===null||r.length===0)s=!1;else{s=!0;for(let i of r)for(let o of i.inputs.propertyNames)n.add(o)}this.opQueue.push(new Dp(this.tcb,e,!s,n))}this.appendDeepSchemaChecks(e.children)}}appendIcuExpressions(t){for(let e of Object.values(t.vars))this.opQueue.push(new nl(this.tcb,this,e.value));for(let e of Object.values(t.placeholders))e instanceof Pn&&this.opQueue.push(new nl(this.tcb,this,e.value))}appendContentProjectionCheckOp(t){var e;let n=((e=this.tcb.boundTarget.getDirectivesOfNode(t))==null?void 0:e.find(r=>r.isComponent))||null;if(n!==null&&n.ngContentSelectors!==null&&n.ngContentSelectors.length>0){let r=n.ngContentSelectors;(r.length>1||r.length===1&&r[0]!=="*")&&this.opQueue.push(new jk(this.tcb,t,r,n.name))}}appendDeferredBlock(t){this.appendDeferredTriggers(t,t.triggers),this.appendDeferredTriggers(t,t.prefetchTriggers),this.appendChildren(t),t.placeholder!==null&&this.appendChildren(t.placeholder),t.loading!==null&&this.appendChildren(t.loading),t.error!==null&&this.appendChildren(t.error)}appendDeferredTriggers(t,e){e.when!==void 0&&this.opQueue.push(new nl(this.tcb,this,e.when.value)),e.hover!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.hover),e.interaction!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.interaction),e.viewport!==void 0&&this.appendReferenceBasedDeferredTrigger(t,e.viewport)}appendReferenceBasedDeferredTrigger(t,e){this.tcb.boundTarget.getDeferredTriggerTarget(t,e)===null&&this.tcb.oobRecorder.inaccessibleDeferredTriggerElement(this.tcb.id,e)}},So=$p;$p.forLoopContextVariableTypes=new Map([["$first",E.default.SyntaxKind.BooleanKeyword],["$last",E.default.SyntaxKind.BooleanKeyword],["$even",E.default.SyntaxKind.BooleanKeyword],["$odd",E.default.SyntaxKind.BooleanKeyword],["$index",E.default.SyntaxKind.NumberKeyword],["$count",E.default.SyntaxKind.NumberKeyword]]);function _t(t,e,n){return new Up(e,n).translate(t)}var Up=class{constructor(t,e){this.tcb=t,this.scope=e}translate(t){return Pk(t,e=>this.resolve(e),this.tcb.env.config)}resolve(t){if(t instanceof be&&t.receiver instanceof Me){let e=this.tcb.boundTarget.getExpressionTarget(t);return e instanceof mt&&this.validateLetDeclarationAccess(e,t),e===null?null:this.getTargetNodeExpression(e,t)}else if(t instanceof Rn&&t.receiver instanceof Me){let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.getTargetNodeExpression(e,t),r=this.translate(t.value),s=E.default.factory.createParenthesizedExpression(E.default.factory.createBinaryExpression(n,E.default.SyntaxKind.EqualsToken,r));return F(s,t.sourceSpan),e instanceof mt&&(Er(s),this.tcb.oobRecorder.illegalWriteToLetDeclaration(this.tcb.id,t,e)),s}else{if(t instanceof Me)return E.default.factory.createThis();if(t instanceof Lr){let e=this.translate(t.exp),n=this.tcb.getPipeByName(t.name),r;n===null?(this.tcb.oobRecorder.missingPipe(this.tcb.id,t),r=Zr):n.isExplicitlyDeferred&&this.tcb.boundTarget.getEagerlyUsedPipes().includes(t.name)?(this.tcb.oobRecorder.deferredPipeUsedEagerly(this.tcb.id,t),r=Zr):r=this.tcb.env.pipeInst(n.ref);let s=t.args.map(a=>this.translate(a)),i=E.default.factory.createPropertyAccessExpression(r,"transform");F(i,t.nameSpan),this.tcb.env.config.checkTypeOfPipes||(i=E.default.factory.createAsExpression(i,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)));let o=E.default.factory.createCallExpression(i,void 0,[e,...s]);return F(o,t.sourceSpan),o}else if((t instanceof ir||t instanceof or)&&(t.receiver instanceof be||t.receiver instanceof Ct)){if(t.receiver.receiver instanceof Me&&!(t.receiver.receiver instanceof fn)&&t.receiver.name==="$any"&&t.args.length===1){let o=this.translate(t.args[0]),a=E.default.factory.createAsExpression(o,E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword)),l=E.default.factory.createParenthesizedExpression(a);return F(l,t.sourceSpan),l}let e=this.tcb.boundTarget.getExpressionTarget(t);if(e===null)return null;let n=this.getTargetNodeExpression(e,t),r=xe(n);F(r,t.receiver.nameSpan);let s=t.args.map(o=>this.translate(o)),i=E.default.factory.createCallExpression(r,void 0,s);return F(i,t.sourceSpan),i}else return null}}getTargetNodeExpression(t,e){let n=this.scope.resolve(t);return F(n,e.sourceSpan),n}validateLetDeclarationAccess(t,e){let n=t.sourceSpan.start.offset,r=t.sourceSpan.end.offset,s=e.sourceSpan.start;(n>s||s>=n&&s<=r)&&this.scope.isLocal(t)&&this.tcb.oobRecorder.letUsedBeforeDefinition(this.tcb.id,e,t)}};function tP(t,e,n){let r=e.env.typeCtorFor(t),s=n.map(i=>{let o=E.default.factory.createStringLiteral(i.field);if(i.type==="binding"){let a=Vp(i.expression,e);i.isTwoWayBinding&&e.env.config.allowSignalsInTwoWayBindings&&(a=qv(a,e));let l=E.default.factory.createPropertyAssignment(o,xe(a));return F(l,i.sourceSpan),l}else return E.default.factory.createPropertyAssignment(o,Zr)});return E.default.factory.createCallExpression(r,void 0,[E.default.factory.createObjectLiteralExpression(s)])}function Uv(t,e){let n=[],r=s=>{if(s instanceof At&&s.type!==K.Property&&s.type!==K.TwoWay)return;let i=t.inputs.getByBindingPropertyName(s.name);i!==null&&n.push({attribute:s,inputs:i.map(o=>{var a;return{fieldName:o.classPropertyName,required:o.required,transformType:((a=o.transform)==null?void 0:a.type)||null,isSignal:o.isSignal,isTwoWayBinding:s instanceof At&&s.type===K.TwoWay}})})};return e.inputs.forEach(r),e.attributes.forEach(r),e instanceof se&&e.templateAttrs.forEach(r),n}function Vv(t,e,n){return t instanceof At?_t(t.value,e,n):E.default.factory.createStringLiteral(t.value)}function Vp(t,e){return e.env.config.checkTypeOfInputBindings?e.env.config.strictNullInputBindings||E.default.isObjectLiteralExpression(t)||E.default.isArrayLiteralExpression(t)?t:E.default.factory.createNonNullExpression(t):Gn(t)}function qv(t,e){let n=e.env.referenceExternalSymbol(f.unwrapWritableSignal.moduleName,f.unwrapWritableSignal.name);return E.default.factory.createCallExpression(n,void 0,[t])}var Lp="$event";function go(t,e,n,r){let s=nP(t.handler,e,n),i;r===0?i=void 0:r===1?i=E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword):i=r;let o=n.guards(),a=E.default.factory.createExpressionStatement(s);o!==null&&(a=E.default.factory.createIfStatement(o,a));let l=E.default.factory.createParameterDeclaration(void 0,void 0,Lp,void 0,i);return wo(l,es.EVENT_PARAMETER),E.default.factory.createArrowFunction(void 0,void 0,[l],E.default.factory.createKeywordTypeNode(E.default.SyntaxKind.AnyKeyword),void 0,E.default.factory.createBlock([a]))}function nP(t,e,n){return new rP(e,n).translate(t)}function Gv(t,e,n,r){let s=n.find(a=>a.name===t);if(s===void 0||s.sourceSpan!==e.sourceSpan)return!1;let i=r.boundTarget.getConsumerOfBinding(s),o=r.boundTarget.getConsumerOfBinding(e);return o===null||i.ref===void 0||o instanceof se?!1:o instanceof oe?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o),!0):o.ref!==i.ref?(r.oobRecorder.splitTwoWayBinding(r.id,s,e,i.ref.node,o.ref.node),!0):!1}var rP=class extends Up{resolve(t){if(t instanceof be&&t.receiver instanceof Me&&!(t.receiver instanceof fn)&&t.name===Lp){let e=E.default.factory.createIdentifier(Lp);return F(e,t.nameSpan),e}return super.resolve(t)}validateLetDeclarationAccess(){}},sP=class extends Up{constructor(t,e,n){super(t,e),this.block=n,this.allowedVariables=new Set([n.item]);for(let r of n.contextVariables)r.value==="$index"&&this.allowedVariables.add(r)}resolve(t){if(t instanceof be&&t.receiver instanceof Me){let e=this.tcb.boundTarget.getExpressionTarget(t);e!==null&&(!(e instanceof at)||!this.allowedVariables.has(e))&&this.tcb.oobRecorder.illegalForLoopTrackAccess(this.tcb.id,this.block,t)}return super.resolve(t)}};var Nv;(function(t){t[t.InlineOps=0]="InlineOps",t[t.Error=1]="Error"})(Nv||(Nv={}));var a1=new sn;var aP=new Set(["WritableSignal","Signal","InputSignal","InputSignalWithTransform","ModelSignal"]);function Dv(t){return(t.kind===Dt.Expression||t.kind===Dt.Variable||t.kind===Dt.LetDeclaration)&&(t.tsType.symbol!==void 0&&_v(t.tsType.symbol)||t.tsType.aliasSymbol!==void 0&&_v(t.tsType.aliasSymbol))}function _v(t){let e=t.getDeclarations();return e!==void 0&&e.some(n=>{let r=n.getSourceFile().fileName;return(Op.default.isInterfaceDeclaration(n)||Op.default.isTypeAliasDeclaration(n))&&aP.has(n.name.text)&&(r.includes("@angular/core")||r.includes("angular2/rc/packages/core"))})}var Sr=class{run(t,e,n){return new lP(t,e,this).getDiagnostics(n)}},lP=class extends ar{constructor(t,e,n){super(),this.ctx=t,this.component=e,this.check=n,this.diagnostics=[]}visit(t,e){this.diagnostics.push(...this.check.visitNode(this.ctx,this.component,t)),t.visit(this)}visitAllNodes(t){for(let e of t)this.visit(e)}visitAst(t){t instanceof Ie&&(t=t.ast),this.visit(t)}visitElement(t){this.visitAllNodes(t.attributes),this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitTemplate(t){this.visitAllNodes(t.attributes),t.tagName==="ng-template"&&(this.visitAllNodes(t.inputs),this.visitAllNodes(t.outputs),this.visitAllNodes(t.templateAttrs)),this.visitAllNodes(t.variables),this.visitAllNodes(t.references),this.visitAllNodes(t.children)}visitContent(t){this.visitAllNodes(t.children)}visitVariable(t){}visitReference(t){}visitTextAttribute(t){}visitUnknownBlock(t){}visitBoundAttribute(t){this.visitAst(t.value)}visitBoundEvent(t){this.visitAst(t.handler)}visitText(t){}visitBoundText(t){this.visitAst(t.value)}visitIcu(t){}visitDeferredBlock(t){t.visitAll(this)}visitDeferredTrigger(t){t instanceof _s&&this.visitAst(t.value)}visitDeferredBlockPlaceholder(t){this.visitAllNodes(t.children)}visitDeferredBlockError(t){this.visitAllNodes(t.children)}visitDeferredBlockLoading(t){this.visitAllNodes(t.children)}visitSwitchBlock(t){this.visitAst(t.expression),this.visitAllNodes(t.cases)}visitSwitchBlockCase(t){t.expression&&this.visitAst(t.expression),this.visitAllNodes(t.children)}visitForLoopBlock(t){var e;t.item.visit(this),this.visitAllNodes(t.contextVariables),this.visitAst(t.expression),this.visitAllNodes(t.children),(e=t.empty)==null||e.visit(this)}visitForLoopBlockEmpty(t){this.visitAllNodes(t.children)}visitIfBlock(t){this.visitAllNodes(t.branches)}visitIfBlockBranch(t){var e;t.expression&&this.visitAst(t.expression),(e=t.expressionAlias)==null||e.visit(this),this.visitAllNodes(t.children)}visitLetDeclaration(t){this.visitAst(t.value)}getDiagnostics(t){return this.diagnostics=[],this.visitAllNodes(t),this.diagnostics}},cP=new Set(["set","update","asReadonly"]),uP=new Set(["name","length","prototype"]),pP=class extends Sr{constructor(){super(...arguments),this.code=ee.INTERPOLATED_SIGNAL_NOT_INVOKED}visitNode(t,e,n){if(n instanceof kn)return n.expressions.filter(r=>r instanceof be).flatMap(r=>Rv(t,r,e));if(n instanceof At){let r=t.templateTypeChecker.getSymbolOfNode(n,e);if(r!==null&&r.kind===Dt.Input)return[];if((n.type===K.Property||n.type===K.Class||n.type===K.Style||n.type===K.Attribute||n.type===K.Animation)&&n.value instanceof Ie&&n.value.ast instanceof be)return Rv(t,n.value.ast,e)}return[]}};function hP(t){return uP.has(t)}function fP(t){return cP.has(t)}function Rv(t,e,n){let r=t.templateTypeChecker.getSymbolOfNode(e,n);if(r!==null&&r.kind===Dt.Expression&&Dv(r)){let i=t.templateTypeChecker.getTemplateMappingAtTcbLocation(r.tcbLocation),o=`${e.name} is a function and should be invoked: ${e.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}let s=t.templateTypeChecker.getSymbolOfNode(e.receiver,n);if((hP(e.name)||fP(e.name))&&s!==null&&s.kind===Dt.Expression&&Dv(s)){let i=t.templateTypeChecker.getTemplateMappingAtTcbLocation(s.tcbLocation),o=`${e.receiver.name} is a function and should be invoked: ${e.receiver.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}return[]}var dP={code:ee.INTERPOLATED_SIGNAL_NOT_INVOKED,name:qt.INTERPOLATED_SIGNAL_NOT_INVOKED,create:()=>new pP},mP=class extends Sr{constructor(){super(...arguments),this.code=ee.INVALID_BANANA_IN_BOX}visitNode(t,e,n){if(!(n instanceof Or))return[];let r=n.name;if(!r.startsWith("[")||!r.endsWith("]"))return[];let i=n.sourceSpan.toString().replace(`(${r})`,`[(${r.slice(1,-1)})]`);return[t.makeTemplateDiagnostic(n.sourceSpan,`In the two-way binding syntax the parentheses should be inside the brackets, ex. '${i}'.
        Find more at https://angular.dev/guide/templates/two-way-binding`)]}},gP={code:ee.INVALID_BANANA_IN_BOX,name:qt.INVALID_BANANA_IN_BOX,create:()=>new mP},kv=new Map([["ngIf",{directive:"NgIf",builtIn:"@if"}],["ngFor",{directive:"NgFor",builtIn:"@for"}],["ngSwitchCase",{directive:"NgSwitchCase",builtIn:"@switch with @case"}],["ngSwitchDefault",{directive:"NgSwitchDefault",builtIn:"@switch with @default"}]]),yP=class extends Sr{constructor(){super(...arguments),this.code=ee.MISSING_CONTROL_FLOW_DIRECTIVE}run(t,e,n){let r=t.templateTypeChecker.getDirectiveMetadata(e);return!r||!r.isStandalone?[]:super.run(t,e,n)}visitNode(t,e,n){if(!(n instanceof se))return[];let r=n.templateAttrs.find(c=>kv.has(c.name));if(!r)return[];let s=t.templateTypeChecker.getSymbolOfNode(n,e);if(s===null||s.directives.length>0)return[];let i=r.keySpan||r.sourceSpan,o=kv.get(r.name),a=`The \`*${r.name}\` directive was used in the template, but neither the \`${o?.directive}\` directive nor the \`CommonModule\` was imported. Use Angular's built-in control flow ${o?.builtIn} or make sure that either the \`${o?.directive}\` directive or the \`CommonModule\` is included in the \`@Component.imports\` array of this component.`;return[t.makeTemplateDiagnostic(i,a)]}},vP={code:ee.MISSING_CONTROL_FLOW_DIRECTIVE,name:qt.MISSING_CONTROL_FLOW_DIRECTIVE,create:t=>new yP},EP=class extends Sr{constructor(){super(...arguments),this.code=ee.MISSING_NGFOROF_LET}visitNode(t,e,n){let r=n instanceof se;if(!(n instanceof se))return[];if(n.templateAttrs.length===0)return[];let s=n.templateAttrs.find(a=>a.name==="ngFor");return s===void 0?[]:n.variables.length>0?[]:[t.makeTemplateDiagnostic(s.sourceSpan,"Your ngFor is missing a value. Did you forget to add the `let` keyword?")]}},SP={code:ee.MISSING_NGFOROF_LET,name:qt.MISSING_NGFOROF_LET,create:()=>new EP},wP=class extends Sr{constructor(){super(...arguments),this.code=ee.NULLISH_COALESCING_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof pt)||n.operation!=="??")return[];let r=t.templateTypeChecker.getSymbolOfNode(n.left,e);if(r===null||r.kind!==Dt.Expression)return[];let s=r.tsType;if(s.flags&(Fp.default.TypeFlags.Any|Fp.default.TypeFlags.Unknown))return[];if(s.getNonNullableType()!==s)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==Dt.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);return o===null?[]:[t.makeTemplateDiagnostic(o.span,"The left side of this nullish coalescing operation does not include 'null' or 'undefined' in its type, therefore the '??' operator can be safely removed.")]}},TP={code:ee.NULLISH_COALESCING_NOT_NULLABLE,name:qt.NULLISH_COALESCING_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new wP:null},xP=class extends Sr{constructor(){super(...arguments),this.code=ee.OPTIONAL_CHAIN_NOT_NULLABLE}visitNode(t,e,n){if(!(n instanceof or)&&!(n instanceof Ct)&&!(n instanceof sr))return[];let r=t.templateTypeChecker.getSymbolOfNode(n.receiver,e);if(r===null||r.kind!==Dt.Expression)return[];let s=r.tsType;if(s.flags&(Bp.default.TypeFlags.Any|Bp.default.TypeFlags.Unknown))return[];if(s.getNonNullableType()!==s)return[];let i=t.templateTypeChecker.getSymbolOfNode(n,e);if(i.kind!==Dt.Expression)return[];let o=t.templateTypeChecker.getTemplateMappingAtTcbLocation(i.tcbLocation);if(o===null)return[];let a=n instanceof Ct?"the '?.' operator can be replaced with the '.' operator":"the '?.' operator can be safely removed";return[t.makeTemplateDiagnostic(o.span,`The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore ${a}.`)]}},CP={code:ee.OPTIONAL_CHAIN_NOT_NULLABLE,name:qt.OPTIONAL_CHAIN_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new xP:null},Pv=["px","%","em"],IP=class extends Sr{constructor(){super(...arguments),this.code=ee.SUFFIX_NOT_SUPPORTED}visitNode(t,e,n){return n instanceof At?!n.keySpan.toString().startsWith("attr.")||!Pv.some(s=>n.name.endsWith(`.${s}`))?[]:[t.makeTemplateDiagnostic(n.keySpan,`The ${Pv.map(s=>`'.${s}'`).join(", ")} suffixes are only supported on style bindings.`)]:[]}},AP={code:ee.SUFFIX_NOT_SUPPORTED,name:qt.SUFFIX_NOT_SUPPORTED,create:()=>new IP},bP=class extends Sr{constructor(){super(...arguments),this.code=ee.TEXT_ATTRIBUTE_NOT_BINDING}visitNode(t,e,n){if(!(n instanceof It))return[];let r=n.name;if(!r.startsWith("attr.")&&!r.startsWith("style.")&&!r.startsWith("class."))return[];let s;if(r.startsWith("attr.")){let o=r.replace("attr.","");s="Static attributes should be written without the 'attr.' prefix.",n.value&&(s+=` For example, ${o}="${n.value}".`)}else{let o=`[${r}]`,a=n.value==="true"||n.value==="false"?n.value:`'${n.value}'`;s="Attribute, style, and class bindings should be enclosed with square braces.",n.value&&(s+=` For example, '${o}="${a}"'.`)}return[t.makeTemplateDiagnostic(n.sourceSpan,s)]}},NP={code:ee.TEXT_ATTRIBUTE_NOT_BINDING,name:qt.TEXT_ATTRIBUTE_NOT_BINDING,create:()=>new bP},Mv;(function(t){t.Warning="warning",t.Error="error",t.Suppress="suppress"})(Mv||(Mv={}));var _P=[gP,TP,CP,vP,NP,SP,AP,dP],y1=new Set([qt.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION,..._P.map(t=>t.name)]);var E1=[Zu,ep,...tp,...np];var Lv;(function(t){t[t.Fresh=0]="Fresh",t[t.IncrementalTypeScript=1]="IncrementalTypeScript",t[t.IncrementalResource=2]="IncrementalResource"})(Lv||(Lv={}));S();var Hv=require("module"),pB=(0,Hv.createRequire)(R),qp;(function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"})(qp||(qp={}));var Gp="\x1B[0m",FP="\x1B[31m",BP="\x1B[33m",$P="\x1B[36m",hB=`${$P}Debug:${Gp}`,fB=`${BP}Warning:${Gp}`,dB=`${FP}Error:${Gp}`;var zB=(0,Wv.createRequire)(R),i$=new xi("18.0.3");Yp(new eh);0&&(module.exports={angularJitApplicationTransform});
/*! Bundled license information:

@angular/compiler-cli/bundles/chunk-XNL3EK5H.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   * @license Angular v18.0.3
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (**
   *
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-VE7PCF6B.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-AQFTVE7F.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-E2VPC2QT.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-Y4KWPMGX.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-SFKDQKE5.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-7E6Q23KF.js:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/chunk-SBDNBITT.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)

@angular/compiler-cli/bundles/index.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.io/license
   *)
*/
